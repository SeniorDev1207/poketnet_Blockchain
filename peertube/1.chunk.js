(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],Array(167).concat([function(e,t,r){"use strict";function a(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}var s={};function n(e,n,t){if(!t){t=Error}function i(e,t,r){if(typeof n==="string"){return n}else{return n(e,t,r)}}var r=function(n){a(e,n);function e(e,t,r){return n.call(this,i(e,t,r))||this}return e}(t);r.prototype.name=t.name;r.prototype.code=e;s[e]=r}function o(e,t){if(Array.isArray(e)){var r=e.length;e=e.map(function(e){return String(e)});if(r>2){return"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]}else if(r===2){return"one of ".concat(t," ").concat(e[0]," or ").concat(e[1])}else{return"of ".concat(t," ").concat(e[0])}}else{return"of ".concat(t," ").concat(String(e))}}function f(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function u(e,t,r){if(r===undefined||r>e.length){r=e.length}return e.substring(r-t.length,r)===t}function l(e,t,r){if(typeof r!=="number"){r=0}if(r+t.length>e.length){return false}else{return e.indexOf(t,r)!==-1}}n("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);n("ERR_INVALID_ARG_TYPE",function(e,t,r){var n;if(typeof t==="string"&&f(t,"not ")){n="must not be";t=t.replace(/^not /,"")}else{n="must be"}var i;if(u(e," argument")){i="The ".concat(e," ").concat(n," ").concat(o(t,"type"))}else{var a=l(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(a," ").concat(n," ").concat(o(t,"type"))}i+=". Received type ".concat(typeof r);return i},TypeError);n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");n("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});n("ERR_STREAM_PREMATURE_CLOSE","Premature close");n("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});n("ERR_MULTIPLE_CALLBACK","Callback called multiple times");n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");n("ERR_STREAM_WRITE_AFTER_END","write after end");n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);n("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");e.exports.codes=s},function(l,e,c){"use strict";(function(e){var t=Object.keys||function(e){var t=[];for(var r in e){t.push(r)}return t};l.exports=o;var r=c(223);var n=c(227);c(158)(o,r);{var i=t(n.prototype);for(var a=0;a<i.length;a++){var s=i[a];if(!o.prototype[s])o.prototype[s]=n.prototype[s]}}function o(e){if(!(this instanceof o))return new o(e);r.call(this,e);n.call(this,e);this.allowHalfOpen=true;if(e){if(e.readable===false)this.readable=false;if(e.writable===false)this.writable=false;if(e.allowHalfOpen===false){this.allowHalfOpen=false;this.once("end",f)}}}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:false,get:function e(){return this._writableState.highWaterMark}});Object.defineProperty(o.prototype,"writableBuffer",{enumerable:false,get:function e(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(o.prototype,"writableLength",{enumerable:false,get:function e(){return this._writableState.length}});function f(){if(this._writableState.ended)return;e.nextTick(u,this)}function u(e){e.end()}Object.defineProperty(o.prototype,"destroyed",{enumerable:false,get:function e(){if(this._readableState===undefined||this._writableState===undefined){return false}return this._readableState.destroyed&&this._writableState.destroyed},set:function e(t){if(this._readableState===undefined||this._writableState===undefined){return}this._readableState.destroyed=t;this._writableState.destroyed=t}})}).call(this,c(74))},function(e,t,r){"use strict";function a(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}var s={};function n(e,n,t){if(!t){t=Error}function i(e,t,r){if(typeof n==="string"){return n}else{return n(e,t,r)}}var r=function(n){a(e,n);function e(e,t,r){return n.call(this,i(e,t,r))||this}return e}(t);r.prototype.name=t.name;r.prototype.code=e;s[e]=r}function o(e,t){if(Array.isArray(e)){var r=e.length;e=e.map(function(e){return String(e)});if(r>2){return"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]}else if(r===2){return"one of ".concat(t," ").concat(e[0]," or ").concat(e[1])}else{return"of ".concat(t," ").concat(e[0])}}else{return"of ".concat(t," ").concat(String(e))}}function f(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function u(e,t,r){if(r===undefined||r>e.length){r=e.length}return e.substring(r-t.length,r)===t}function l(e,t,r){if(typeof r!=="number"){r=0}if(r+t.length>e.length){return false}else{return e.indexOf(t,r)!==-1}}n("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);n("ERR_INVALID_ARG_TYPE",function(e,t,r){var n;if(typeof t==="string"&&f(t,"not ")){n="must not be";t=t.replace(/^not /,"")}else{n="must be"}var i;if(u(e," argument")){i="The ".concat(e," ").concat(n," ").concat(o(t,"type"))}else{var a=l(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(a," ").concat(n," ").concat(o(t,"type"))}i+=". Received type ".concat(typeof r);return i},TypeError);n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");n("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});n("ERR_STREAM_PREMATURE_CLOSE","Premature close");n("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});n("ERR_MULTIPLE_CALLBACK","Callback called multiple times");n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");n("ERR_STREAM_WRITE_AFTER_END","write after end");n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);n("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");e.exports.codes=s},function(l,e,c){"use strict";(function(e){var t=Object.keys||function(e){var t=[];for(var r in e){t.push(r)}return t};l.exports=o;var r=c(229);var n=c(233);c(158)(o,r);{var i=t(n.prototype);for(var a=0;a<i.length;a++){var s=i[a];if(!o.prototype[s])o.prototype[s]=n.prototype[s]}}function o(e){if(!(this instanceof o))return new o(e);r.call(this,e);n.call(this,e);this.allowHalfOpen=true;if(e){if(e.readable===false)this.readable=false;if(e.writable===false)this.writable=false;if(e.allowHalfOpen===false){this.allowHalfOpen=false;this.once("end",f)}}}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:false,get:function e(){return this._writableState.highWaterMark}});Object.defineProperty(o.prototype,"writableBuffer",{enumerable:false,get:function e(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(o.prototype,"writableLength",{enumerable:false,get:function e(){return this._writableState.length}});function f(){if(this._writableState.ended)return;e.nextTick(u,this)}function u(e){e.end()}Object.defineProperty(o.prototype,"destroyed",{enumerable:false,get:function e(){if(this._readableState===undefined||this._writableState===undefined){return false}return this._readableState.destroyed&&this._writableState.destroyed},set:function e(t){if(this._readableState===undefined||this._writableState===undefined){return}this._readableState.destroyed=t;this._writableState.destroyed=t}})}).call(this,c(74))},function(e,t,r){"use strict";function a(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}var s={};function n(e,n,t){if(!t){t=Error}function i(e,t,r){if(typeof n==="string"){return n}else{return n(e,t,r)}}var r=function(n){a(e,n);function e(e,t,r){return n.call(this,i(e,t,r))||this}return e}(t);r.prototype.name=t.name;r.prototype.code=e;s[e]=r}function o(e,t){if(Array.isArray(e)){var r=e.length;e=e.map(function(e){return String(e)});if(r>2){return"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]}else if(r===2){return"one of ".concat(t," ").concat(e[0]," or ").concat(e[1])}else{return"of ".concat(t," ").concat(e[0])}}else{return"of ".concat(t," ").concat(String(e))}}function f(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function u(e,t,r){if(r===undefined||r>e.length){r=e.length}return e.substring(r-t.length,r)===t}function l(e,t,r){if(typeof r!=="number"){r=0}if(r+t.length>e.length){return false}else{return e.indexOf(t,r)!==-1}}n("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);n("ERR_INVALID_ARG_TYPE",function(e,t,r){var n;if(typeof t==="string"&&f(t,"not ")){n="must not be";t=t.replace(/^not /,"")}else{n="must be"}var i;if(u(e," argument")){i="The ".concat(e," ").concat(n," ").concat(o(t,"type"))}else{var a=l(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(a," ").concat(n," ").concat(o(t,"type"))}i+=". Received type ".concat(typeof r);return i},TypeError);n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");n("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});n("ERR_STREAM_PREMATURE_CLOSE","Premature close");n("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});n("ERR_MULTIPLE_CALLBACK","Callback called multiple times");n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");n("ERR_STREAM_WRITE_AFTER_END","write after end");n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);n("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");e.exports.codes=s},function(l,e,c){"use strict";(function(e){var t=Object.keys||function(e){var t=[];for(var r in e){t.push(r)}return t};l.exports=o;var r=c(236);var n=c(240);c(158)(o,r);{var i=t(n.prototype);for(var a=0;a<i.length;a++){var s=i[a];if(!o.prototype[s])o.prototype[s]=n.prototype[s]}}function o(e){if(!(this instanceof o))return new o(e);r.call(this,e);n.call(this,e);this.allowHalfOpen=true;if(e){if(e.readable===false)this.readable=false;if(e.writable===false)this.writable=false;if(e.allowHalfOpen===false){this.allowHalfOpen=false;this.once("end",f)}}}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:false,get:function e(){return this._writableState.highWaterMark}});Object.defineProperty(o.prototype,"writableBuffer",{enumerable:false,get:function e(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(o.prototype,"writableLength",{enumerable:false,get:function e(){return this._writableState.length}});function f(){if(this._writableState.ended)return;e.nextTick(u,this)}function u(e){e.end()}Object.defineProperty(o.prototype,"destroyed",{enumerable:false,get:function e(){if(this._readableState===undefined||this._writableState===undefined){return false}return this._readableState.destroyed&&this._writableState.destroyed},set:function e(t){if(this._readableState===undefined||this._writableState===undefined){return}this._readableState.destroyed=t;this._writableState.destroyed=t}})}).call(this,c(74))},function(e,t,r){"use strict";function a(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}var s={};function n(e,n,t){if(!t){t=Error}function i(e,t,r){if(typeof n==="string"){return n}else{return n(e,t,r)}}var r=function(n){a(e,n);function e(e,t,r){return n.call(this,i(e,t,r))||this}return e}(t);r.prototype.name=t.name;r.prototype.code=e;s[e]=r}function o(e,t){if(Array.isArray(e)){var r=e.length;e=e.map(function(e){return String(e)});if(r>2){return"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]}else if(r===2){return"one of ".concat(t," ").concat(e[0]," or ").concat(e[1])}else{return"of ".concat(t," ").concat(e[0])}}else{return"of ".concat(t," ").concat(String(e))}}function f(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function u(e,t,r){if(r===undefined||r>e.length){r=e.length}return e.substring(r-t.length,r)===t}function l(e,t,r){if(typeof r!=="number"){r=0}if(r+t.length>e.length){return false}else{return e.indexOf(t,r)!==-1}}n("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);n("ERR_INVALID_ARG_TYPE",function(e,t,r){var n;if(typeof t==="string"&&f(t,"not ")){n="must not be";t=t.replace(/^not /,"")}else{n="must be"}var i;if(u(e," argument")){i="The ".concat(e," ").concat(n," ").concat(o(t,"type"))}else{var a=l(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(a," ").concat(n," ").concat(o(t,"type"))}i+=". Received type ".concat(typeof r);return i},TypeError);n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");n("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});n("ERR_STREAM_PREMATURE_CLOSE","Premature close");n("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});n("ERR_MULTIPLE_CALLBACK","Callback called multiple times");n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");n("ERR_STREAM_WRITE_AFTER_END","write after end");n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);n("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");e.exports.codes=s},function(l,e,c){"use strict";(function(e){var t=Object.keys||function(e){var t=[];for(var r in e){t.push(r)}return t};l.exports=o;var r=c(243);var n=c(247);c(158)(o,r);{var i=t(n.prototype);for(var a=0;a<i.length;a++){var s=i[a];if(!o.prototype[s])o.prototype[s]=n.prototype[s]}}function o(e){if(!(this instanceof o))return new o(e);r.call(this,e);n.call(this,e);this.allowHalfOpen=true;if(e){if(e.readable===false)this.readable=false;if(e.writable===false)this.writable=false;if(e.allowHalfOpen===false){this.allowHalfOpen=false;this.once("end",f)}}}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:false,get:function e(){return this._writableState.highWaterMark}});Object.defineProperty(o.prototype,"writableBuffer",{enumerable:false,get:function e(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(o.prototype,"writableLength",{enumerable:false,get:function e(){return this._writableState.length}});function f(){if(this._writableState.ended)return;e.nextTick(u,this)}function u(e){e.end()}Object.defineProperty(o.prototype,"destroyed",{enumerable:false,get:function e(){if(this._readableState===undefined||this._writableState===undefined){return false}return this._readableState.destroyed&&this._writableState.destroyed},set:function e(t){if(this._readableState===undefined||this._writableState===undefined){return}this._readableState.destroyed=t;this._writableState.destroyed=t}})}).call(this,c(74))},function(e,t,r){"use strict";var n=r(197);var i=Object.keys||function(e){var t=[];for(var r in e){t.push(r)}return t};e.exports=c;var a=Object.create(r(194));a.inherits=r(158);var s=r(255);var o=r(258);a.inherits(c,s);{var f=i(o.prototype);for(var u=0;u<f.length;u++){var l=f[u];if(!c.prototype[l])c.prototype[l]=o.prototype[l]}}function c(e){if(!(this instanceof c))return new c(e);s.call(this,e);o.call(this,e);if(e&&e.readable===false)this.readable=false;if(e&&e.writable===false)this.writable=false;this.allowHalfOpen=true;if(e&&e.allowHalfOpen===false)this.allowHalfOpen=false;this.once("end",d)}Object.defineProperty(c.prototype,"writableHighWaterMark",{enumerable:false,get:function(){return this._writableState.highWaterMark}});function d(){if(this.allowHalfOpen||this._writableState.ended)return;n.nextTick(h,this)}function h(e){e.end()}Object.defineProperty(c.prototype,"destroyed",{get:function(){if(this._readableState===undefined||this._writableState===undefined){return false}return this._readableState.destroyed&&this._writableState.destroyed},set:function(e){if(this._readableState===undefined||this._writableState===undefined){return}this._readableState.destroyed=e;this._writableState.destroyed=e}});c.prototype._destroy=function(e,t){this.push(null);this.end();n.nextTick(t,e)}},,,function(e,t,r){"use strict";function a(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}var s={};function n(e,n,t){if(!t){t=Error}function i(e,t,r){if(typeof n==="string"){return n}else{return n(e,t,r)}}var r=function(n){a(e,n);function e(e,t,r){return n.call(this,i(e,t,r))||this}return e}(t);r.prototype.name=t.name;r.prototype.code=e;s[e]=r}function o(e,t){if(Array.isArray(e)){var r=e.length;e=e.map(function(e){return String(e)});if(r>2){return"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]}else if(r===2){return"one of ".concat(t," ").concat(e[0]," or ").concat(e[1])}else{return"of ".concat(t," ").concat(e[0])}}else{return"of ".concat(t," ").concat(String(e))}}function f(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function u(e,t,r){if(r===undefined||r>e.length){r=e.length}return e.substring(r-t.length,r)===t}function l(e,t,r){if(typeof r!=="number"){r=0}if(r+t.length>e.length){return false}else{return e.indexOf(t,r)!==-1}}n("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);n("ERR_INVALID_ARG_TYPE",function(e,t,r){var n;if(typeof t==="string"&&f(t,"not ")){n="must not be";t=t.replace(/^not /,"")}else{n="must be"}var i;if(u(e," argument")){i="The ".concat(e," ").concat(n," ").concat(o(t,"type"))}else{var a=l(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(a," ").concat(n," ").concat(o(t,"type"))}i+=". Received type ".concat(typeof r);return i},TypeError);n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");n("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});n("ERR_STREAM_PREMATURE_CLOSE","Premature close");n("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});n("ERR_MULTIPLE_CALLBACK","Callback called multiple times");n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");n("ERR_STREAM_WRITE_AFTER_END","write after end");n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);n("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");e.exports.codes=s},function(l,e,c){"use strict";(function(e){var t=Object.keys||function(e){var t=[];for(var r in e){t.push(r)}return t};l.exports=o;var r=c(270);var n=c(274);c(158)(o,r);{var i=t(n.prototype);for(var a=0;a<i.length;a++){var s=i[a];if(!o.prototype[s])o.prototype[s]=n.prototype[s]}}function o(e){if(!(this instanceof o))return new o(e);r.call(this,e);n.call(this,e);this.allowHalfOpen=true;if(e){if(e.readable===false)this.readable=false;if(e.writable===false)this.writable=false;if(e.allowHalfOpen===false){this.allowHalfOpen=false;this.once("end",f)}}}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:false,get:function e(){return this._writableState.highWaterMark}});Object.defineProperty(o.prototype,"writableBuffer",{enumerable:false,get:function e(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(o.prototype,"writableLength",{enumerable:false,get:function e(){return this._writableState.length}});function f(){if(this._writableState.ended)return;e.nextTick(u,this)}function u(e){e.end()}Object.defineProperty(o.prototype,"destroyed",{enumerable:false,get:function e(){if(this._readableState===undefined||this._writableState===undefined){return false}return this._readableState.destroyed&&this._writableState.destroyed},set:function e(t){if(this._readableState===undefined||this._writableState===undefined){return}this._readableState.destroyed=t;this._writableState.destroyed=t}})}).call(this,c(74))},,,function(e,t,r){"use strict";function a(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}var s={};function n(e,n,t){if(!t){t=Error}function i(e,t,r){if(typeof n==="string"){return n}else{return n(e,t,r)}}var r=function(n){a(e,n);function e(e,t,r){return n.call(this,i(e,t,r))||this}return e}(t);r.prototype.name=t.name;r.prototype.code=e;s[e]=r}function o(e,t){if(Array.isArray(e)){var r=e.length;e=e.map(function(e){return String(e)});if(r>2){return"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]}else if(r===2){return"one of ".concat(t," ").concat(e[0]," or ").concat(e[1])}else{return"of ".concat(t," ").concat(e[0])}}else{return"of ".concat(t," ").concat(String(e))}}function f(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function u(e,t,r){if(r===undefined||r>e.length){r=e.length}return e.substring(r-t.length,r)===t}function l(e,t,r){if(typeof r!=="number"){r=0}if(r+t.length>e.length){return false}else{return e.indexOf(t,r)!==-1}}n("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);n("ERR_INVALID_ARG_TYPE",function(e,t,r){var n;if(typeof t==="string"&&f(t,"not ")){n="must not be";t=t.replace(/^not /,"")}else{n="must be"}var i;if(u(e," argument")){i="The ".concat(e," ").concat(n," ").concat(o(t,"type"))}else{var a=l(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(a," ").concat(n," ").concat(o(t,"type"))}i+=". Received type ".concat(typeof r);return i},TypeError);n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");n("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});n("ERR_STREAM_PREMATURE_CLOSE","Premature close");n("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});n("ERR_MULTIPLE_CALLBACK","Callback called multiple times");n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");n("ERR_STREAM_WRITE_AFTER_END","write after end");n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);n("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");e.exports.codes=s},function(l,e,c){"use strict";(function(e){var t=Object.keys||function(e){var t=[];for(var r in e){t.push(r)}return t};l.exports=o;var r=c(293);var n=c(297);c(158)(o,r);{var i=t(n.prototype);for(var a=0;a<i.length;a++){var s=i[a];if(!o.prototype[s])o.prototype[s]=n.prototype[s]}}function o(e){if(!(this instanceof o))return new o(e);r.call(this,e);n.call(this,e);this.allowHalfOpen=true;if(e){if(e.readable===false)this.readable=false;if(e.writable===false)this.writable=false;if(e.allowHalfOpen===false){this.allowHalfOpen=false;this.once("end",f)}}}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:false,get:function e(){return this._writableState.highWaterMark}});Object.defineProperty(o.prototype,"writableBuffer",{enumerable:false,get:function e(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(o.prototype,"writableLength",{enumerable:false,get:function e(){return this._writableState.length}});function f(){if(this._writableState.ended)return;e.nextTick(u,this)}function u(e){e.end()}Object.defineProperty(o.prototype,"destroyed",{enumerable:false,get:function e(){if(this._readableState===undefined||this._writableState===undefined){return false}return this._readableState.destroyed&&this._writableState.destroyed},set:function e(t){if(this._readableState===undefined||this._writableState===undefined){return}this._readableState.destroyed=t;this._writableState.destroyed=t}})}).call(this,c(74))},function(e,t,r){"use strict";function a(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}var s={};function n(e,n,t){if(!t){t=Error}function i(e,t,r){if(typeof n==="string"){return n}else{return n(e,t,r)}}var r=function(n){a(e,n);function e(e,t,r){return n.call(this,i(e,t,r))||this}return e}(t);r.prototype.name=t.name;r.prototype.code=e;s[e]=r}function o(e,t){if(Array.isArray(e)){var r=e.length;e=e.map(function(e){return String(e)});if(r>2){return"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]}else if(r===2){return"one of ".concat(t," ").concat(e[0]," or ").concat(e[1])}else{return"of ".concat(t," ").concat(e[0])}}else{return"of ".concat(t," ").concat(String(e))}}function f(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function u(e,t,r){if(r===undefined||r>e.length){r=e.length}return e.substring(r-t.length,r)===t}function l(e,t,r){if(typeof r!=="number"){r=0}if(r+t.length>e.length){return false}else{return e.indexOf(t,r)!==-1}}n("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);n("ERR_INVALID_ARG_TYPE",function(e,t,r){var n;if(typeof t==="string"&&f(t,"not ")){n="must not be";t=t.replace(/^not /,"")}else{n="must be"}var i;if(u(e," argument")){i="The ".concat(e," ").concat(n," ").concat(o(t,"type"))}else{var a=l(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(a," ").concat(n," ").concat(o(t,"type"))}i+=". Received type ".concat(typeof r);return i},TypeError);n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");n("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});n("ERR_STREAM_PREMATURE_CLOSE","Premature close");n("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});n("ERR_MULTIPLE_CALLBACK","Callback called multiple times");n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");n("ERR_STREAM_WRITE_AFTER_END","write after end");n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);n("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");e.exports.codes=s},function(l,e,c){"use strict";(function(e){var t=Object.keys||function(e){var t=[];for(var r in e){t.push(r)}return t};l.exports=o;var r=c(299);var n=c(303);c(158)(o,r);{var i=t(n.prototype);for(var a=0;a<i.length;a++){var s=i[a];if(!o.prototype[s])o.prototype[s]=n.prototype[s]}}function o(e){if(!(this instanceof o))return new o(e);r.call(this,e);n.call(this,e);this.allowHalfOpen=true;if(e){if(e.readable===false)this.readable=false;if(e.writable===false)this.writable=false;if(e.allowHalfOpen===false){this.allowHalfOpen=false;this.once("end",f)}}}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:false,get:function e(){return this._writableState.highWaterMark}});Object.defineProperty(o.prototype,"writableBuffer",{enumerable:false,get:function e(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(o.prototype,"writableLength",{enumerable:false,get:function e(){return this._writableState.length}});function f(){if(this._writableState.ended)return;e.nextTick(u,this)}function u(e){e.end()}Object.defineProperty(o.prototype,"destroyed",{enumerable:false,get:function e(){if(this._readableState===undefined||this._writableState===undefined){return false}return this._readableState.destroyed&&this._writableState.destroyed},set:function e(t){if(this._readableState===undefined||this._writableState===undefined){return}this._readableState.destroyed=t;this._writableState.destroyed=t}})}).call(this,c(74))},function(e,t,r){"use strict";function a(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}var s={};function n(e,n,t){if(!t){t=Error}function i(e,t,r){if(typeof n==="string"){return n}else{return n(e,t,r)}}var r=function(n){a(e,n);function e(e,t,r){return n.call(this,i(e,t,r))||this}return e}(t);r.prototype.name=t.name;r.prototype.code=e;s[e]=r}function o(e,t){if(Array.isArray(e)){var r=e.length;e=e.map(function(e){return String(e)});if(r>2){return"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]}else if(r===2){return"one of ".concat(t," ").concat(e[0]," or ").concat(e[1])}else{return"of ".concat(t," ").concat(e[0])}}else{return"of ".concat(t," ").concat(String(e))}}function f(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function u(e,t,r){if(r===undefined||r>e.length){r=e.length}return e.substring(r-t.length,r)===t}function l(e,t,r){if(typeof r!=="number"){r=0}if(r+t.length>e.length){return false}else{return e.indexOf(t,r)!==-1}}n("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);n("ERR_INVALID_ARG_TYPE",function(e,t,r){var n;if(typeof t==="string"&&f(t,"not ")){n="must not be";t=t.replace(/^not /,"")}else{n="must be"}var i;if(u(e," argument")){i="The ".concat(e," ").concat(n," ").concat(o(t,"type"))}else{var a=l(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(a," ").concat(n," ").concat(o(t,"type"))}i+=". Received type ".concat(typeof r);return i},TypeError);n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");n("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});n("ERR_STREAM_PREMATURE_CLOSE","Premature close");n("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});n("ERR_MULTIPLE_CALLBACK","Callback called multiple times");n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");n("ERR_STREAM_WRITE_AFTER_END","write after end");n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);n("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");e.exports.codes=s},function(l,e,c){"use strict";(function(e){var t=Object.keys||function(e){var t=[];for(var r in e){t.push(r)}return t};l.exports=o;var r=c(309);var n=c(313);c(158)(o,r);{var i=t(n.prototype);for(var a=0;a<i.length;a++){var s=i[a];if(!o.prototype[s])o.prototype[s]=n.prototype[s]}}function o(e){if(!(this instanceof o))return new o(e);r.call(this,e);n.call(this,e);this.allowHalfOpen=true;if(e){if(e.readable===false)this.readable=false;if(e.writable===false)this.writable=false;if(e.allowHalfOpen===false){this.allowHalfOpen=false;this.once("end",f)}}}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:false,get:function e(){return this._writableState.highWaterMark}});Object.defineProperty(o.prototype,"writableBuffer",{enumerable:false,get:function e(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(o.prototype,"writableLength",{enumerable:false,get:function e(){return this._writableState.length}});function f(){if(this._writableState.ended)return;e.nextTick(u,this)}function u(e){e.end()}Object.defineProperty(o.prototype,"destroyed",{enumerable:false,get:function e(){if(this._readableState===undefined||this._writableState===undefined){return false}return this._readableState.destroyed&&this._writableState.destroyed},set:function e(t){if(this._readableState===undefined||this._writableState===undefined){return}this._readableState.destroyed=t;this._writableState.destroyed=t}})}).call(this,c(74))},function(e,t,r){"use strict";function a(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}var s={};function n(e,n,t){if(!t){t=Error}function i(e,t,r){if(typeof n==="string"){return n}else{return n(e,t,r)}}var r=function(n){a(e,n);function e(e,t,r){return n.call(this,i(e,t,r))||this}return e}(t);r.prototype.name=t.name;r.prototype.code=e;s[e]=r}function o(e,t){if(Array.isArray(e)){var r=e.length;e=e.map(function(e){return String(e)});if(r>2){return"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]}else if(r===2){return"one of ".concat(t," ").concat(e[0]," or ").concat(e[1])}else{return"of ".concat(t," ").concat(e[0])}}else{return"of ".concat(t," ").concat(String(e))}}function f(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function u(e,t,r){if(r===undefined||r>e.length){r=e.length}return e.substring(r-t.length,r)===t}function l(e,t,r){if(typeof r!=="number"){r=0}if(r+t.length>e.length){return false}else{return e.indexOf(t,r)!==-1}}n("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);n("ERR_INVALID_ARG_TYPE",function(e,t,r){var n;if(typeof t==="string"&&f(t,"not ")){n="must not be";t=t.replace(/^not /,"")}else{n="must be"}var i;if(u(e," argument")){i="The ".concat(e," ").concat(n," ").concat(o(t,"type"))}else{var a=l(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(a," ").concat(n," ").concat(o(t,"type"))}i+=". Received type ".concat(typeof r);return i},TypeError);n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");n("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});n("ERR_STREAM_PREMATURE_CLOSE","Premature close");n("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});n("ERR_MULTIPLE_CALLBACK","Callback called multiple times");n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");n("ERR_STREAM_WRITE_AFTER_END","write after end");n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);n("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");e.exports.codes=s},function(l,e,c){"use strict";(function(e){var t=Object.keys||function(e){var t=[];for(var r in e){t.push(r)}return t};l.exports=o;var r=c(316);var n=c(320);c(158)(o,r);{var i=t(n.prototype);for(var a=0;a<i.length;a++){var s=i[a];if(!o.prototype[s])o.prototype[s]=n.prototype[s]}}function o(e){if(!(this instanceof o))return new o(e);r.call(this,e);n.call(this,e);this.allowHalfOpen=true;if(e){if(e.readable===false)this.readable=false;if(e.writable===false)this.writable=false;if(e.allowHalfOpen===false){this.allowHalfOpen=false;this.once("end",f)}}}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:false,get:function e(){return this._writableState.highWaterMark}});Object.defineProperty(o.prototype,"writableBuffer",{enumerable:false,get:function e(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(o.prototype,"writableLength",{enumerable:false,get:function e(){return this._writableState.length}});function f(){if(this._writableState.ended)return;e.nextTick(u,this)}function u(e){e.end()}Object.defineProperty(o.prototype,"destroyed",{enumerable:false,get:function e(){if(this._readableState===undefined||this._writableState===undefined){return false}return this._readableState.destroyed&&this._writableState.destroyed},set:function e(t){if(this._readableState===undefined||this._writableState===undefined){return}this._readableState.destroyed=t;this._writableState.destroyed=t}})}).call(this,c(74))},function(e,t,r){"use strict";function a(e,t){e.prototype=Object.create(t.prototype);e.prototype.constructor=e;e.__proto__=t}var s={};function n(e,n,t){if(!t){t=Error}function i(e,t,r){if(typeof n==="string"){return n}else{return n(e,t,r)}}var r=function(n){a(e,n);function e(e,t,r){return n.call(this,i(e,t,r))||this}return e}(t);r.prototype.name=t.name;r.prototype.code=e;s[e]=r}function o(e,t){if(Array.isArray(e)){var r=e.length;e=e.map(function(e){return String(e)});if(r>2){return"one of ".concat(t," ").concat(e.slice(0,r-1).join(", "),", or ")+e[r-1]}else if(r===2){return"one of ".concat(t," ").concat(e[0]," or ").concat(e[1])}else{return"of ".concat(t," ").concat(e[0])}}else{return"of ".concat(t," ").concat(String(e))}}function f(e,t,r){return e.substr(!r||r<0?0:+r,t.length)===t}function u(e,t,r){if(r===undefined||r>e.length){r=e.length}return e.substring(r-t.length,r)===t}function l(e,t,r){if(typeof r!=="number"){r=0}if(r+t.length>e.length){return false}else{return e.indexOf(t,r)!==-1}}n("ERR_INVALID_OPT_VALUE",function(e,t){return'The value "'+t+'" is invalid for option "'+e+'"'},TypeError);n("ERR_INVALID_ARG_TYPE",function(e,t,r){var n;if(typeof t==="string"&&f(t,"not ")){n="must not be";t=t.replace(/^not /,"")}else{n="must be"}var i;if(u(e," argument")){i="The ".concat(e," ").concat(n," ").concat(o(t,"type"))}else{var a=l(e,".")?"property":"argument";i='The "'.concat(e,'" ').concat(a," ").concat(n," ").concat(o(t,"type"))}i+=". Received type ".concat(typeof r);return i},TypeError);n("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF");n("ERR_METHOD_NOT_IMPLEMENTED",function(e){return"The "+e+" method is not implemented"});n("ERR_STREAM_PREMATURE_CLOSE","Premature close");n("ERR_STREAM_DESTROYED",function(e){return"Cannot call "+e+" after a stream was destroyed"});n("ERR_MULTIPLE_CALLBACK","Callback called multiple times");n("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable");n("ERR_STREAM_WRITE_AFTER_END","write after end");n("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError);n("ERR_UNKNOWN_ENCODING",function(e){return"Unknown encoding: "+e},TypeError);n("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event");e.exports.codes=s},function(l,e,c){"use strict";(function(e){var t=Object.keys||function(e){var t=[];for(var r in e){t.push(r)}return t};l.exports=o;var r=c(324);var n=c(328);c(158)(o,r);{var i=t(n.prototype);for(var a=0;a<i.length;a++){var s=i[a];if(!o.prototype[s])o.prototype[s]=n.prototype[s]}}function o(e){if(!(this instanceof o))return new o(e);r.call(this,e);n.call(this,e);this.allowHalfOpen=true;if(e){if(e.readable===false)this.readable=false;if(e.writable===false)this.writable=false;if(e.allowHalfOpen===false){this.allowHalfOpen=false;this.once("end",f)}}}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:false,get:function e(){return this._writableState.highWaterMark}});Object.defineProperty(o.prototype,"writableBuffer",{enumerable:false,get:function e(){return this._writableState&&this._writableState.getBuffer()}});Object.defineProperty(o.prototype,"writableLength",{enumerable:false,get:function e(){return this._writableState.length}});function f(){if(this._writableState.ended)return;e.nextTick(u,this)}function u(e){e.end()}Object.defineProperty(o.prototype,"destroyed",{enumerable:false,get:function e(){if(this._readableState===undefined||this._writableState===undefined){return false}return this._readableState.destroyed&&this._writableState.destroyed},set:function e(t){if(this._readableState===undefined||this._writableState===undefined){return}this._readableState.destroyed=t;this._writableState.destroyed=t}})}).call(this,c(74))},,function(e,t,r){const n=r(242);const a=r(368);const i=new n;const s=typeof window!=="undefined"?window:self;const o=s.crypto||s.msCrypto||{};let f=o.subtle||o.webkitSubtle;function u(e){return i.digest(e)}try{f.digest({name:"sha-1"},new Uint8Array).catch(function(){f=false})}catch(e){f=false}function l(n,i){if(!f){if(typeof window!=="undefined"){a(n,function e(t,r){if(t){i(u(n));return}i(r)})}else{queueMicrotask(()=>i(u(n)))}return}if(typeof n==="string"){n=c(n)}f.digest({name:"sha-1"},n).then(function e(t){i(d(new Uint8Array(t)))},function e(){i(u(n))})}function c(t){const r=t.length;const n=new Uint8Array(r);for(let e=0;e<r;e++){n[e]=t.charCodeAt(e)}return n}function d(t){const r=t.length;const n=[];for(let e=0;e<r;e++){const i=t[e];n.push((i>>>4).toString(16));n.push((i&15).toString(16))}return n.join("")}e.exports=l;e.exports.sync=u},function(e,g,t){(function(e){function t(e){if(Array.isArray){return Array.isArray(e)}return b(e)==="[object Array]"}g.isArray=t;function r(e){return typeof e==="boolean"}g.isBoolean=r;function n(e){return e===null}g.isNull=n;function i(e){return e==null}g.isNullOrUndefined=i;function a(e){return typeof e==="number"}g.isNumber=a;function s(e){return typeof e==="string"}g.isString=s;function o(e){return typeof e==="symbol"}g.isSymbol=o;function f(e){return e===void 0}g.isUndefined=f;function u(e){return b(e)==="[object RegExp]"}g.isRegExp=u;function l(e){return typeof e==="object"&&e!==null}g.isObject=l;function c(e){return b(e)==="[object Date]"}g.isDate=c;function d(e){return b(e)==="[object Error]"||e instanceof Error}g.isError=d;function h(e){return typeof e==="function"}g.isFunction=h;function p(e){return e===null||typeof e==="boolean"||typeof e==="number"||typeof e==="string"||typeof e==="symbol"||typeof e==="undefined"}g.isPrimitive=p;g.isBuffer=e.isBuffer;function b(e){return Object.prototype.toString.call(e)}}).call(this,t(73).Buffer)},,function(e,t,r){var n=e.exports;n.encode=r(335);n.decode=r(336);n.byteLength=n.encodingLength=function(e){return n.encode(e).length}},function(t,e,r){"use strict";(function(o){if(typeof o==="undefined"||!o.version||o.version.indexOf("v0.")===0||o.version.indexOf("v1.")===0&&o.version.indexOf("v1.8.")!==0){t.exports={nextTick:e}}else{t.exports=o}function e(t,r,n,i){if(typeof t!=="function"){throw new TypeError('"callback" argument must be a function')}var e=arguments.length;var a,s;switch(e){case 0:case 1:return o.nextTick(t);case 2:return o.nextTick(function e(){t.call(null,r)});case 3:return o.nextTick(function e(){t.call(null,r,n)});case 4:return o.nextTick(function e(){t.call(null,r,n,i)});default:a=new Array(e-1);s=0;while(s<a.length){a[s++]=arguments[s]}return o.nextTick(function e(){t.apply(null,a)})}}}).call(this,r(74))},,function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});function n(e){var t=e>>3;if(e%8!==0)t++;return t}var i=function(){function e(e,t){if(e===void 0){e=0}var r=t===null||t===void 0?void 0:t.grow;this.grow=r&&isFinite(r)&&n(r)||r||0;this.buffer=typeof e==="number"?new Uint8Array(n(e)):e}e.prototype.get=function(e){var t=e>>3;return t<this.buffer.length&&!!(this.buffer[t]&128>>e%8)};e.prototype.set=function(e,t){if(t===void 0){t=true}var r=e>>3;if(t){if(this.buffer.length<r+1){var n=Math.max(r+1,Math.min(2*this.buffer.length,this.grow));if(n<=this.grow){var i=new Uint8Array(n);i.set(this.buffer);this.buffer=i}}this.buffer[r]|=128>>e%8}else if(r<this.buffer.length){this.buffer[r]&=~(128>>e%8)}};e.prototype.forEach=function(e,t,r){if(t===void 0){t=0}if(r===void 0){r=this.buffer.length*8}for(var n=t,i=n>>3,a=128>>n%8,s=this.buffer[i];n<r;n++){e(!!(s&a),n);a=a===1?(s=this.buffer[++i],128):a>>1}};return e}();t.default=i},function(e,t,r){(function(d){var u=r(315);var h=r(481);var l=4294967295;var p=t;var b=t.containers={moov:["mvhd","meta","traks","mvex"],trak:["tkhd","tref","trgr","edts","meta","mdia","udta"],edts:["elst"],mdia:["mdhd","hdlr","elng","minf"],minf:["vmhd","smhd","hmhd","sthd","nmhd","dinf","stbl"],dinf:["dref"],stbl:["stsd","stts","ctts","cslg","stsc","stsz","stz2","stco","co64","stss","stsh","padb","stdp","sdtp","sbgps","sgpds","subss","saizs","saios"],mvex:["mehd","trexs","leva"],moof:["mfhd","meta","trafs"],traf:["tfhd","tfdt","trun","sbgps","sgpds","subss","saizs","saios","meta"]};p.encode=function(e,t,r){p.encodingLength(e);r=r||0;t=t||d.alloc(e.length);return p._encode(e,t,r)};p._encode=function(r,n,e){var t=r.type;var i=r.length;if(i>l){i=1}n.writeUInt32BE(i,e);n.write(r.type,e+4,4,"ascii");var a=e+8;if(i===1){u.encode(r.length,n,a);a+=8}if(h.fullBoxes[t]){n.writeUInt32BE(r.flags||0,a);n.writeUInt8(r.version||0,a);a+=4}if(b[t]){var s=b[t];s.forEach(function(e){if(e.length===5){var t=r[e]||[];e=e.substr(0,4);t.forEach(function(e){p._encode(e,n,a);a+=p.encode.bytes})}else if(r[e]){p._encode(r[e],n,a);a+=p.encode.bytes}});if(r.otherBoxes){r.otherBoxes.forEach(function(e){p._encode(e,n,a);a+=p.encode.bytes})}}else if(h[t]){var o=h[t].encode;o(r,n,a);a+=o.bytes}else if(r.buffer){var f=r.buffer;f.copy(n,a);a+=r.buffer.length}else{throw new Error("Either `type` must be set to a known type (not'"+t+"') or `buffer` must be set")}p.encode.bytes=a-e;return n};p.readHeaders=function(e,t,r){t=t||0;r=r||e.length;if(r-t<8){return 8}var n=e.readUInt32BE(t);var i=e.toString("ascii",t+4,t+8);var a=t+8;if(n===1){if(r-t<16){return 16}n=u.decode(e,a);a+=8}var s;var o;if(h.fullBoxes[i]){s=e.readUInt8(a);o=e.readUInt32BE(a)&16777215;a+=4}return{length:n,headersLen:a-t,contentLen:n-(a-t),type:i,version:s,flags:o}};p.decode=function(e,t,r){t=t||0;r=r||e.length;var n=p.readHeaders(e,t,r);if(!n||n.length>r-t){throw new Error("Data too short")}return p.decodeWithoutHeaders(n,e,t+n.headersLen,t+n.length)};p.decodeWithoutHeaders=function(e,t,r,n){r=r||0;n=n||t.length;var i=e.type;var a={};if(b[i]){a.otherBoxes=[];var s=b[i];var o=r;while(n-o>=8){var f=p.decode(t,o,n);o+=f.length;if(s.indexOf(f.type)>=0){a[f.type]=f}else if(s.indexOf(f.type+"s")>=0){var u=f.type+"s";var l=a[u]=a[u]||[];l.push(f)}else{a.otherBoxes.push(f)}}}else if(h[i]){var c=h[i].decode;a=c(t,r,n)}else{a.buffer=d.from(t.slice(r,n))}a.length=e.length;a.contentLen=e.contentLen;a.type=e.type;a.version=e.version;a.flags=e.flags;return a};p.encodingLength=function(n){var e=n.type;var i=8;if(h.fullBoxes[e]){i+=4}if(b[e]){var t=b[e];t.forEach(function(t){if(t.length===5){var e=n[t]||[];t=t.substr(0,4);e.forEach(function(e){e.type=t;i+=p.encodingLength(e)})}else if(n[t]){var r=n[t];r.type=t;i+=p.encodingLength(r)}});if(n.otherBoxes){n.otherBoxes.forEach(function(e){i+=p.encodingLength(e)})}}else if(h[e]){i+=h[e].encodingLength(n)}else if(n.buffer){i+=n.buffer.length}else{throw new Error("Either `type` must be set to a known type (not'"+e+"') or `buffer` must be set")}if(i>l){i+=8}n.length=i;return i}}).call(this,r(73).Buffer)},function(e,t,r){"use strict";var h=r(167).codes.ERR_STREAM_PREMATURE_CLOSE;function p(n){var i=false;return function(){if(i)return;i=true;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}n.apply(this,t)}}function b(){}function g(e){return e.setHeader&&typeof e.abort==="function"}function v(r,e,n){if(typeof e==="function")return v(r,null,e);if(!e)e={};n=p(n||b);var i=e.readable||e.readable!==false&&r.readable;var a=e.writable||e.writable!==false&&r.writable;var t=function e(){if(!r.writable)o()};var s=r._writableState&&r._writableState.finished;var o=function e(){a=false;s=true;if(!i)n.call(r)};var f=r._readableState&&r._readableState.endEmitted;var u=function e(){i=false;f=true;if(!a)n.call(r)};var l=function e(t){n.call(r,t)};var c=function e(){var t;if(i&&!f){if(!r._readableState||!r._readableState.ended)t=new h;return n.call(r,t)}if(a&&!s){if(!r._writableState||!r._writableState.ended)t=new h;return n.call(r,t)}};var d=function e(){r.req.on("finish",o)};if(g(r)){r.on("complete",o);r.on("abort",c);if(r.req)d();else r.on("request",d)}else if(a&&!r._writableState){r.on("end",t);r.on("close",t)}r.on("end",u);r.on("finish",o);if(e.error!==false)r.on("error",l);r.on("close",c);return function(){r.removeListener("complete",o);r.removeListener("abort",c);r.removeListener("request",d);if(r.req)r.req.removeListener("finish",o);r.removeListener("end",t);r.removeListener("close",t);r.removeListener("finish",o);r.removeListener("end",u);r.removeListener("error",l);r.removeListener("close",c)}}e.exports=v},function(e,t,r){"use strict";var h=r(169).codes.ERR_STREAM_PREMATURE_CLOSE;function p(n){var i=false;return function(){if(i)return;i=true;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}n.apply(this,t)}}function b(){}function g(e){return e.setHeader&&typeof e.abort==="function"}function v(r,e,n){if(typeof e==="function")return v(r,null,e);if(!e)e={};n=p(n||b);var i=e.readable||e.readable!==false&&r.readable;var a=e.writable||e.writable!==false&&r.writable;var t=function e(){if(!r.writable)o()};var s=r._writableState&&r._writableState.finished;var o=function e(){a=false;s=true;if(!i)n.call(r)};var f=r._readableState&&r._readableState.endEmitted;var u=function e(){i=false;f=true;if(!a)n.call(r)};var l=function e(t){n.call(r,t)};var c=function e(){var t;if(i&&!f){if(!r._readableState||!r._readableState.ended)t=new h;return n.call(r,t)}if(a&&!s){if(!r._writableState||!r._writableState.ended)t=new h;return n.call(r,t)}};var d=function e(){r.req.on("finish",o)};if(g(r)){r.on("complete",o);r.on("abort",c);if(r.req)d();else r.on("request",d)}else if(a&&!r._writableState){r.on("end",t);r.on("close",t)}r.on("end",u);r.on("finish",o);if(e.error!==false)r.on("error",l);r.on("close",c);return function(){r.removeListener("complete",o);r.removeListener("abort",c);r.removeListener("request",d);if(r.req)r.req.removeListener("finish",o);r.removeListener("end",t);r.removeListener("close",t);r.removeListener("finish",o);r.removeListener("end",u);r.removeListener("error",l);r.removeListener("close",c)}}e.exports=v},function(e,t,r){"use strict";var h=r(171).codes.ERR_STREAM_PREMATURE_CLOSE;function p(n){var i=false;return function(){if(i)return;i=true;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}n.apply(this,t)}}function b(){}function g(e){return e.setHeader&&typeof e.abort==="function"}function v(r,e,n){if(typeof e==="function")return v(r,null,e);if(!e)e={};n=p(n||b);var i=e.readable||e.readable!==false&&r.readable;var a=e.writable||e.writable!==false&&r.writable;var t=function e(){if(!r.writable)o()};var s=r._writableState&&r._writableState.finished;var o=function e(){a=false;s=true;if(!i)n.call(r)};var f=r._readableState&&r._readableState.endEmitted;var u=function e(){i=false;f=true;if(!a)n.call(r)};var l=function e(t){n.call(r,t)};var c=function e(){var t;if(i&&!f){if(!r._readableState||!r._readableState.ended)t=new h;return n.call(r,t)}if(a&&!s){if(!r._writableState||!r._writableState.ended)t=new h;return n.call(r,t)}};var d=function e(){r.req.on("finish",o)};if(g(r)){r.on("complete",o);r.on("abort",c);if(r.req)d();else r.on("request",d)}else if(a&&!r._writableState){r.on("end",t);r.on("close",t)}r.on("end",u);r.on("finish",o);if(e.error!==false)r.on("error",l);r.on("close",c);return function(){r.removeListener("complete",o);r.removeListener("abort",c);r.removeListener("request",d);if(r.req)r.req.removeListener("finish",o);r.removeListener("end",t);r.removeListener("close",t);r.removeListener("finish",o);r.removeListener("end",u);r.removeListener("error",l);r.removeListener("close",c)}}e.exports=v},function(e,t,r){"use strict";var h=r(173).codes.ERR_STREAM_PREMATURE_CLOSE;function p(n){var i=false;return function(){if(i)return;i=true;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}n.apply(this,t)}}function b(){}function g(e){return e.setHeader&&typeof e.abort==="function"}function v(r,e,n){if(typeof e==="function")return v(r,null,e);if(!e)e={};n=p(n||b);var i=e.readable||e.readable!==false&&r.readable;var a=e.writable||e.writable!==false&&r.writable;var t=function e(){if(!r.writable)o()};var s=r._writableState&&r._writableState.finished;var o=function e(){a=false;s=true;if(!i)n.call(r)};var f=r._readableState&&r._readableState.endEmitted;var u=function e(){i=false;f=true;if(!a)n.call(r)};var l=function e(t){n.call(r,t)};var c=function e(){var t;if(i&&!f){if(!r._readableState||!r._readableState.ended)t=new h;return n.call(r,t)}if(a&&!s){if(!r._writableState||!r._writableState.ended)t=new h;return n.call(r,t)}};var d=function e(){r.req.on("finish",o)};if(g(r)){r.on("complete",o);r.on("abort",c);if(r.req)d();else r.on("request",d)}else if(a&&!r._writableState){r.on("end",t);r.on("close",t)}r.on("end",u);r.on("finish",o);if(e.error!==false)r.on("error",l);r.on("close",c);return function(){r.removeListener("complete",o);r.removeListener("abort",c);r.removeListener("request",d);if(r.req)r.req.removeListener("finish",o);r.removeListener("end",t);r.removeListener("close",t);r.removeListener("finish",o);r.removeListener("end",u);r.removeListener("error",l);r.removeListener("close",c)}}e.exports=v},function(e,t,r){(function(l){/*! simple-get. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.exports=y;const t=r(221);const c=r(384);const d=r(250);const h=r(397);const p=r(166);const b=r(261);const g=r(207);const v=e=>e!==null&&typeof e==="object"&&typeof e.pipe==="function";function y(r,n){r=Object.assign({maxRedirects:10},typeof r==="string"?{url:r}:r);n=p(n);if(r.url){const{hostname:s,port:o,protocol:i,auth:f,path:u}=g.parse(r.url);delete r.url;if(!s&&!o&&!i&&!f)r.path=u;else Object.assign(r,{hostname:s,port:o,protocol:i,auth:f,path:u})}const t={"accept-encoding":"gzip, deflate"};if(r.headers)Object.keys(r.headers).forEach(e=>t[e.toLowerCase()]=r.headers[e]);r.headers=t;let e;if(r.body){e=r.json&&!v(r.body)?JSON.stringify(r.body):r.body}else if(r.form){e=typeof r.form==="string"?r.form:b.stringify(r.form);r.headers["content-type"]="application/x-www-form-urlencoded"}if(e){if(!r.method)r.method="POST";if(!v(e))r.headers["content-length"]=l.byteLength(e);if(r.json&&!r.form)r.headers["content-type"]="application/json"}delete r.body;delete r.form;if(r.json)r.headers.accept="application/json";if(r.method)r.method=r.method.toUpperCase();const i=r.protocol==="https:"?h:d;const a=i.request(r,e=>{if(r.followRedirects!==false&&e.statusCode>=300&&e.statusCode<400&&e.headers.location){r.url=e.headers.location;delete r.headers.host;e.resume();if(r.method==="POST"&&[301,302].includes(e.statusCode)){r.method="GET";delete r.headers["content-length"];delete r.headers["content-type"]}if(r.maxRedirects--===0)return n(new Error("too many redirects"));else return y(r,n)}const t=typeof c==="function"&&r.method!=="HEAD";n(null,t?c(e):e)});a.on("timeout",()=>{a.abort();n(new Error("Request timed out"))});a.on("error",n);if(v(e))e.on("error",n).pipe(a);else a.end(e);return a}y.concat=(n,i)=>{return y(n,(e,r)=>{if(e)return i(e);t(r,(e,t)=>{if(e)return i(e);if(n.json){try{t=JSON.parse(t.toString())}catch(e){return i(e,r,t)}}i(null,r,t)})})};["get","post","put","patch","head","delete"].forEach(r=>{y[r]=(e,t)=>{if(typeof e==="string")e={url:e};return y(Object.assign({method:r.toUpperCase()},e),t)}})}).call(this,r(73).Buffer)},function(e,t,r){var n=r(73);var i=n.Buffer;function a(e,t){for(var r in e){t[r]=e[r]}}if(i.from&&i.alloc&&i.allocUnsafe&&i.allocUnsafeSlow){e.exports=n}else{a(n,t);t.Buffer=s}function s(e,t,r){return i(e,t,r)}a(i,s);s.from=function(e,t,r){if(typeof e==="number"){throw new TypeError("Argument must not be a number")}return i(e,t,r)};s.alloc=function(e,t,r){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}var n=i(e);if(t!==undefined){if(typeof r==="string"){n.fill(t,r)}else{n.fill(t)}}else{n.fill(0)}return n};s.allocUnsafe=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return i(e)};s.allocUnsafeSlow=function(e){if(typeof e!=="number"){throw new TypeError("Argument must be a number")}return n.SlowBuffer(e)}},function(e,t,r){"use strict";var C=r(392);var I=r(394);t.parse=s;t.resolve=f;t.resolveObject=u;t.format=o;t.Url=T;function T(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var D=/^([a-z0-9.+-]+:)/i,n=/:[0-9]*$/,B=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,i=["<",">",'"',"`"," ","\r","\n","\t"],a=["{","}","|","\\","^","`"].concat(i),U=["'"].concat(a),N=["%","/","?",";","#"].concat(U),W=["/","?","#"],q=255,H=/^[+a-z0-9A-Z_-]{0,63}$/,F=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,K={javascript:true,"javascript:":true},V={javascript:true,"javascript:":true},z={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},G=r(261);function s(e,t,r){if(e&&I.isObject(e)&&e instanceof T)return e;var n=new T;n.parse(e,t,r);return n}T.prototype.parse=function(e,t,r){if(!I.isString(e)){throw new TypeError("Parameter 'url' must be a string, not "+typeof e)}var n=e.indexOf("?"),i=n!==-1&&n<e.indexOf("#")?"?":"#",a=e.split(i),s=/\\/g;a[0]=a[0].replace(s,"/");e=a.join(i);var o=e;o=o.trim();if(!r&&e.split("#").length===1){var f=B.exec(o);if(f){this.path=o;this.href=o;this.pathname=f[1];if(f[2]){this.search=f[2];if(t){this.query=G.parse(this.search.substr(1))}else{this.query=this.search.substr(1)}}else if(t){this.search="";this.query={}}return this}}var u=D.exec(o);if(u){u=u[0];var l=u.toLowerCase();this.protocol=l;o=o.substr(u.length)}if(r||u||o.match(/^\/\/[^@\/]+@[^@\/]+/)){var c=o.substr(0,2)==="//";if(c&&!(u&&V[u])){o=o.substr(2);this.slashes=true}}if(!V[u]&&(c||u&&!z[u])){var d=-1;for(var h=0;h<W.length;h++){var p=o.indexOf(W[h]);if(p!==-1&&(d===-1||p<d))d=p}var b,g;if(d===-1){g=o.lastIndexOf("@")}else{g=o.lastIndexOf("@",d)}if(g!==-1){b=o.slice(0,g);o=o.slice(g+1);this.auth=decodeURIComponent(b)}d=-1;for(var h=0;h<N.length;h++){var p=o.indexOf(N[h]);if(p!==-1&&(d===-1||p<d))d=p}if(d===-1)d=o.length;this.host=o.slice(0,d);o=o.slice(d);this.parseHost();this.hostname=this.hostname||"";var v=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!v){var y=this.hostname.split(/\./);for(var h=0,_=y.length;h<_;h++){var m=y[h];if(!m)continue;if(!m.match(H)){var w="";for(var S=0,E=m.length;S<E;S++){if(m.charCodeAt(S)>127){w+="x"}else{w+=m[S]}}if(!w.match(H)){var R=y.slice(0,h);var k=y.slice(h+1);var x=m.match(F);if(x){R.push(x[1]);k.unshift(x[2])}if(k.length){o="/"+k.join(".")+o}this.hostname=R.join(".");break}}}}if(this.hostname.length>q){this.hostname=""}else{this.hostname=this.hostname.toLowerCase()}if(!v){this.hostname=C.toASCII(this.hostname)}var T=this.port?":"+this.port:"";var M=this.hostname||"";this.host=M+T;this.href+=this.host;if(v){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(o[0]!=="/"){o="/"+o}}}if(!K[l]){for(var h=0,_=U.length;h<_;h++){var O=U[h];if(o.indexOf(O)===-1)continue;var L=encodeURIComponent(O);if(L===O){L=escape(O)}o=o.split(O).join(L)}}var A=o.indexOf("#");if(A!==-1){this.hash=o.substr(A);o=o.slice(0,A)}var P=o.indexOf("?");if(P!==-1){this.search=o.substr(P);this.query=o.substr(P+1);if(t){this.query=G.parse(this.query)}o=o.slice(0,P)}else if(t){this.search="";this.query={}}if(o)this.pathname=o;if(z[l]&&this.hostname&&!this.pathname){this.pathname="/"}if(this.pathname||this.search){var T=this.pathname||"";var j=this.search||"";this.path=T+j}this.href=this.format();return this};function o(e){if(I.isString(e))e=s(e);if(!(e instanceof T))return T.prototype.format.call(e);return e.format()}T.prototype.format=function(){var e=this.auth||"";if(e){e=encodeURIComponent(e);e=e.replace(/%3A/i,":");e+="@"}var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=false,a="";if(this.host){i=e+this.host}else if(this.hostname){i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){i+=":"+this.port}}if(this.query&&I.isObject(this.query)&&Object.keys(this.query).length){a=G.stringify(this.query)}var s=this.search||a&&"?"+a||"";if(t&&t.substr(-1)!==":")t+=":";if(this.slashes||(!t||z[t])&&i!==false){i="//"+(i||"");if(r&&r.charAt(0)!=="/")r="/"+r}else if(!i){i=""}if(n&&n.charAt(0)!=="#")n="#"+n;if(s&&s.charAt(0)!=="?")s="?"+s;r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)});s=s.replace("#","%23");return t+i+r+s+n};function f(e,t){return s(e,false,true).resolve(t)}T.prototype.resolve=function(e){return this.resolveObject(s(e,false,true)).format()};function u(e,t){if(!e)return t;return s(e,false,true).resolveObject(t)}T.prototype.resolveObject=function(e){if(I.isString(e)){var t=new T;t.parse(e,false,true);e=t}var r=new T;var n=Object.keys(this);for(var i=0;i<n.length;i++){var a=n[i];r[a]=this[a]}r.hash=e.hash;if(e.href===""){r.href=r.format();return r}if(e.slashes&&!e.protocol){var s=Object.keys(e);for(var o=0;o<s.length;o++){var f=s[o];if(f!=="protocol")r[f]=e[f]}if(z[r.protocol]&&r.hostname&&!r.pathname){r.path=r.pathname="/"}r.href=r.format();return r}if(e.protocol&&e.protocol!==r.protocol){if(!z[e.protocol]){var u=Object.keys(e);for(var l=0;l<u.length;l++){var c=u[l];r[c]=e[c]}r.href=r.format();return r}r.protocol=e.protocol;if(!e.host&&!V[e.protocol]){var d=(e.pathname||"").split("/");while(d.length&&!(e.host=d.shift()));if(!e.host)e.host="";if(!e.hostname)e.hostname="";if(d[0]!=="")d.unshift("");if(d.length<2)d.unshift("");r.pathname=d.join("/")}else{r.pathname=e.pathname}r.search=e.search;r.query=e.query;r.host=e.host||"";r.auth=e.auth;r.hostname=e.hostname||e.host;r.port=e.port;if(r.pathname||r.search){var h=r.pathname||"";var p=r.search||"";r.path=h+p}r.slashes=r.slashes||e.slashes;r.href=r.format();return r}var b=r.pathname&&r.pathname.charAt(0)==="/",g=e.host||e.pathname&&e.pathname.charAt(0)==="/",v=g||b||r.host&&e.pathname,y=v,_=r.pathname&&r.pathname.split("/")||[],d=e.pathname&&e.pathname.split("/")||[],m=r.protocol&&!z[r.protocol];if(m){r.hostname="";r.port=null;if(r.host){if(_[0]==="")_[0]=r.host;else _.unshift(r.host)}r.host="";if(e.protocol){e.hostname=null;e.port=null;if(e.host){if(d[0]==="")d[0]=e.host;else d.unshift(e.host)}e.host=null}v=v&&(d[0]===""||_[0]==="")}if(g){r.host=e.host||e.host===""?e.host:r.host;r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname;r.search=e.search;r.query=e.query;_=d}else if(d.length){if(!_)_=[];_.pop();_=_.concat(d);r.search=e.search;r.query=e.query}else if(!I.isNullOrUndefined(e.search)){if(m){r.hostname=r.host=_.shift();var w=r.host&&r.host.indexOf("@")>0?r.host.split("@"):false;if(w){r.auth=w.shift();r.host=r.hostname=w.shift()}}r.search=e.search;r.query=e.query;if(!I.isNull(r.pathname)||!I.isNull(r.search)){r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")}r.href=r.format();return r}if(!_.length){r.pathname=null;if(r.search){r.path="/"+r.search}else{r.path=null}r.href=r.format();return r}var S=_.slice(-1)[0];var E=(r.host||e.host||_.length>1)&&(S==="."||S==="..")||S==="";var R=0;for(var k=_.length;k>=0;k--){S=_[k];if(S==="."){_.splice(k,1)}else if(S===".."){_.splice(k,1);R++}else if(R){_.splice(k,1);R--}}if(!v&&!y){for(;R--;R){_.unshift("..")}}if(v&&_[0]!==""&&(!_[0]||_[0].charAt(0)!=="/")){_.unshift("")}if(E&&_.join("/").substr(-1)!=="/"){_.push("")}var x=_[0]===""||_[0]&&_[0].charAt(0)==="/";if(m){r.hostname=r.host=x?"":_.length?_.shift():"";var w=r.host&&r.host.indexOf("@")>0?r.host.split("@"):false;if(w){r.auth=w.shift();r.host=r.hostname=w.shift()}}v=v||r.host&&_.length;if(v&&!x){_.unshift("")}if(!_.length){r.pathname=null;r.path=null}else{r.pathname=_.join("/")}if(!I.isNull(r.pathname)||!I.isNull(r.search)){r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")}r.auth=e.auth||r.auth;r.slashes=r.slashes||e.slashes;r.href=r.format();return r};T.prototype.parseHost=function(){var e=this.host;var t=n.exec(e);if(t){t=t[0];if(t!==":"){this.port=t.substr(1)}e=e.substr(0,e.length-t.length)}if(e)this.hostname=e}},,function(e,t){var f=1;var u=65535;var l=4;var r;var n=function(){f=f+1&u};e.exports=function(e){if(!r){r=setInterval(n,1e3/l|0);if(r.unref)r.unref()}var i=l*(e||5);var a=[0];var s=1;var o=f-1&u;return function(e){var t=f-o&u;if(t>i)t=i;o=f;while(t--){if(s===i)s=0;a[s]=a[s===0?i-1:s-1];s++}if(e)a[s-1]+=e;var r=a[s-1];var n=a.length<i?0:a[s===i?0:s];return a.length<l?r:(r-n)*l/a.length}}},function(e,t,r){"use strict";var h=r(178).codes.ERR_STREAM_PREMATURE_CLOSE;function p(n){var i=false;return function(){if(i)return;i=true;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}n.apply(this,t)}}function b(){}function g(e){return e.setHeader&&typeof e.abort==="function"}function v(r,e,n){if(typeof e==="function")return v(r,null,e);if(!e)e={};n=p(n||b);var i=e.readable||e.readable!==false&&r.readable;var a=e.writable||e.writable!==false&&r.writable;var t=function e(){if(!r.writable)o()};var s=r._writableState&&r._writableState.finished;var o=function e(){a=false;s=true;if(!i)n.call(r)};var f=r._readableState&&r._readableState.endEmitted;var u=function e(){i=false;f=true;if(!a)n.call(r)};var l=function e(t){n.call(r,t)};var c=function e(){var t;if(i&&!f){if(!r._readableState||!r._readableState.ended)t=new h;return n.call(r,t)}if(a&&!s){if(!r._writableState||!r._writableState.ended)t=new h;return n.call(r,t)}};var d=function e(){r.req.on("finish",o)};if(g(r)){r.on("complete",o);r.on("abort",c);if(r.req)d();else r.on("request",d)}else if(a&&!r._writableState){r.on("end",t);r.on("close",t)}r.on("end",u);r.on("finish",o);if(e.error!==false)r.on("error",l);r.on("close",c);return function(){r.removeListener("complete",o);r.removeListener("abort",c);r.removeListener("request",d);if(r.req)r.req.removeListener("finish",o);r.removeListener("end",t);r.removeListener("close",t);r.removeListener("finish",o);r.removeListener("end",u);r.removeListener("error",l);r.removeListener("close",c)}}e.exports=v},,function(e,t,r){"use strict";var h=r(182).codes.ERR_STREAM_PREMATURE_CLOSE;function p(n){var i=false;return function(){if(i)return;i=true;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}n.apply(this,t)}}function b(){}function g(e){return e.setHeader&&typeof e.abort==="function"}function v(r,e,n){if(typeof e==="function")return v(r,null,e);if(!e)e={};n=p(n||b);var i=e.readable||e.readable!==false&&r.readable;var a=e.writable||e.writable!==false&&r.writable;var t=function e(){if(!r.writable)o()};var s=r._writableState&&r._writableState.finished;var o=function e(){a=false;s=true;if(!i)n.call(r)};var f=r._readableState&&r._readableState.endEmitted;var u=function e(){i=false;f=true;if(!a)n.call(r)};var l=function e(t){n.call(r,t)};var c=function e(){var t;if(i&&!f){if(!r._readableState||!r._readableState.ended)t=new h;return n.call(r,t)}if(a&&!s){if(!r._writableState||!r._writableState.ended)t=new h;return n.call(r,t)}};var d=function e(){r.req.on("finish",o)};if(g(r)){r.on("complete",o);r.on("abort",c);if(r.req)d();else r.on("request",d)}else if(a&&!r._writableState){r.on("end",t);r.on("close",t)}r.on("end",u);r.on("finish",o);if(e.error!==false)r.on("error",l);r.on("close",c);return function(){r.removeListener("complete",o);r.removeListener("abort",c);r.removeListener("request",d);if(r.req)r.req.removeListener("finish",o);r.removeListener("end",t);r.removeListener("close",t);r.removeListener("finish",o);r.removeListener("end",u);r.removeListener("error",l);r.removeListener("close",c)}}e.exports=v},function(e,t,r){
/*! mediasource. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.exports=f;var n=r(158);var i=r(458);var a=r(260);var s=typeof window!=="undefined"&&window.MediaSource;var o=60;function f(e,t){var r=this;if(!(r instanceof f))return new f(e,t);if(!s)throw new Error("web browser lacks MediaSource support");if(!t)t={};r._debug=t.debug;r._bufferDuration=t.bufferDuration||o;r._elem=e;r._mediaSource=new s;r._streams=[];r.detailedError=null;r._errorHandler=function(){r._elem.removeEventListener("error",r._errorHandler);var e=r._streams.slice();e.forEach(function(e){e.destroy(r._elem.error)})};r._elem.addEventListener("error",r._errorHandler);r._elem.src=window.URL.createObjectURL(r._mediaSource)}f.prototype.createWriteStream=function(e){var t=this;return new u(t,e)};f.prototype.error=function(e){var t=this;if(!t.detailedError){t.detailedError=e}t._dumpDebugData();try{t._mediaSource.endOfStream("decode")}catch(e){}try{window.URL.revokeObjectURL(t._elem.src)}catch(e){}};f.prototype._dumpDebugData=function(){var e=this;if(e._debug){e._debug=false;e._streams.forEach(function(e,t){c(e._debugBuffers,"mediasource-stream-"+t)})}};n(u,i.Writable);function u(e,t){var r=this;i.Writable.call(r);r._wrapper=e;r._elem=e._elem;r._mediaSource=e._mediaSource;r._allStreams=e._streams;r._allStreams.push(r);r._bufferDuration=e._bufferDuration;r._sourceBuffer=null;r._debugBuffers=[];r._openHandler=function(){r._onSourceOpen()};r._flowHandler=function(){r._flow()};r._errorHandler=function(e){if(!r.destroyed){r.emit("error",e)}};if(typeof t==="string"){r._type=t;if(r._mediaSource.readyState==="open"){r._createSourceBuffer()}else{r._mediaSource.addEventListener("sourceopen",r._openHandler)}}else if(t._sourceBuffer===null){t.destroy();r._type=t._type;r._mediaSource.addEventListener("sourceopen",r._openHandler)}else if(t._sourceBuffer){t.destroy();r._type=t._type;r._sourceBuffer=t._sourceBuffer;r._debugBuffers=t._debugBuffers;r._sourceBuffer.addEventListener("updateend",r._flowHandler);r._sourceBuffer.addEventListener("error",r._errorHandler)}else{throw new Error("The argument to MediaElementWrapper.createWriteStream must be a string or a previous stream returned from that function")}r._elem.addEventListener("timeupdate",r._flowHandler);r.on("error",function(e){r._wrapper.error(e)});r.on("finish",function(){if(r.destroyed)return;r._finished=true;if(r._allStreams.every(function(e){return e._finished})){r._wrapper._dumpDebugData();try{r._mediaSource.endOfStream()}catch(e){}}})}u.prototype._onSourceOpen=function(){var e=this;if(e.destroyed)return;e._mediaSource.removeEventListener("sourceopen",e._openHandler);e._createSourceBuffer()};u.prototype.destroy=function(e){var t=this;if(t.destroyed)return;t.destroyed=true;t._allStreams.splice(t._allStreams.indexOf(t),1);t._mediaSource.removeEventListener("sourceopen",t._openHandler);t._elem.removeEventListener("timeupdate",t._flowHandler);if(t._sourceBuffer){t._sourceBuffer.removeEventListener("updateend",t._flowHandler);t._sourceBuffer.removeEventListener("error",t._errorHandler);if(t._mediaSource.readyState==="open"){t._sourceBuffer.abort()}}if(e)t.emit("error",e);t.emit("close")};u.prototype._createSourceBuffer=function(){var e=this;if(e.destroyed)return;if(s.isTypeSupported(e._type)){e._sourceBuffer=e._mediaSource.addSourceBuffer(e._type);e._sourceBuffer.addEventListener("updateend",e._flowHandler);e._sourceBuffer.addEventListener("error",e._errorHandler);if(e._cb){var t=e._cb;e._cb=null;t()}}else{e.destroy(new Error("The provided type is not supported"))}};u.prototype._write=function(t,r,n){var i=this;if(i.destroyed)return;if(!i._sourceBuffer){i._cb=function(e){if(e)return n(e);i._write(t,r,n)};return}if(i._sourceBuffer.updating){return n(new Error("Cannot append buffer while source buffer updating"))}var e=a(t);if(i._wrapper._debug){i._debugBuffers.push(e)}try{i._sourceBuffer.appendBuffer(e)}catch(e){i.destroy(e);return}i._cb=n};u.prototype._flow=function(){var e=this;if(e.destroyed||!e._sourceBuffer||e._sourceBuffer.updating){return}if(e._mediaSource.readyState==="open"){if(e._getBufferDuration()>e._bufferDuration){return}}if(e._cb){var t=e._cb;e._cb=null;t()}};var l=0;u.prototype._getBufferDuration=function(){var e=this;var t=e._sourceBuffer.buffered;var r=e._elem.currentTime;var n=-1;for(var i=0;i<t.length;i++){var a=t.start(i);var s=t.end(i)+l;if(a>r){break}else if(n>=0||r<=s){n=s}}var o=n-r;if(o<0){o=0}return o};function c(e,t){var r=document.createElement("a");r.href=window.URL.createObjectURL(new window.Blob(e));r.download=t;r.click()}},function(e,t,r){"use strict";var h=r(184).codes.ERR_STREAM_PREMATURE_CLOSE;function p(n){var i=false;return function(){if(i)return;i=true;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}n.apply(this,t)}}function b(){}function g(e){return e.setHeader&&typeof e.abort==="function"}function v(r,e,n){if(typeof e==="function")return v(r,null,e);if(!e)e={};n=p(n||b);var i=e.readable||e.readable!==false&&r.readable;var a=e.writable||e.writable!==false&&r.writable;var t=function e(){if(!r.writable)o()};var s=r._writableState&&r._writableState.finished;var o=function e(){a=false;s=true;if(!i)n.call(r)};var f=r._readableState&&r._readableState.endEmitted;var u=function e(){i=false;f=true;if(!a)n.call(r)};var l=function e(t){n.call(r,t)};var c=function e(){var t;if(i&&!f){if(!r._readableState||!r._readableState.ended)t=new h;return n.call(r,t)}if(a&&!s){if(!r._writableState||!r._writableState.ended)t=new h;return n.call(r,t)}};var d=function e(){r.req.on("finish",o)};if(g(r)){r.on("complete",o);r.on("abort",c);if(r.req)d();else r.on("request",d)}else if(a&&!r._writableState){r.on("end",t);r.on("close",t)}r.on("end",u);r.on("finish",o);if(e.error!==false)r.on("error",l);r.on("close",c);return function(){r.removeListener("complete",o);r.removeListener("abort",c);r.removeListener("request",d);if(r.req)r.req.removeListener("finish",o);r.removeListener("end",t);r.removeListener("close",t);r.removeListener("finish",o);r.removeListener("end",u);r.removeListener("error",l);r.removeListener("close",c)}}e.exports=v},function(e,t,r){"use strict";var h=r(186).codes.ERR_STREAM_PREMATURE_CLOSE;function p(n){var i=false;return function(){if(i)return;i=true;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}n.apply(this,t)}}function b(){}function g(e){return e.setHeader&&typeof e.abort==="function"}function v(r,e,n){if(typeof e==="function")return v(r,null,e);if(!e)e={};n=p(n||b);var i=e.readable||e.readable!==false&&r.readable;var a=e.writable||e.writable!==false&&r.writable;var t=function e(){if(!r.writable)o()};var s=r._writableState&&r._writableState.finished;var o=function e(){a=false;s=true;if(!i)n.call(r)};var f=r._readableState&&r._readableState.endEmitted;var u=function e(){i=false;f=true;if(!a)n.call(r)};var l=function e(t){n.call(r,t)};var c=function e(){var t;if(i&&!f){if(!r._readableState||!r._readableState.ended)t=new h;return n.call(r,t)}if(a&&!s){if(!r._writableState||!r._writableState.ended)t=new h;return n.call(r,t)}};var d=function e(){r.req.on("finish",o)};if(g(r)){r.on("complete",o);r.on("abort",c);if(r.req)d();else r.on("request",d)}else if(a&&!r._writableState){r.on("end",t);r.on("close",t)}r.on("end",u);r.on("finish",o);if(e.error!==false)r.on("error",l);r.on("close",c);return function(){r.removeListener("complete",o);r.removeListener("abort",c);r.removeListener("request",d);if(r.req)r.req.removeListener("finish",o);r.removeListener("end",t);r.removeListener("close",t);r.removeListener("finish",o);r.removeListener("end",u);r.removeListener("error",l);r.removeListener("close",c)}}e.exports=v},function(e,t,r){"use strict";var h=r(188).codes.ERR_STREAM_PREMATURE_CLOSE;function p(n){var i=false;return function(){if(i)return;i=true;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}n.apply(this,t)}}function b(){}function g(e){return e.setHeader&&typeof e.abort==="function"}function v(r,e,n){if(typeof e==="function")return v(r,null,e);if(!e)e={};n=p(n||b);var i=e.readable||e.readable!==false&&r.readable;var a=e.writable||e.writable!==false&&r.writable;var t=function e(){if(!r.writable)o()};var s=r._writableState&&r._writableState.finished;var o=function e(){a=false;s=true;if(!i)n.call(r)};var f=r._readableState&&r._readableState.endEmitted;var u=function e(){i=false;f=true;if(!a)n.call(r)};var l=function e(t){n.call(r,t)};var c=function e(){var t;if(i&&!f){if(!r._readableState||!r._readableState.ended)t=new h;return n.call(r,t)}if(a&&!s){if(!r._writableState||!r._writableState.ended)t=new h;return n.call(r,t)}};var d=function e(){r.req.on("finish",o)};if(g(r)){r.on("complete",o);r.on("abort",c);if(r.req)d();else r.on("request",d)}else if(a&&!r._writableState){r.on("end",t);r.on("close",t)}r.on("end",u);r.on("finish",o);if(e.error!==false)r.on("error",l);r.on("close",c);return function(){r.removeListener("complete",o);r.removeListener("abort",c);r.removeListener("request",d);if(r.req)r.req.removeListener("finish",o);r.removeListener("end",t);r.removeListener("close",t);r.removeListener("finish",o);r.removeListener("end",u);r.removeListener("error",l);r.removeListener("close",c)}}e.exports=v},function(e,t,r){"use strict";var h=r(190).codes.ERR_STREAM_PREMATURE_CLOSE;function p(n){var i=false;return function(){if(i)return;i=true;for(var e=arguments.length,t=new Array(e),r=0;r<e;r++){t[r]=arguments[r]}n.apply(this,t)}}function b(){}function g(e){return e.setHeader&&typeof e.abort==="function"}function v(r,e,n){if(typeof e==="function")return v(r,null,e);if(!e)e={};n=p(n||b);var i=e.readable||e.readable!==false&&r.readable;var a=e.writable||e.writable!==false&&r.writable;var t=function e(){if(!r.writable)o()};var s=r._writableState&&r._writableState.finished;var o=function e(){a=false;s=true;if(!i)n.call(r)};var f=r._readableState&&r._readableState.endEmitted;var u=function e(){i=false;f=true;if(!a)n.call(r)};var l=function e(t){n.call(r,t)};var c=function e(){var t;if(i&&!f){if(!r._readableState||!r._readableState.ended)t=new h;return n.call(r,t)}if(a&&!s){if(!r._writableState||!r._writableState.ended)t=new h;return n.call(r,t)}};var d=function e(){r.req.on("finish",o)};if(g(r)){r.on("complete",o);r.on("abort",c);if(r.req)d();else r.on("request",d)}else if(a&&!r._writableState){r.on("end",t);r.on("close",t)}r.on("end",u);r.on("finish",o);if(e.error!==false)r.on("error",l);r.on("close",c);return function(){r.removeListener("complete",o);r.removeListener("abort",c);r.removeListener("request",d);if(r.req)r.req.removeListener("finish",o);r.removeListener("end",t);r.removeListener("close",t);r.removeListener("finish",o);r.removeListener("end",u);r.removeListener("error",l);r.removeListener("close",c)}}e.exports=v},function(e){e.exports=JSON.parse('{"name":"webtorrent","description":"Streaming torrent client","version":"0.116.1","author":{"name":"WebTorrent LLC","email":"feross@webtorrent.io","url":"https://webtorrent.io"},"browser":{"./lib/server.js":false,"./lib/conn-pool.js":false,"bittorrent-dht/client":false,"fs":false,"fs-chunk-store":"memory-chunk-store","load-ip-set":false,"net":false,"os":false,"ut_pex":false,"utp-native":false},"browserify":{"transform":["package-json-versionify"]},"bugs":{"url":"https://github.com/webtorrent/webtorrent/issues"},"chromeapp":{"fs-chunk-store":"memory-chunk-store","http":"http-node","load-ip-set":false,"net":"chrome-net","os":false,"utp-native":false},"dependencies":{"addr-to-ip-port":"^1.5.1","bitfield":"^4.0.0","bittorrent-dht":"^10.0.0","bittorrent-protocol":"^3.2.0","chrome-net":"^3.3.4","chunk-store-stream":"^4.2.0","cpus":"^1.0.3","create-torrent":"^4.4.4","debug":"^4.3.1","end-of-stream":"^1.4.4","escape-html":"^1.0.3","fs-chunk-store":"^2.0.2","http-node":"github:feross/http-node#webtorrent","immediate-chunk-store":"^2.1.1","load-ip-set":"^2.1.2","memory-chunk-store":"^1.3.1","mime":"^2.5.0","multistream":"^4.1.0","package-json-versionify":"^1.0.4","parse-torrent":"^9.1.1","pump":"^3.0.0","queue-microtask":"^1.2.2","random-iterate":"^1.0.1","randombytes":"^2.1.0","range-parser":"^1.2.1","readable-stream":"^3.6.0","render-media":"^4.1.0","run-parallel":"^1.1.10","run-parallel-limit":"^1.0.6","simple-concat":"^1.0.1","simple-get":"^4.0.0","simple-peer":"^9.9.3","simple-sha1":"^3.0.1","speedometer":"^1.1.0","stream-to-blob":"^2.0.1","stream-to-blob-url":"^3.0.2","stream-with-known-length-to-buffer":"^1.0.4","torrent-discovery":"^9.4.0","torrent-piece":"^2.0.0","unordered-array-remove":"^1.0.2","ut_metadata":"^3.5.2","ut_pex":"^2.0.1","utp-native":"^2.3.0"},"devDependencies":{"airtap":"^3.0.0","babel-minify":"^0.5.1","bittorrent-tracker":"^9.16.0","browserify":"^17.0.0","disc":"^1.3.3","finalhandler":"^1.1.2","network-address":"^1.1.2","run-series":"^1.1.9","serve-static":"^1.14.1","standard":"*","tape":"^5.1.1","webtorrent-fixtures":"^1.7.3"},"engines":{"node":">=10"},"funding":[{"type":"github","url":"https://github.com/sponsors/feross"},{"type":"patreon","url":"https://www.patreon.com/feross"},{"type":"consulting","url":"https://feross.org/support"}],"homepage":"https://webtorrent.io","keywords":["bittorrent","bittorrent client","download","mad science","p2p","peer-to-peer","peers","streaming","swarm","torrent","web torrent","webrtc","webrtc data","webtorrent"],"license":"MIT","main":"index.js","repository":{"type":"git","url":"git://github.com/webtorrent/webtorrent.git"},"scripts":{"build":"npm run build-js && npm run build-chromeapp","build-chromeapp":"browserify --browser-field=chromeapp --standalone WebTorrent . | minify --mangle=false > webtorrent.chromeapp.js","build-chromeapp-debug":"browserify --browser-field=chromeapp --standalone WebTorrent . > webtorrent.chromeapp.js","build-js":"browserify --standalone WebTorrent . | minify --mangle=false > webtorrent.min.js","build-js-debug":"browserify --standalone WebTorrent . > webtorrent.debug.js","size":"npm run size-js && npm run size-disc","size-disc":"browserify --full-paths . | discify --open","size-js":"npm run build && cat webtorrent.min.js | gzip | wc -c","test":"standard && npm run test-node && npm run test-browser","test-browser":"airtap -- test/*.js test/browser/*.js","test-browser-local":"airtap --local -- test/*.js test/browser/*.js","test-node":"tape test/*.js test/node/*.js","update-authors":"./scripts/update-authors.sh"},"standard":{"ignore":["webtorrent.min.js","webtorrent.chromeapp.js"]}}')},,,function(e,t,r){(function(n){/*! simple-concat. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.exports=function(e,t){var r=[];e.on("data",function(e){r.push(e)});e.once("end",function(){if(t)t(null,n.concat(r));t=null});e.once("error",function(e){if(t)t(e);t=null})}}).call(this,r(73).Buffer)},function(r,e,n){(function(s){const{Transform:e}=n(337);class t extends e{constructor(e,t={}){super(t);if(typeof e==="object"){t=e;e=t.size}this.size=e||512;const{nopad:r,zeroPadding:n=true}=t;if(r)this._zeroPadding=false;else this._zeroPadding=!!n;this._buffered=[];this._bufferedBytes=0}_transform(e,t,r){this._bufferedBytes+=e.length;this._buffered.push(e);while(this._bufferedBytes>=this.size){this._bufferedBytes-=this.size;const n=[];let e=0;while(e<this.size){const i=this._buffered.shift();if(e+i.length<=this.size){n.push(i);e+=i.length}else{const a=this.size-e;n.push(i.slice(0,a));e+=a;this._buffered.unshift(i.slice(a))}}this.push(s.concat(n,this.size))}r()}_flush(){if(this._bufferedBytes&&this._zeroPadding){const e=s.alloc(this.size-this._bufferedBytes);this._buffered.push(e);this.push(s.concat(this._buffered));this._buffered=null}else if(this._bufferedBytes){this.push(s.concat(this._buffered));this._buffered=null}this.push(null)}}r.exports=t}).call(this,n(73).Buffer)},function(X,e,J){"use strict";(function(e,g){X.exports=M;var n;M.ReadableState=T;var t=J(159).EventEmitter;var v=function e(t,r){return t.listeners(r).length};var i=J(224);var o=J(73).Buffer;var r=e.Uint8Array||function(){};function f(e){return o.from(e)}function a(e){return o.isBuffer(e)||e instanceof r}var s=J(338);var y;if(s&&s.debuglog){y=s.debuglog("stream")}else{y=function e(){}}var u=J(339);var l=J(225);var c=J(226),d=c.getHighWaterMark;var h=J(167).codes,p=h.ERR_INVALID_ARG_TYPE,b=h.ERR_STREAM_PUSH_AFTER_EOF,_=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;var w;var S;var E;J(158)(M,i);var R=l.errorOrDestroy;var k=["error","close","destroy","pause","resume"];function x(e,t,r){if(typeof e.prependListener==="function")return e.prependListener(t,r);if(!e._events||!e._events[t])e.on(t,r);else if(Array.isArray(e._events[t]))e._events[t].unshift(r);else e._events[t]=[r,e._events[t]]}function T(e,t,r){n=n||J(168);e=e||{};if(typeof r!=="boolean")r=t instanceof n;this.objectMode=!!e.objectMode;if(r)this.objectMode=this.objectMode||!!e.readableObjectMode;this.highWaterMark=d(this,e,"readableHighWaterMark",r);this.buffer=new u;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.paused=true;this.emitClose=e.emitClose!==false;this.autoDestroy=!!e.autoDestroy;this.destroyed=false;this.defaultEncoding=e.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(e.encoding){if(!w)w=J(160).StringDecoder;this.decoder=new w(e.encoding);this.encoding=e.encoding}}function M(e){n=n||J(168);if(!(this instanceof M))return new M(e);var t=this instanceof n;this._readableState=new T(e,this,t);this.readable=true;if(e){if(typeof e.read==="function")this._read=e.read;if(typeof e.destroy==="function")this._destroy=e.destroy}i.call(this)}Object.defineProperty(M.prototype,"destroyed",{enumerable:false,get:function e(){if(this._readableState===undefined){return false}return this._readableState.destroyed},set:function e(t){if(!this._readableState){return}this._readableState.destroyed=t}});M.prototype.destroy=l.destroy;M.prototype._undestroy=l.undestroy;M.prototype._destroy=function(e,t){t(e)};M.prototype.push=function(e,t){var r=this._readableState;var n;if(!r.objectMode){if(typeof e==="string"){t=t||r.defaultEncoding;if(t!==r.encoding){e=o.from(e,t);t=""}n=true}}else{n=true}return O(this,e,t,false,n)};M.prototype.unshift=function(e){return O(this,e,null,true,false)};function O(e,t,r,n,i){y("readableAddChunk",t);var a=e._readableState;if(t===null){a.reading=false;I(e,a)}else{var s;if(!i)s=A(a,t);if(s){R(e,s)}else if(a.objectMode||t&&t.length>0){if(typeof t!=="string"&&!a.objectMode&&Object.getPrototypeOf(t)!==o.prototype){t=f(t)}if(n){if(a.endEmitted)R(e,new m);else L(e,a,t,true)}else if(a.ended){R(e,new b)}else if(a.destroyed){return false}else{a.reading=false;if(a.decoder&&!r){t=a.decoder.write(t);if(a.objectMode||t.length!==0)L(e,a,t,false);else U(e,a)}else{L(e,a,t,false)}}}else if(!n){a.reading=false;U(e,a)}}return!a.ended&&(a.length<a.highWaterMark||a.length===0)}function L(e,t,r,n){if(t.flowing&&t.length===0&&!t.sync){t.awaitDrain=0;e.emit("data",r)}else{t.length+=t.objectMode?1:r.length;if(n)t.buffer.unshift(r);else t.buffer.push(r);if(t.needReadable)D(e)}U(e,t)}function A(e,t){var r;if(!a(t)&&typeof t!=="string"&&t!==undefined&&!e.objectMode){r=new p("chunk",["string","Buffer","Uint8Array"],t)}return r}M.prototype.isPaused=function(){return this._readableState.flowing===false};M.prototype.setEncoding=function(e){if(!w)w=J(160).StringDecoder;var t=new w(e);this._readableState.decoder=t;this._readableState.encoding=this._readableState.decoder.encoding;var r=this._readableState.buffer.head;var n="";while(r!==null){n+=t.write(r.data);r=r.next}this._readableState.buffer.clear();if(n!=="")this._readableState.buffer.push(n);this._readableState.length=n.length;return this};var P=1073741824;function j(e){if(e>=P){e=P}else{e--;e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;e++}return e}function C(e,t){if(e<=0||t.length===0&&t.ended)return 0;if(t.objectMode)return 1;if(e!==e){if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length}if(e>t.highWaterMark)t.highWaterMark=j(e);if(e<=t.length)return e;if(!t.ended){t.needReadable=true;return 0}return t.length}M.prototype.read=function(e){y("read",e);e=parseInt(e,10);var t=this._readableState;var r=e;if(e!==0)t.emittedReadable=false;if(e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended)){y("read: emitReadable",t.length,t.ended);if(t.length===0&&t.ended)G(this);else D(this);return null}e=C(e,t);if(e===0&&t.ended){if(t.length===0)G(this);return null}var n=t.needReadable;y("need readable",n);if(t.length===0||t.length-e<t.highWaterMark){n=true;y("length less than watermark",n)}if(t.ended||t.reading){n=false;y("reading or ended",n)}else if(n){y("do read");t.reading=true;t.sync=true;if(t.length===0)t.needReadable=true;this._read(t.highWaterMark);t.sync=false;if(!t.reading)e=C(r,t)}var i;if(e>0)i=z(e,t);else i=null;if(i===null){t.needReadable=t.length<=t.highWaterMark;e=0}else{t.length-=e;t.awaitDrain=0}if(t.length===0){if(!t.ended)t.needReadable=true;if(r!==e&&t.ended)G(this)}if(i!==null)this.emit("data",i);return i};function I(e,t){y("onEofChunk");if(t.ended)return;if(t.decoder){var r=t.decoder.end();if(r&&r.length){t.buffer.push(r);t.length+=t.objectMode?1:r.length}}t.ended=true;if(t.sync){D(e)}else{t.needReadable=false;if(!t.emittedReadable){t.emittedReadable=true;B(e)}}}function D(e){var t=e._readableState;y("emitReadable",t.needReadable,t.emittedReadable);t.needReadable=false;if(!t.emittedReadable){y("emitReadable",t.flowing);t.emittedReadable=true;g.nextTick(B,e)}}function B(e){var t=e._readableState;y("emitReadable_",t.destroyed,t.length,t.ended);if(!t.destroyed&&(t.length||t.ended)){e.emit("readable");t.emittedReadable=false}t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark;V(e)}function U(e,t){if(!t.readingMore){t.readingMore=true;g.nextTick(N,e,t)}}function N(e,t){while(!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0)){var r=t.length;y("maybeReadMore read 0");e.read(0);if(r===t.length)break}t.readingMore=false}M.prototype._read=function(e){R(this,new _("_read()"))};M.prototype.pipe=function(r,e){var n=this;var i=this._readableState;switch(i.pipesCount){case 0:i.pipes=r;break;case 1:i.pipes=[i.pipes,r];break;default:i.pipes.push(r);break}i.pipesCount+=1;y("pipe count=%d opts=%j",i.pipesCount,e);var t=(!e||e.end!==false)&&r!==g.stdout&&r!==g.stderr;var a=t?o:b;if(i.endEmitted)g.nextTick(a);else n.once("end",a);r.on("unpipe",s);function s(e,t){y("onunpipe");if(e===n){if(t&&t.hasUnpiped===false){t.hasUnpiped=true;l()}}}function o(){y("onend");r.end()}var f=W(n);r.on("drain",f);var u=false;function l(){y("cleanup");r.removeListener("close",h);r.removeListener("finish",p);r.removeListener("drain",f);r.removeListener("error",d);r.removeListener("unpipe",s);n.removeListener("end",o);n.removeListener("end",b);n.removeListener("data",c);u=true;if(i.awaitDrain&&(!r._writableState||r._writableState.needDrain))f()}n.on("data",c);function c(e){y("ondata");var t=r.write(e);y("dest.write",t);if(t===false){if((i.pipesCount===1&&i.pipes===r||i.pipesCount>1&&Y(i.pipes,r)!==-1)&&!u){y("false write response, pause",i.awaitDrain);i.awaitDrain++}n.pause()}}function d(e){y("onerror",e);b();r.removeListener("error",d);if(v(r,"error")===0)R(r,e)}x(r,"error",d);function h(){r.removeListener("finish",p);b()}r.once("close",h);function p(){y("onfinish");r.removeListener("close",h);b()}r.once("finish",p);function b(){y("unpipe");n.unpipe(r)}r.emit("pipe",n);if(!i.flowing){y("pipe resume");n.resume()}return r};function W(r){return function e(){var t=r._readableState;y("pipeOnDrain",t.awaitDrain);if(t.awaitDrain)t.awaitDrain--;if(t.awaitDrain===0&&v(r,"data")){t.flowing=true;V(r)}}}M.prototype.unpipe=function(e){var t=this._readableState;var r={hasUnpiped:false};if(t.pipesCount===0)return this;if(t.pipesCount===1){if(e&&e!==t.pipes)return this;if(!e)e=t.pipes;t.pipes=null;t.pipesCount=0;t.flowing=false;if(e)e.emit("unpipe",this,r);return this}if(!e){var n=t.pipes;var i=t.pipesCount;t.pipes=null;t.pipesCount=0;t.flowing=false;for(var a=0;a<i;a++){n[a].emit("unpipe",this,{hasUnpiped:false})}return this}var s=Y(t.pipes,e);if(s===-1)return this;t.pipes.splice(s,1);t.pipesCount-=1;if(t.pipesCount===1)t.pipes=t.pipes[0];e.emit("unpipe",this,r);return this};M.prototype.on=function(e,t){var r=i.prototype.on.call(this,e,t);var n=this._readableState;if(e==="data"){n.readableListening=this.listenerCount("readable")>0;if(n.flowing!==false)this.resume()}else if(e==="readable"){if(!n.endEmitted&&!n.readableListening){n.readableListening=n.needReadable=true;n.flowing=false;n.emittedReadable=false;y("on readable",n.length,n.reading);if(n.length){D(this)}else if(!n.reading){g.nextTick(H,this)}}}return r};M.prototype.addListener=M.prototype.on;M.prototype.removeListener=function(e,t){var r=i.prototype.removeListener.call(this,e,t);if(e==="readable"){g.nextTick(q,this)}return r};M.prototype.removeAllListeners=function(e){var t=i.prototype.removeAllListeners.apply(this,arguments);if(e==="readable"||e===undefined){g.nextTick(q,this)}return t};function q(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0;if(t.resumeScheduled&&!t.paused){t.flowing=true}else if(e.listenerCount("data")>0){e.resume()}}function H(e){y("readable nexttick read 0");e.read(0)}M.prototype.resume=function(){var e=this._readableState;if(!e.flowing){y("resume");e.flowing=!e.readableListening;F(this,e)}e.paused=false;return this};function F(e,t){if(!t.resumeScheduled){t.resumeScheduled=true;g.nextTick(K,e,t)}}function K(e,t){y("resume",t.reading);if(!t.reading){e.read(0)}t.resumeScheduled=false;e.emit("resume");V(e);if(t.flowing&&!t.reading)e.read(0)}M.prototype.pause=function(){y("call pause flowing=%j",this._readableState.flowing);if(this._readableState.flowing!==false){y("pause");this._readableState.flowing=false;this.emit("pause")}this._readableState.paused=true;return this};function V(e){var t=e._readableState;y("flow",t.flowing);while(t.flowing&&e.read()!==null){}}M.prototype.wrap=function(r){var n=this;var i=this._readableState;var a=false;r.on("end",function(){y("wrapped end");if(i.decoder&&!i.ended){var e=i.decoder.end();if(e&&e.length)n.push(e)}n.push(null)});r.on("data",function(e){y("wrapped data");if(i.decoder)e=i.decoder.write(e);if(i.objectMode&&(e===null||e===undefined))return;else if(!i.objectMode&&(!e||!e.length))return;var t=n.push(e);if(!t){a=true;r.pause()}});for(var e in r){if(this[e]===undefined&&typeof r[e]==="function"){this[e]=function e(t){return function e(){return r[t].apply(r,arguments)}}(e)}}for(var t=0;t<k.length;t++){r.on(k[t],this.emit.bind(this,k[t]))}this._read=function(e){y("wrapped _read",e);if(a){a=false;r.resume()}};return this};if(typeof Symbol==="function"){M.prototype[Symbol.asyncIterator]=function(){if(S===undefined){S=J(341)}return S(this)}}Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:false,get:function e(){return this._readableState.highWaterMark}});Object.defineProperty(M.prototype,"readableBuffer",{enumerable:false,get:function e(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(M.prototype,"readableFlowing",{enumerable:false,get:function e(){return this._readableState.flowing},set:function e(t){if(this._readableState){this._readableState.flowing=t}}});M._fromList=z;Object.defineProperty(M.prototype,"readableLength",{enumerable:false,get:function e(){return this._readableState.length}});function z(e,t){if(t.length===0)return null;var r;if(t.objectMode)r=t.buffer.shift();else if(!e||e>=t.length){if(t.decoder)r=t.buffer.join("");else if(t.buffer.length===1)r=t.buffer.first();else r=t.buffer.concat(t.length);t.buffer.clear()}else{r=t.buffer.consume(e,t.decoder)}return r}function G(e){var t=e._readableState;y("endReadable",t.endEmitted);if(!t.endEmitted){t.ended=true;g.nextTick($,t,e)}}function $(e,t){y("endReadableNT",e.endEmitted,e.length);if(!e.endEmitted&&e.length===0){e.endEmitted=true;t.readable=false;t.emit("end");if(e.autoDestroy){var r=t._writableState;if(!r||r.autoDestroy&&r.finished){t.destroy()}}}}if(typeof Symbol==="function"){M.from=function(e,t){if(E===undefined){E=J(342)}return E(M,e,t)}}function Y(e,t){for(var r=0,n=e.length;r<n;r++){if(e[r]===t)return r}return-1}}).call(this,J(19),J(74))},function(e,t,r){e.exports=r(159).EventEmitter},function(n,e,t){"use strict";(function(a){function e(e,t){var r=this;var n=this._readableState&&this._readableState.destroyed;var i=this._writableState&&this._writableState.destroyed;if(n||i){if(t){t(e)}else if(e){if(!this._writableState){a.nextTick(f,this,e)}else if(!this._writableState.errorEmitted){this._writableState.errorEmitted=true;a.nextTick(f,this,e)}}return this}if(this._readableState){this._readableState.destroyed=true}if(this._writableState){this._writableState.destroyed=true}this._destroy(e||null,function(e){if(!t&&e){if(!r._writableState){a.nextTick(s,r,e)}else if(!r._writableState.errorEmitted){r._writableState.errorEmitted=true;a.nextTick(s,r,e)}else{a.nextTick(o,r)}}else if(t){a.nextTick(o,r);t(e)}else{a.nextTick(o,r)}});return this}function s(e,t){f(e,t);o(e)}function o(e){if(e._writableState&&!e._writableState.emitClose)return;if(e._readableState&&!e._readableState.emitClose)return;e.emit("close")}function t(){if(this._readableState){this._readableState.destroyed=false;this._readableState.reading=false;this._readableState.ended=false;this._readableState.endEmitted=false}if(this._writableState){this._writableState.destroyed=false;this._writableState.ended=false;this._writableState.ending=false;this._writableState.finalCalled=false;this._writableState.prefinished=false;this._writableState.finished=false;this._writableState.errorEmitted=false}}function f(e,t){e.emit("error",t)}function r(e,t){var r=e._readableState;var n=e._writableState;if(r&&r.autoDestroy||n&&n.autoDestroy)e.destroy(t);else e.emit("error",t)}n.exports={destroy:e,undestroy:t,errorOrDestroy:r}}).call(this,t(74))},function(e,t,r){"use strict";var s=r(167).codes.ERR_INVALID_OPT_VALUE;function o(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function n(e,t,r,n){var i=o(t,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var a=n?r:"highWaterMark";throw new s(a,i)}return Math.floor(i)}return e.objectMode?16:16*1024}e.exports={getHighWaterMark:n}},function(V,e,z){"use strict";(function(e,s){V.exports=T;function t(e,t,r){this.chunk=e;this.encoding=t;this.callback=r;this.next=null}function d(e){var t=this;this.next=null;this.entry=null;this.finish=function(){K(t,e)}}var i;T.WritableState=k;var r={deprecate:z(163)};var n=z(224);var o=z(73).Buffer;var a=e.Uint8Array||function(){};function f(e){return o.from(e)}function u(e){return o.isBuffer(e)||e instanceof a}var l=z(225);var c=z(226),h=c.getHighWaterMark;var p=z(167).codes,b=p.ERR_INVALID_ARG_TYPE,g=p.ERR_METHOD_NOT_IMPLEMENTED,v=p.ERR_MULTIPLE_CALLBACK,y=p.ERR_STREAM_CANNOT_PIPE,_=p.ERR_STREAM_DESTROYED,m=p.ERR_STREAM_NULL_VALUES,w=p.ERR_STREAM_WRITE_AFTER_END,S=p.ERR_UNKNOWN_ENCODING;var E=l.errorOrDestroy;z(158)(T,n);function R(){}function k(e,t,r){i=i||z(168);e=e||{};if(typeof r!=="boolean")r=t instanceof i;this.objectMode=!!e.objectMode;if(r)this.objectMode=this.objectMode||!!e.writableObjectMode;this.highWaterMark=h(this,e,"writableHighWaterMark",r);this.finalCalled=false;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;this.destroyed=false;var n=e.decodeStrings===false;this.decodeStrings=!n;this.defaultEncoding=e.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){I(t,e)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.emitClose=e.emitClose!==false;this.autoDestroy=!!e.autoDestroy;this.bufferedRequestCount=0;this.corkedRequestsFree=new d(this)}k.prototype.getBuffer=function e(){var t=this.bufferedRequest;var r=[];while(t){r.push(t);t=t.next}return r};(function(){try{Object.defineProperty(k.prototype,"buffer",{get:r.deprecate(function e(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}})();var x;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"){x=Function.prototype[Symbol.hasInstance];Object.defineProperty(T,Symbol.hasInstance,{value:function e(t){if(x.call(this,t))return true;if(this!==T)return false;return t&&t._writableState instanceof k}})}else{x=function e(t){return t instanceof this}}function T(e){i=i||z(168);var t=this instanceof i;if(!t&&!x.call(T,this))return new T(e);this._writableState=new k(e,this,t);this.writable=true;if(e){if(typeof e.write==="function")this._write=e.write;if(typeof e.writev==="function")this._writev=e.writev;if(typeof e.destroy==="function")this._destroy=e.destroy;if(typeof e.final==="function")this._final=e.final}n.call(this)}T.prototype.pipe=function(){E(this,new y)};function M(e,t){var r=new w;E(e,r);s.nextTick(t,r)}function O(e,t,r,n){var i;if(r===null){i=new m}else if(typeof r!=="string"&&!t.objectMode){i=new b("chunk",["string","Buffer"],r)}if(i){E(e,i);s.nextTick(n,i);return false}return true}T.prototype.write=function(e,t,r){var n=this._writableState;var i=false;var a=!n.objectMode&&u(e);if(a&&!o.isBuffer(e)){e=f(e)}if(typeof t==="function"){r=t;t=null}if(a)t="buffer";else if(!t)t=n.defaultEncoding;if(typeof r!=="function")r=R;if(n.ending)M(this,r);else if(a||O(this,n,e,r)){n.pendingcb++;i=A(this,n,a,e,t,r)}return i};T.prototype.cork=function(){this._writableState.corked++};T.prototype.uncork=function(){var e=this._writableState;if(e.corked){e.corked--;if(!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest)U(this,e)}};T.prototype.setDefaultEncoding=function e(t){if(typeof t==="string")t=t.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new S(t);this._writableState.defaultEncoding=t;return this};Object.defineProperty(T.prototype,"writableBuffer",{enumerable:false,get:function e(){return this._writableState&&this._writableState.getBuffer()}});function L(e,t,r){if(!e.objectMode&&e.decodeStrings!==false&&typeof t==="string"){t=o.from(t,r)}return t}Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:false,get:function e(){return this._writableState.highWaterMark}});function A(e,t,r,n,i,a){if(!r){var s=L(t,n,i);if(n!==s){r=true;i="buffer";n=s}}var o=t.objectMode?1:n.length;t.length+=o;var f=t.length<t.highWaterMark;if(!f)t.needDrain=true;if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null};if(u){u.next=t.lastBufferedRequest}else{t.bufferedRequest=t.lastBufferedRequest}t.bufferedRequestCount+=1}else{P(e,t,false,o,n,i,a)}return f}function P(e,t,r,n,i,a,s){t.writelen=n;t.writecb=s;t.writing=true;t.sync=true;if(t.destroyed)t.onwrite(new _("write"));else if(r)e._writev(i,t.onwrite);else e._write(i,a,t.onwrite);t.sync=false}function j(e,t,r,n,i){--t.pendingcb;if(r){s.nextTick(i,n);s.nextTick(H,e,t);e._writableState.errorEmitted=true;E(e,n)}else{i(n);e._writableState.errorEmitted=true;E(e,n);H(e,t)}}function C(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function I(e,t){var r=e._writableState;var n=r.sync;var i=r.writecb;if(typeof i!=="function")throw new v;C(r);if(t)j(e,r,n,t,i);else{var a=N(r)||e.destroyed;if(!a&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest){U(e,r)}if(n){s.nextTick(D,e,r,a,i)}else{D(e,r,a,i)}}}function D(e,t,r,n){if(!r)B(e,t);t.pendingcb--;n();H(e,t)}function B(e,t){if(t.length===0&&t.needDrain){t.needDrain=false;e.emit("drain")}}function U(e,t){t.bufferProcessing=true;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount;var i=new Array(n);var a=t.corkedRequestsFree;a.entry=r;var s=0;var o=true;while(r){i[s]=r;if(!r.isBuf)o=false;r=r.next;s+=1}i.allBuffers=o;P(e,t,true,t.length,i,"",a.finish);t.pendingcb++;t.lastBufferedRequest=null;if(a.next){t.corkedRequestsFree=a.next;a.next=null}else{t.corkedRequestsFree=new d(t)}t.bufferedRequestCount=0}else{while(r){var f=r.chunk;var u=r.encoding;var l=r.callback;var c=t.objectMode?1:f.length;P(e,t,false,c,f,u,l);r=r.next;t.bufferedRequestCount--;if(t.writing){break}}if(r===null)t.lastBufferedRequest=null}t.bufferedRequest=r;t.bufferProcessing=false}T.prototype._write=function(e,t,r){r(new g("_write()"))};T.prototype._writev=null;T.prototype.end=function(e,t,r){var n=this._writableState;if(typeof e==="function"){r=e;e=null;t=null}else if(typeof t==="function"){r=t;t=null}if(e!==null&&e!==undefined)this.write(e,t);if(n.corked){n.corked=1;this.uncork()}if(!n.ending)F(this,n,r);return this};Object.defineProperty(T.prototype,"writableLength",{enumerable:false,get:function e(){return this._writableState.length}});function N(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function W(t,r){t._final(function(e){r.pendingcb--;if(e){E(t,e)}r.prefinished=true;t.emit("prefinish");H(t,r)})}function q(e,t){if(!t.prefinished&&!t.finalCalled){if(typeof e._final==="function"&&!t.destroyed){t.pendingcb++;t.finalCalled=true;s.nextTick(W,e,t)}else{t.prefinished=true;e.emit("prefinish")}}}function H(e,t){var r=N(t);if(r){q(e,t);if(t.pendingcb===0){t.finished=true;e.emit("finish");if(t.autoDestroy){var n=e._readableState;if(!n||n.autoDestroy&&n.endEmitted){e.destroy()}}}}return r}function F(e,t,r){t.ending=true;H(e,t);if(r){if(t.finished)s.nextTick(r);else e.once("finish",r)}t.ended=true;e.writable=false}function K(e,t,r){var n=e.entry;e.entry=null;while(n){var i=n.callback;t.pendingcb--;i(r);n=n.next}t.corkedRequestsFree.next=e}Object.defineProperty(T.prototype,"destroyed",{enumerable:false,get:function e(){if(this._writableState===undefined){return false}return this._writableState.destroyed},set:function e(t){if(!this._writableState){return}this._writableState.destroyed=t}});T.prototype.destroy=l.destroy;T.prototype._undestroy=l.undestroy;T.prototype._destroy=function(e,t){t(e)}}).call(this,z(19),z(74))},function(e,t,r){"use strict";e.exports=l;var n=r(167).codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,a=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=n.ERR_TRANSFORM_WITH_LENGTH_0;var f=r(168);r(158)(l,f);function u(e,t){var r=this._transformState;r.transforming=false;var n=r.writecb;if(n===null){return this.emit("error",new a)}r.writechunk=null;r.writecb=null;if(t!=null)this.push(t);n(e);var i=this._readableState;i.reading=false;if(i.needReadable||i.length<i.highWaterMark){this._read(i.highWaterMark)}}function l(e){if(!(this instanceof l))return new l(e);f.call(this,e);this._transformState={afterTransform:u.bind(this),needTransform:false,transforming:false,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=true;this._readableState.sync=false;if(e){if(typeof e.transform==="function")this._transform=e.transform;if(typeof e.flush==="function")this._flush=e.flush}this.on("prefinish",c)}function c(){var r=this;if(typeof this._flush==="function"&&!this._readableState.destroyed){this._flush(function(e,t){d(r,e,t)})}else{d(this,null,null)}}l.prototype.push=function(e,t){this._transformState.needTransform=false;return f.prototype.push.call(this,e,t)};l.prototype._transform=function(e,t,r){r(new i("_transform()"))};l.prototype._write=function(e,t,r){var n=this._transformState;n.writecb=r;n.writechunk=e;n.writeencoding=t;if(!n.transforming){var i=this._readableState;if(n.needTransform||i.needReadable||i.length<i.highWaterMark)this._read(i.highWaterMark)}};l.prototype._read=function(e){var t=this._transformState;if(t.writechunk!==null&&!t.transforming){t.transforming=true;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}else{t.needTransform=true}};l.prototype._destroy=function(e,t){f.prototype._destroy.call(this,e,function(e){t(e)})};function d(e,t,r){if(t)return e.emit("error",t);if(r!=null)e.push(r);if(e._writableState.length)throw new o;if(e._transformState.transforming)throw new s;return e.push(null)}},function(X,e,J){"use strict";(function(e,g){X.exports=M;var n;M.ReadableState=T;var t=J(159).EventEmitter;var v=function e(t,r){return t.listeners(r).length};var i=J(230);var o=J(73).Buffer;var r=e.Uint8Array||function(){};function f(e){return o.from(e)}function a(e){return o.isBuffer(e)||e instanceof r}var s=J(348);var y;if(s&&s.debuglog){y=s.debuglog("stream")}else{y=function e(){}}var u=J(349);var l=J(231);var c=J(232),d=c.getHighWaterMark;var h=J(169).codes,p=h.ERR_INVALID_ARG_TYPE,b=h.ERR_STREAM_PUSH_AFTER_EOF,_=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;var w;var S;var E;J(158)(M,i);var R=l.errorOrDestroy;var k=["error","close","destroy","pause","resume"];function x(e,t,r){if(typeof e.prependListener==="function")return e.prependListener(t,r);if(!e._events||!e._events[t])e.on(t,r);else if(Array.isArray(e._events[t]))e._events[t].unshift(r);else e._events[t]=[r,e._events[t]]}function T(e,t,r){n=n||J(170);e=e||{};if(typeof r!=="boolean")r=t instanceof n;this.objectMode=!!e.objectMode;if(r)this.objectMode=this.objectMode||!!e.readableObjectMode;this.highWaterMark=d(this,e,"readableHighWaterMark",r);this.buffer=new u;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.paused=true;this.emitClose=e.emitClose!==false;this.autoDestroy=!!e.autoDestroy;this.destroyed=false;this.defaultEncoding=e.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(e.encoding){if(!w)w=J(160).StringDecoder;this.decoder=new w(e.encoding);this.encoding=e.encoding}}function M(e){n=n||J(170);if(!(this instanceof M))return new M(e);var t=this instanceof n;this._readableState=new T(e,this,t);this.readable=true;if(e){if(typeof e.read==="function")this._read=e.read;if(typeof e.destroy==="function")this._destroy=e.destroy}i.call(this)}Object.defineProperty(M.prototype,"destroyed",{enumerable:false,get:function e(){if(this._readableState===undefined){return false}return this._readableState.destroyed},set:function e(t){if(!this._readableState){return}this._readableState.destroyed=t}});M.prototype.destroy=l.destroy;M.prototype._undestroy=l.undestroy;M.prototype._destroy=function(e,t){t(e)};M.prototype.push=function(e,t){var r=this._readableState;var n;if(!r.objectMode){if(typeof e==="string"){t=t||r.defaultEncoding;if(t!==r.encoding){e=o.from(e,t);t=""}n=true}}else{n=true}return O(this,e,t,false,n)};M.prototype.unshift=function(e){return O(this,e,null,true,false)};function O(e,t,r,n,i){y("readableAddChunk",t);var a=e._readableState;if(t===null){a.reading=false;I(e,a)}else{var s;if(!i)s=A(a,t);if(s){R(e,s)}else if(a.objectMode||t&&t.length>0){if(typeof t!=="string"&&!a.objectMode&&Object.getPrototypeOf(t)!==o.prototype){t=f(t)}if(n){if(a.endEmitted)R(e,new m);else L(e,a,t,true)}else if(a.ended){R(e,new b)}else if(a.destroyed){return false}else{a.reading=false;if(a.decoder&&!r){t=a.decoder.write(t);if(a.objectMode||t.length!==0)L(e,a,t,false);else U(e,a)}else{L(e,a,t,false)}}}else if(!n){a.reading=false;U(e,a)}}return!a.ended&&(a.length<a.highWaterMark||a.length===0)}function L(e,t,r,n){if(t.flowing&&t.length===0&&!t.sync){t.awaitDrain=0;e.emit("data",r)}else{t.length+=t.objectMode?1:r.length;if(n)t.buffer.unshift(r);else t.buffer.push(r);if(t.needReadable)D(e)}U(e,t)}function A(e,t){var r;if(!a(t)&&typeof t!=="string"&&t!==undefined&&!e.objectMode){r=new p("chunk",["string","Buffer","Uint8Array"],t)}return r}M.prototype.isPaused=function(){return this._readableState.flowing===false};M.prototype.setEncoding=function(e){if(!w)w=J(160).StringDecoder;var t=new w(e);this._readableState.decoder=t;this._readableState.encoding=this._readableState.decoder.encoding;var r=this._readableState.buffer.head;var n="";while(r!==null){n+=t.write(r.data);r=r.next}this._readableState.buffer.clear();if(n!=="")this._readableState.buffer.push(n);this._readableState.length=n.length;return this};var P=1073741824;function j(e){if(e>=P){e=P}else{e--;e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;e++}return e}function C(e,t){if(e<=0||t.length===0&&t.ended)return 0;if(t.objectMode)return 1;if(e!==e){if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length}if(e>t.highWaterMark)t.highWaterMark=j(e);if(e<=t.length)return e;if(!t.ended){t.needReadable=true;return 0}return t.length}M.prototype.read=function(e){y("read",e);e=parseInt(e,10);var t=this._readableState;var r=e;if(e!==0)t.emittedReadable=false;if(e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended)){y("read: emitReadable",t.length,t.ended);if(t.length===0&&t.ended)G(this);else D(this);return null}e=C(e,t);if(e===0&&t.ended){if(t.length===0)G(this);return null}var n=t.needReadable;y("need readable",n);if(t.length===0||t.length-e<t.highWaterMark){n=true;y("length less than watermark",n)}if(t.ended||t.reading){n=false;y("reading or ended",n)}else if(n){y("do read");t.reading=true;t.sync=true;if(t.length===0)t.needReadable=true;this._read(t.highWaterMark);t.sync=false;if(!t.reading)e=C(r,t)}var i;if(e>0)i=z(e,t);else i=null;if(i===null){t.needReadable=t.length<=t.highWaterMark;e=0}else{t.length-=e;t.awaitDrain=0}if(t.length===0){if(!t.ended)t.needReadable=true;if(r!==e&&t.ended)G(this)}if(i!==null)this.emit("data",i);return i};function I(e,t){y("onEofChunk");if(t.ended)return;if(t.decoder){var r=t.decoder.end();if(r&&r.length){t.buffer.push(r);t.length+=t.objectMode?1:r.length}}t.ended=true;if(t.sync){D(e)}else{t.needReadable=false;if(!t.emittedReadable){t.emittedReadable=true;B(e)}}}function D(e){var t=e._readableState;y("emitReadable",t.needReadable,t.emittedReadable);t.needReadable=false;if(!t.emittedReadable){y("emitReadable",t.flowing);t.emittedReadable=true;g.nextTick(B,e)}}function B(e){var t=e._readableState;y("emitReadable_",t.destroyed,t.length,t.ended);if(!t.destroyed&&(t.length||t.ended)){e.emit("readable");t.emittedReadable=false}t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark;V(e)}function U(e,t){if(!t.readingMore){t.readingMore=true;g.nextTick(N,e,t)}}function N(e,t){while(!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0)){var r=t.length;y("maybeReadMore read 0");e.read(0);if(r===t.length)break}t.readingMore=false}M.prototype._read=function(e){R(this,new _("_read()"))};M.prototype.pipe=function(r,e){var n=this;var i=this._readableState;switch(i.pipesCount){case 0:i.pipes=r;break;case 1:i.pipes=[i.pipes,r];break;default:i.pipes.push(r);break}i.pipesCount+=1;y("pipe count=%d opts=%j",i.pipesCount,e);var t=(!e||e.end!==false)&&r!==g.stdout&&r!==g.stderr;var a=t?o:b;if(i.endEmitted)g.nextTick(a);else n.once("end",a);r.on("unpipe",s);function s(e,t){y("onunpipe");if(e===n){if(t&&t.hasUnpiped===false){t.hasUnpiped=true;l()}}}function o(){y("onend");r.end()}var f=W(n);r.on("drain",f);var u=false;function l(){y("cleanup");r.removeListener("close",h);r.removeListener("finish",p);r.removeListener("drain",f);r.removeListener("error",d);r.removeListener("unpipe",s);n.removeListener("end",o);n.removeListener("end",b);n.removeListener("data",c);u=true;if(i.awaitDrain&&(!r._writableState||r._writableState.needDrain))f()}n.on("data",c);function c(e){y("ondata");var t=r.write(e);y("dest.write",t);if(t===false){if((i.pipesCount===1&&i.pipes===r||i.pipesCount>1&&Y(i.pipes,r)!==-1)&&!u){y("false write response, pause",i.awaitDrain);i.awaitDrain++}n.pause()}}function d(e){y("onerror",e);b();r.removeListener("error",d);if(v(r,"error")===0)R(r,e)}x(r,"error",d);function h(){r.removeListener("finish",p);b()}r.once("close",h);function p(){y("onfinish");r.removeListener("close",h);b()}r.once("finish",p);function b(){y("unpipe");n.unpipe(r)}r.emit("pipe",n);if(!i.flowing){y("pipe resume");n.resume()}return r};function W(r){return function e(){var t=r._readableState;y("pipeOnDrain",t.awaitDrain);if(t.awaitDrain)t.awaitDrain--;if(t.awaitDrain===0&&v(r,"data")){t.flowing=true;V(r)}}}M.prototype.unpipe=function(e){var t=this._readableState;var r={hasUnpiped:false};if(t.pipesCount===0)return this;if(t.pipesCount===1){if(e&&e!==t.pipes)return this;if(!e)e=t.pipes;t.pipes=null;t.pipesCount=0;t.flowing=false;if(e)e.emit("unpipe",this,r);return this}if(!e){var n=t.pipes;var i=t.pipesCount;t.pipes=null;t.pipesCount=0;t.flowing=false;for(var a=0;a<i;a++){n[a].emit("unpipe",this,{hasUnpiped:false})}return this}var s=Y(t.pipes,e);if(s===-1)return this;t.pipes.splice(s,1);t.pipesCount-=1;if(t.pipesCount===1)t.pipes=t.pipes[0];e.emit("unpipe",this,r);return this};M.prototype.on=function(e,t){var r=i.prototype.on.call(this,e,t);var n=this._readableState;if(e==="data"){n.readableListening=this.listenerCount("readable")>0;if(n.flowing!==false)this.resume()}else if(e==="readable"){if(!n.endEmitted&&!n.readableListening){n.readableListening=n.needReadable=true;n.flowing=false;n.emittedReadable=false;y("on readable",n.length,n.reading);if(n.length){D(this)}else if(!n.reading){g.nextTick(H,this)}}}return r};M.prototype.addListener=M.prototype.on;M.prototype.removeListener=function(e,t){var r=i.prototype.removeListener.call(this,e,t);if(e==="readable"){g.nextTick(q,this)}return r};M.prototype.removeAllListeners=function(e){var t=i.prototype.removeAllListeners.apply(this,arguments);if(e==="readable"||e===undefined){g.nextTick(q,this)}return t};function q(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0;if(t.resumeScheduled&&!t.paused){t.flowing=true}else if(e.listenerCount("data")>0){e.resume()}}function H(e){y("readable nexttick read 0");e.read(0)}M.prototype.resume=function(){var e=this._readableState;if(!e.flowing){y("resume");e.flowing=!e.readableListening;F(this,e)}e.paused=false;return this};function F(e,t){if(!t.resumeScheduled){t.resumeScheduled=true;g.nextTick(K,e,t)}}function K(e,t){y("resume",t.reading);if(!t.reading){e.read(0)}t.resumeScheduled=false;e.emit("resume");V(e);if(t.flowing&&!t.reading)e.read(0)}M.prototype.pause=function(){y("call pause flowing=%j",this._readableState.flowing);if(this._readableState.flowing!==false){y("pause");this._readableState.flowing=false;this.emit("pause")}this._readableState.paused=true;return this};function V(e){var t=e._readableState;y("flow",t.flowing);while(t.flowing&&e.read()!==null){}}M.prototype.wrap=function(r){var n=this;var i=this._readableState;var a=false;r.on("end",function(){y("wrapped end");if(i.decoder&&!i.ended){var e=i.decoder.end();if(e&&e.length)n.push(e)}n.push(null)});r.on("data",function(e){y("wrapped data");if(i.decoder)e=i.decoder.write(e);if(i.objectMode&&(e===null||e===undefined))return;else if(!i.objectMode&&(!e||!e.length))return;var t=n.push(e);if(!t){a=true;r.pause()}});for(var e in r){if(this[e]===undefined&&typeof r[e]==="function"){this[e]=function e(t){return function e(){return r[t].apply(r,arguments)}}(e)}}for(var t=0;t<k.length;t++){r.on(k[t],this.emit.bind(this,k[t]))}this._read=function(e){y("wrapped _read",e);if(a){a=false;r.resume()}};return this};if(typeof Symbol==="function"){M.prototype[Symbol.asyncIterator]=function(){if(S===undefined){S=J(351)}return S(this)}}Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:false,get:function e(){return this._readableState.highWaterMark}});Object.defineProperty(M.prototype,"readableBuffer",{enumerable:false,get:function e(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(M.prototype,"readableFlowing",{enumerable:false,get:function e(){return this._readableState.flowing},set:function e(t){if(this._readableState){this._readableState.flowing=t}}});M._fromList=z;Object.defineProperty(M.prototype,"readableLength",{enumerable:false,get:function e(){return this._readableState.length}});function z(e,t){if(t.length===0)return null;var r;if(t.objectMode)r=t.buffer.shift();else if(!e||e>=t.length){if(t.decoder)r=t.buffer.join("");else if(t.buffer.length===1)r=t.buffer.first();else r=t.buffer.concat(t.length);t.buffer.clear()}else{r=t.buffer.consume(e,t.decoder)}return r}function G(e){var t=e._readableState;y("endReadable",t.endEmitted);if(!t.endEmitted){t.ended=true;g.nextTick($,t,e)}}function $(e,t){y("endReadableNT",e.endEmitted,e.length);if(!e.endEmitted&&e.length===0){e.endEmitted=true;t.readable=false;t.emit("end");if(e.autoDestroy){var r=t._writableState;if(!r||r.autoDestroy&&r.finished){t.destroy()}}}}if(typeof Symbol==="function"){M.from=function(e,t){if(E===undefined){E=J(352)}return E(M,e,t)}}function Y(e,t){for(var r=0,n=e.length;r<n;r++){if(e[r]===t)return r}return-1}}).call(this,J(19),J(74))},function(e,t,r){e.exports=r(159).EventEmitter},function(n,e,t){"use strict";(function(a){function e(e,t){var r=this;var n=this._readableState&&this._readableState.destroyed;var i=this._writableState&&this._writableState.destroyed;if(n||i){if(t){t(e)}else if(e){if(!this._writableState){a.nextTick(f,this,e)}else if(!this._writableState.errorEmitted){this._writableState.errorEmitted=true;a.nextTick(f,this,e)}}return this}if(this._readableState){this._readableState.destroyed=true}if(this._writableState){this._writableState.destroyed=true}this._destroy(e||null,function(e){if(!t&&e){if(!r._writableState){a.nextTick(s,r,e)}else if(!r._writableState.errorEmitted){r._writableState.errorEmitted=true;a.nextTick(s,r,e)}else{a.nextTick(o,r)}}else if(t){a.nextTick(o,r);t(e)}else{a.nextTick(o,r)}});return this}function s(e,t){f(e,t);o(e)}function o(e){if(e._writableState&&!e._writableState.emitClose)return;if(e._readableState&&!e._readableState.emitClose)return;e.emit("close")}function t(){if(this._readableState){this._readableState.destroyed=false;this._readableState.reading=false;this._readableState.ended=false;this._readableState.endEmitted=false}if(this._writableState){this._writableState.destroyed=false;this._writableState.ended=false;this._writableState.ending=false;this._writableState.finalCalled=false;this._writableState.prefinished=false;this._writableState.finished=false;this._writableState.errorEmitted=false}}function f(e,t){e.emit("error",t)}function r(e,t){var r=e._readableState;var n=e._writableState;if(r&&r.autoDestroy||n&&n.autoDestroy)e.destroy(t);else e.emit("error",t)}n.exports={destroy:e,undestroy:t,errorOrDestroy:r}}).call(this,t(74))},function(e,t,r){"use strict";var s=r(169).codes.ERR_INVALID_OPT_VALUE;function o(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function n(e,t,r,n){var i=o(t,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var a=n?r:"highWaterMark";throw new s(a,i)}return Math.floor(i)}return e.objectMode?16:16*1024}e.exports={getHighWaterMark:n}},function(V,e,z){"use strict";(function(e,s){V.exports=T;function t(e,t,r){this.chunk=e;this.encoding=t;this.callback=r;this.next=null}function d(e){var t=this;this.next=null;this.entry=null;this.finish=function(){K(t,e)}}var i;T.WritableState=k;var r={deprecate:z(163)};var n=z(230);var o=z(73).Buffer;var a=e.Uint8Array||function(){};function f(e){return o.from(e)}function u(e){return o.isBuffer(e)||e instanceof a}var l=z(231);var c=z(232),h=c.getHighWaterMark;var p=z(169).codes,b=p.ERR_INVALID_ARG_TYPE,g=p.ERR_METHOD_NOT_IMPLEMENTED,v=p.ERR_MULTIPLE_CALLBACK,y=p.ERR_STREAM_CANNOT_PIPE,_=p.ERR_STREAM_DESTROYED,m=p.ERR_STREAM_NULL_VALUES,w=p.ERR_STREAM_WRITE_AFTER_END,S=p.ERR_UNKNOWN_ENCODING;var E=l.errorOrDestroy;z(158)(T,n);function R(){}function k(e,t,r){i=i||z(170);e=e||{};if(typeof r!=="boolean")r=t instanceof i;this.objectMode=!!e.objectMode;if(r)this.objectMode=this.objectMode||!!e.writableObjectMode;this.highWaterMark=h(this,e,"writableHighWaterMark",r);this.finalCalled=false;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;this.destroyed=false;var n=e.decodeStrings===false;this.decodeStrings=!n;this.defaultEncoding=e.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){I(t,e)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.emitClose=e.emitClose!==false;this.autoDestroy=!!e.autoDestroy;this.bufferedRequestCount=0;this.corkedRequestsFree=new d(this)}k.prototype.getBuffer=function e(){var t=this.bufferedRequest;var r=[];while(t){r.push(t);t=t.next}return r};(function(){try{Object.defineProperty(k.prototype,"buffer",{get:r.deprecate(function e(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}})();var x;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"){x=Function.prototype[Symbol.hasInstance];Object.defineProperty(T,Symbol.hasInstance,{value:function e(t){if(x.call(this,t))return true;if(this!==T)return false;return t&&t._writableState instanceof k}})}else{x=function e(t){return t instanceof this}}function T(e){i=i||z(170);var t=this instanceof i;if(!t&&!x.call(T,this))return new T(e);this._writableState=new k(e,this,t);this.writable=true;if(e){if(typeof e.write==="function")this._write=e.write;if(typeof e.writev==="function")this._writev=e.writev;if(typeof e.destroy==="function")this._destroy=e.destroy;if(typeof e.final==="function")this._final=e.final}n.call(this)}T.prototype.pipe=function(){E(this,new y)};function M(e,t){var r=new w;E(e,r);s.nextTick(t,r)}function O(e,t,r,n){var i;if(r===null){i=new m}else if(typeof r!=="string"&&!t.objectMode){i=new b("chunk",["string","Buffer"],r)}if(i){E(e,i);s.nextTick(n,i);return false}return true}T.prototype.write=function(e,t,r){var n=this._writableState;var i=false;var a=!n.objectMode&&u(e);if(a&&!o.isBuffer(e)){e=f(e)}if(typeof t==="function"){r=t;t=null}if(a)t="buffer";else if(!t)t=n.defaultEncoding;if(typeof r!=="function")r=R;if(n.ending)M(this,r);else if(a||O(this,n,e,r)){n.pendingcb++;i=A(this,n,a,e,t,r)}return i};T.prototype.cork=function(){this._writableState.corked++};T.prototype.uncork=function(){var e=this._writableState;if(e.corked){e.corked--;if(!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest)U(this,e)}};T.prototype.setDefaultEncoding=function e(t){if(typeof t==="string")t=t.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new S(t);this._writableState.defaultEncoding=t;return this};Object.defineProperty(T.prototype,"writableBuffer",{enumerable:false,get:function e(){return this._writableState&&this._writableState.getBuffer()}});function L(e,t,r){if(!e.objectMode&&e.decodeStrings!==false&&typeof t==="string"){t=o.from(t,r)}return t}Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:false,get:function e(){return this._writableState.highWaterMark}});function A(e,t,r,n,i,a){if(!r){var s=L(t,n,i);if(n!==s){r=true;i="buffer";n=s}}var o=t.objectMode?1:n.length;t.length+=o;var f=t.length<t.highWaterMark;if(!f)t.needDrain=true;if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null};if(u){u.next=t.lastBufferedRequest}else{t.bufferedRequest=t.lastBufferedRequest}t.bufferedRequestCount+=1}else{P(e,t,false,o,n,i,a)}return f}function P(e,t,r,n,i,a,s){t.writelen=n;t.writecb=s;t.writing=true;t.sync=true;if(t.destroyed)t.onwrite(new _("write"));else if(r)e._writev(i,t.onwrite);else e._write(i,a,t.onwrite);t.sync=false}function j(e,t,r,n,i){--t.pendingcb;if(r){s.nextTick(i,n);s.nextTick(H,e,t);e._writableState.errorEmitted=true;E(e,n)}else{i(n);e._writableState.errorEmitted=true;E(e,n);H(e,t)}}function C(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function I(e,t){var r=e._writableState;var n=r.sync;var i=r.writecb;if(typeof i!=="function")throw new v;C(r);if(t)j(e,r,n,t,i);else{var a=N(r)||e.destroyed;if(!a&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest){U(e,r)}if(n){s.nextTick(D,e,r,a,i)}else{D(e,r,a,i)}}}function D(e,t,r,n){if(!r)B(e,t);t.pendingcb--;n();H(e,t)}function B(e,t){if(t.length===0&&t.needDrain){t.needDrain=false;e.emit("drain")}}function U(e,t){t.bufferProcessing=true;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount;var i=new Array(n);var a=t.corkedRequestsFree;a.entry=r;var s=0;var o=true;while(r){i[s]=r;if(!r.isBuf)o=false;r=r.next;s+=1}i.allBuffers=o;P(e,t,true,t.length,i,"",a.finish);t.pendingcb++;t.lastBufferedRequest=null;if(a.next){t.corkedRequestsFree=a.next;a.next=null}else{t.corkedRequestsFree=new d(t)}t.bufferedRequestCount=0}else{while(r){var f=r.chunk;var u=r.encoding;var l=r.callback;var c=t.objectMode?1:f.length;P(e,t,false,c,f,u,l);r=r.next;t.bufferedRequestCount--;if(t.writing){break}}if(r===null)t.lastBufferedRequest=null}t.bufferedRequest=r;t.bufferProcessing=false}T.prototype._write=function(e,t,r){r(new g("_write()"))};T.prototype._writev=null;T.prototype.end=function(e,t,r){var n=this._writableState;if(typeof e==="function"){r=e;e=null;t=null}else if(typeof t==="function"){r=t;t=null}if(e!==null&&e!==undefined)this.write(e,t);if(n.corked){n.corked=1;this.uncork()}if(!n.ending)F(this,n,r);return this};Object.defineProperty(T.prototype,"writableLength",{enumerable:false,get:function e(){return this._writableState.length}});function N(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function W(t,r){t._final(function(e){r.pendingcb--;if(e){E(t,e)}r.prefinished=true;t.emit("prefinish");H(t,r)})}function q(e,t){if(!t.prefinished&&!t.finalCalled){if(typeof e._final==="function"&&!t.destroyed){t.pendingcb++;t.finalCalled=true;s.nextTick(W,e,t)}else{t.prefinished=true;e.emit("prefinish")}}}function H(e,t){var r=N(t);if(r){q(e,t);if(t.pendingcb===0){t.finished=true;e.emit("finish");if(t.autoDestroy){var n=e._readableState;if(!n||n.autoDestroy&&n.endEmitted){e.destroy()}}}}return r}function F(e,t,r){t.ending=true;H(e,t);if(r){if(t.finished)s.nextTick(r);else e.once("finish",r)}t.ended=true;e.writable=false}function K(e,t,r){var n=e.entry;e.entry=null;while(n){var i=n.callback;t.pendingcb--;i(r);n=n.next}t.corkedRequestsFree.next=e}Object.defineProperty(T.prototype,"destroyed",{enumerable:false,get:function e(){if(this._writableState===undefined){return false}return this._writableState.destroyed},set:function e(t){if(!this._writableState){return}this._writableState.destroyed=t}});T.prototype.destroy=l.destroy;T.prototype._undestroy=l.undestroy;T.prototype._destroy=function(e,t){t(e)}}).call(this,z(19),z(74))},function(e,t,r){"use strict";e.exports=l;var n=r(169).codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,a=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=n.ERR_TRANSFORM_WITH_LENGTH_0;var f=r(170);r(158)(l,f);function u(e,t){var r=this._transformState;r.transforming=false;var n=r.writecb;if(n===null){return this.emit("error",new a)}r.writechunk=null;r.writecb=null;if(t!=null)this.push(t);n(e);var i=this._readableState;i.reading=false;if(i.needReadable||i.length<i.highWaterMark){this._read(i.highWaterMark)}}function l(e){if(!(this instanceof l))return new l(e);f.call(this,e);this._transformState={afterTransform:u.bind(this),needTransform:false,transforming:false,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=true;this._readableState.sync=false;if(e){if(typeof e.transform==="function")this._transform=e.transform;if(typeof e.flush==="function")this._flush=e.flush}this.on("prefinish",c)}function c(){var r=this;if(typeof this._flush==="function"&&!this._readableState.destroyed){this._flush(function(e,t){d(r,e,t)})}else{d(this,null,null)}}l.prototype.push=function(e,t){this._transformState.needTransform=false;return f.prototype.push.call(this,e,t)};l.prototype._transform=function(e,t,r){r(new i("_transform()"))};l.prototype._write=function(e,t,r){var n=this._transformState;n.writecb=r;n.writechunk=e;n.writeencoding=t;if(!n.transforming){var i=this._readableState;if(n.needTransform||i.needReadable||i.length<i.highWaterMark)this._read(i.highWaterMark)}};l.prototype._read=function(e){var t=this._transformState;if(t.writechunk!==null&&!t.transforming){t.transforming=true;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}else{t.needTransform=true}};l.prototype._destroy=function(e,t){f.prototype._destroy.call(this,e,function(e){t(e)})};function d(e,t,r){if(t)return e.emit("error",t);if(r!=null)e.push(r);if(e._writableState.length)throw new o;if(e._transformState.transforming)throw new s;return e.push(null)}},function(e,t,r){
/*! multistream. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
const n=r(359);const i=r(166);function a(e){return o(e,{objectMode:true,highWaterMark:16})}function s(e){return o(e)}function o(e,t){if(!e||typeof e==="function"||e._readableState)return e;const r=new n.Readable(t).wrap(e);if(e.destroy){r.destroy=e.destroy.bind(e)}return r}class f extends n.Readable{constructor(e,t){super({...t,autoDestroy:true});this._drained=false;this._forwarding=false;this._current=null;this._toStreams2=t&&t.objectMode?a:s;if(typeof e==="function"){this._queue=e}else{this._queue=e.map(this._toStreams2);this._queue.forEach(e=>{if(typeof e!=="function")this._attachErrorListener(e)})}this._next()}_read(){this._drained=true;this._forward()}_forward(){if(this._forwarding||!this._drained||!this._current)return;this._forwarding=true;let e;while(this._drained&&(e=this._current.read())!==null){this._drained=this.push(e)}this._forwarding=false}_destroy(n,i){let e=[];if(this._current)e.push(this._current);if(typeof this._queue!=="function")e=e.concat(this._queue);if(e.length===0){i(n)}else{let t=e.length;let r=n;e.forEach(e=>{u(e,n,e=>{r=r||e;if(--t===0){i(r)}})})}}_next(){this._current=null;if(typeof this._queue==="function"){this._queue((e,t)=>{if(e)return this.destroy(e);t=this._toStreams2(t);this._attachErrorListener(t);this._gotNextStream(t)})}else{let e=this._queue.shift();if(typeof e==="function"){e=this._toStreams2(e());this._attachErrorListener(e)}this._gotNextStream(e)}}_gotNextStream(t){if(!t){this.push(null);return}this._current=t;this._forward();const e=()=>{this._forward()};const r=()=>{if(!t._readableState.ended&&!t.destroyed){const e=new Error("ERR_STREAM_PREMATURE_CLOSE");e.code="ERR_STREAM_PREMATURE_CLOSE";this.destroy(e)}};const n=()=>{this._current=null;t.removeListener("readable",e);t.removeListener("end",n);t.removeListener("close",r);t.destroy();this._next()};t.on("readable",e);t.once("end",n);t.once("close",r)}_attachErrorListener(t){if(!t)return;const r=e=>{t.removeListener("error",r);this.destroy(e)};t.once("error",r)}}f.obj=e=>new f(e,{objectMode:true,highWaterMark:16});e.exports=f;function u(e,t,r){if(!e.destroy||e.destroyed){r(t)}else{const n=i(e=>r(e||t));e.on("error",n).on("close",()=>n()).destroy(t,n)}}},function(X,e,J){"use strict";(function(e,g){X.exports=M;var n;M.ReadableState=T;var t=J(159).EventEmitter;var v=function e(t,r){return t.listeners(r).length};var i=J(237);var o=J(73).Buffer;var r=e.Uint8Array||function(){};function f(e){return o.from(e)}function a(e){return o.isBuffer(e)||e instanceof r}var s=J(360);var y;if(s&&s.debuglog){y=s.debuglog("stream")}else{y=function e(){}}var u=J(361);var l=J(238);var c=J(239),d=c.getHighWaterMark;var h=J(171).codes,p=h.ERR_INVALID_ARG_TYPE,b=h.ERR_STREAM_PUSH_AFTER_EOF,_=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;var w;var S;var E;J(158)(M,i);var R=l.errorOrDestroy;var k=["error","close","destroy","pause","resume"];function x(e,t,r){if(typeof e.prependListener==="function")return e.prependListener(t,r);if(!e._events||!e._events[t])e.on(t,r);else if(Array.isArray(e._events[t]))e._events[t].unshift(r);else e._events[t]=[r,e._events[t]]}function T(e,t,r){n=n||J(172);e=e||{};if(typeof r!=="boolean")r=t instanceof n;this.objectMode=!!e.objectMode;if(r)this.objectMode=this.objectMode||!!e.readableObjectMode;this.highWaterMark=d(this,e,"readableHighWaterMark",r);this.buffer=new u;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.paused=true;this.emitClose=e.emitClose!==false;this.autoDestroy=!!e.autoDestroy;this.destroyed=false;this.defaultEncoding=e.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(e.encoding){if(!w)w=J(160).StringDecoder;this.decoder=new w(e.encoding);this.encoding=e.encoding}}function M(e){n=n||J(172);if(!(this instanceof M))return new M(e);var t=this instanceof n;this._readableState=new T(e,this,t);this.readable=true;if(e){if(typeof e.read==="function")this._read=e.read;if(typeof e.destroy==="function")this._destroy=e.destroy}i.call(this)}Object.defineProperty(M.prototype,"destroyed",{enumerable:false,get:function e(){if(this._readableState===undefined){return false}return this._readableState.destroyed},set:function e(t){if(!this._readableState){return}this._readableState.destroyed=t}});M.prototype.destroy=l.destroy;M.prototype._undestroy=l.undestroy;M.prototype._destroy=function(e,t){t(e)};M.prototype.push=function(e,t){var r=this._readableState;var n;if(!r.objectMode){if(typeof e==="string"){t=t||r.defaultEncoding;if(t!==r.encoding){e=o.from(e,t);t=""}n=true}}else{n=true}return O(this,e,t,false,n)};M.prototype.unshift=function(e){return O(this,e,null,true,false)};function O(e,t,r,n,i){y("readableAddChunk",t);var a=e._readableState;if(t===null){a.reading=false;I(e,a)}else{var s;if(!i)s=A(a,t);if(s){R(e,s)}else if(a.objectMode||t&&t.length>0){if(typeof t!=="string"&&!a.objectMode&&Object.getPrototypeOf(t)!==o.prototype){t=f(t)}if(n){if(a.endEmitted)R(e,new m);else L(e,a,t,true)}else if(a.ended){R(e,new b)}else if(a.destroyed){return false}else{a.reading=false;if(a.decoder&&!r){t=a.decoder.write(t);if(a.objectMode||t.length!==0)L(e,a,t,false);else U(e,a)}else{L(e,a,t,false)}}}else if(!n){a.reading=false;U(e,a)}}return!a.ended&&(a.length<a.highWaterMark||a.length===0)}function L(e,t,r,n){if(t.flowing&&t.length===0&&!t.sync){t.awaitDrain=0;e.emit("data",r)}else{t.length+=t.objectMode?1:r.length;if(n)t.buffer.unshift(r);else t.buffer.push(r);if(t.needReadable)D(e)}U(e,t)}function A(e,t){var r;if(!a(t)&&typeof t!=="string"&&t!==undefined&&!e.objectMode){r=new p("chunk",["string","Buffer","Uint8Array"],t)}return r}M.prototype.isPaused=function(){return this._readableState.flowing===false};M.prototype.setEncoding=function(e){if(!w)w=J(160).StringDecoder;var t=new w(e);this._readableState.decoder=t;this._readableState.encoding=this._readableState.decoder.encoding;var r=this._readableState.buffer.head;var n="";while(r!==null){n+=t.write(r.data);r=r.next}this._readableState.buffer.clear();if(n!=="")this._readableState.buffer.push(n);this._readableState.length=n.length;return this};var P=1073741824;function j(e){if(e>=P){e=P}else{e--;e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;e++}return e}function C(e,t){if(e<=0||t.length===0&&t.ended)return 0;if(t.objectMode)return 1;if(e!==e){if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length}if(e>t.highWaterMark)t.highWaterMark=j(e);if(e<=t.length)return e;if(!t.ended){t.needReadable=true;return 0}return t.length}M.prototype.read=function(e){y("read",e);e=parseInt(e,10);var t=this._readableState;var r=e;if(e!==0)t.emittedReadable=false;if(e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended)){y("read: emitReadable",t.length,t.ended);if(t.length===0&&t.ended)G(this);else D(this);return null}e=C(e,t);if(e===0&&t.ended){if(t.length===0)G(this);return null}var n=t.needReadable;y("need readable",n);if(t.length===0||t.length-e<t.highWaterMark){n=true;y("length less than watermark",n)}if(t.ended||t.reading){n=false;y("reading or ended",n)}else if(n){y("do read");t.reading=true;t.sync=true;if(t.length===0)t.needReadable=true;this._read(t.highWaterMark);t.sync=false;if(!t.reading)e=C(r,t)}var i;if(e>0)i=z(e,t);else i=null;if(i===null){t.needReadable=t.length<=t.highWaterMark;e=0}else{t.length-=e;t.awaitDrain=0}if(t.length===0){if(!t.ended)t.needReadable=true;if(r!==e&&t.ended)G(this)}if(i!==null)this.emit("data",i);return i};function I(e,t){y("onEofChunk");if(t.ended)return;if(t.decoder){var r=t.decoder.end();if(r&&r.length){t.buffer.push(r);t.length+=t.objectMode?1:r.length}}t.ended=true;if(t.sync){D(e)}else{t.needReadable=false;if(!t.emittedReadable){t.emittedReadable=true;B(e)}}}function D(e){var t=e._readableState;y("emitReadable",t.needReadable,t.emittedReadable);t.needReadable=false;if(!t.emittedReadable){y("emitReadable",t.flowing);t.emittedReadable=true;g.nextTick(B,e)}}function B(e){var t=e._readableState;y("emitReadable_",t.destroyed,t.length,t.ended);if(!t.destroyed&&(t.length||t.ended)){e.emit("readable");t.emittedReadable=false}t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark;V(e)}function U(e,t){if(!t.readingMore){t.readingMore=true;g.nextTick(N,e,t)}}function N(e,t){while(!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0)){var r=t.length;y("maybeReadMore read 0");e.read(0);if(r===t.length)break}t.readingMore=false}M.prototype._read=function(e){R(this,new _("_read()"))};M.prototype.pipe=function(r,e){var n=this;var i=this._readableState;switch(i.pipesCount){case 0:i.pipes=r;break;case 1:i.pipes=[i.pipes,r];break;default:i.pipes.push(r);break}i.pipesCount+=1;y("pipe count=%d opts=%j",i.pipesCount,e);var t=(!e||e.end!==false)&&r!==g.stdout&&r!==g.stderr;var a=t?o:b;if(i.endEmitted)g.nextTick(a);else n.once("end",a);r.on("unpipe",s);function s(e,t){y("onunpipe");if(e===n){if(t&&t.hasUnpiped===false){t.hasUnpiped=true;l()}}}function o(){y("onend");r.end()}var f=W(n);r.on("drain",f);var u=false;function l(){y("cleanup");r.removeListener("close",h);r.removeListener("finish",p);r.removeListener("drain",f);r.removeListener("error",d);r.removeListener("unpipe",s);n.removeListener("end",o);n.removeListener("end",b);n.removeListener("data",c);u=true;if(i.awaitDrain&&(!r._writableState||r._writableState.needDrain))f()}n.on("data",c);function c(e){y("ondata");var t=r.write(e);y("dest.write",t);if(t===false){if((i.pipesCount===1&&i.pipes===r||i.pipesCount>1&&Y(i.pipes,r)!==-1)&&!u){y("false write response, pause",i.awaitDrain);i.awaitDrain++}n.pause()}}function d(e){y("onerror",e);b();r.removeListener("error",d);if(v(r,"error")===0)R(r,e)}x(r,"error",d);function h(){r.removeListener("finish",p);b()}r.once("close",h);function p(){y("onfinish");r.removeListener("close",h);b()}r.once("finish",p);function b(){y("unpipe");n.unpipe(r)}r.emit("pipe",n);if(!i.flowing){y("pipe resume");n.resume()}return r};function W(r){return function e(){var t=r._readableState;y("pipeOnDrain",t.awaitDrain);if(t.awaitDrain)t.awaitDrain--;if(t.awaitDrain===0&&v(r,"data")){t.flowing=true;V(r)}}}M.prototype.unpipe=function(e){var t=this._readableState;var r={hasUnpiped:false};if(t.pipesCount===0)return this;if(t.pipesCount===1){if(e&&e!==t.pipes)return this;if(!e)e=t.pipes;t.pipes=null;t.pipesCount=0;t.flowing=false;if(e)e.emit("unpipe",this,r);return this}if(!e){var n=t.pipes;var i=t.pipesCount;t.pipes=null;t.pipesCount=0;t.flowing=false;for(var a=0;a<i;a++){n[a].emit("unpipe",this,{hasUnpiped:false})}return this}var s=Y(t.pipes,e);if(s===-1)return this;t.pipes.splice(s,1);t.pipesCount-=1;if(t.pipesCount===1)t.pipes=t.pipes[0];e.emit("unpipe",this,r);return this};M.prototype.on=function(e,t){var r=i.prototype.on.call(this,e,t);var n=this._readableState;if(e==="data"){n.readableListening=this.listenerCount("readable")>0;if(n.flowing!==false)this.resume()}else if(e==="readable"){if(!n.endEmitted&&!n.readableListening){n.readableListening=n.needReadable=true;n.flowing=false;n.emittedReadable=false;y("on readable",n.length,n.reading);if(n.length){D(this)}else if(!n.reading){g.nextTick(H,this)}}}return r};M.prototype.addListener=M.prototype.on;M.prototype.removeListener=function(e,t){var r=i.prototype.removeListener.call(this,e,t);if(e==="readable"){g.nextTick(q,this)}return r};M.prototype.removeAllListeners=function(e){var t=i.prototype.removeAllListeners.apply(this,arguments);if(e==="readable"||e===undefined){g.nextTick(q,this)}return t};function q(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0;if(t.resumeScheduled&&!t.paused){t.flowing=true}else if(e.listenerCount("data")>0){e.resume()}}function H(e){y("readable nexttick read 0");e.read(0)}M.prototype.resume=function(){var e=this._readableState;if(!e.flowing){y("resume");e.flowing=!e.readableListening;F(this,e)}e.paused=false;return this};function F(e,t){if(!t.resumeScheduled){t.resumeScheduled=true;g.nextTick(K,e,t)}}function K(e,t){y("resume",t.reading);if(!t.reading){e.read(0)}t.resumeScheduled=false;e.emit("resume");V(e);if(t.flowing&&!t.reading)e.read(0)}M.prototype.pause=function(){y("call pause flowing=%j",this._readableState.flowing);if(this._readableState.flowing!==false){y("pause");this._readableState.flowing=false;this.emit("pause")}this._readableState.paused=true;return this};function V(e){var t=e._readableState;y("flow",t.flowing);while(t.flowing&&e.read()!==null){}}M.prototype.wrap=function(r){var n=this;var i=this._readableState;var a=false;r.on("end",function(){y("wrapped end");if(i.decoder&&!i.ended){var e=i.decoder.end();if(e&&e.length)n.push(e)}n.push(null)});r.on("data",function(e){y("wrapped data");if(i.decoder)e=i.decoder.write(e);if(i.objectMode&&(e===null||e===undefined))return;else if(!i.objectMode&&(!e||!e.length))return;var t=n.push(e);if(!t){a=true;r.pause()}});for(var e in r){if(this[e]===undefined&&typeof r[e]==="function"){this[e]=function e(t){return function e(){return r[t].apply(r,arguments)}}(e)}}for(var t=0;t<k.length;t++){r.on(k[t],this.emit.bind(this,k[t]))}this._read=function(e){y("wrapped _read",e);if(a){a=false;r.resume()}};return this};if(typeof Symbol==="function"){M.prototype[Symbol.asyncIterator]=function(){if(S===undefined){S=J(363)}return S(this)}}Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:false,get:function e(){return this._readableState.highWaterMark}});Object.defineProperty(M.prototype,"readableBuffer",{enumerable:false,get:function e(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(M.prototype,"readableFlowing",{enumerable:false,get:function e(){return this._readableState.flowing},set:function e(t){if(this._readableState){this._readableState.flowing=t}}});M._fromList=z;Object.defineProperty(M.prototype,"readableLength",{enumerable:false,get:function e(){return this._readableState.length}});function z(e,t){if(t.length===0)return null;var r;if(t.objectMode)r=t.buffer.shift();else if(!e||e>=t.length){if(t.decoder)r=t.buffer.join("");else if(t.buffer.length===1)r=t.buffer.first();else r=t.buffer.concat(t.length);t.buffer.clear()}else{r=t.buffer.consume(e,t.decoder)}return r}function G(e){var t=e._readableState;y("endReadable",t.endEmitted);if(!t.endEmitted){t.ended=true;g.nextTick($,t,e)}}function $(e,t){y("endReadableNT",e.endEmitted,e.length);if(!e.endEmitted&&e.length===0){e.endEmitted=true;t.readable=false;t.emit("end");if(e.autoDestroy){var r=t._writableState;if(!r||r.autoDestroy&&r.finished){t.destroy()}}}}if(typeof Symbol==="function"){M.from=function(e,t){if(E===undefined){E=J(364)}return E(M,e,t)}}function Y(e,t){for(var r=0,n=e.length;r<n;r++){if(e[r]===t)return r}return-1}}).call(this,J(19),J(74))},function(e,t,r){e.exports=r(159).EventEmitter},function(n,e,t){"use strict";(function(a){function e(e,t){var r=this;var n=this._readableState&&this._readableState.destroyed;var i=this._writableState&&this._writableState.destroyed;if(n||i){if(t){t(e)}else if(e){if(!this._writableState){a.nextTick(f,this,e)}else if(!this._writableState.errorEmitted){this._writableState.errorEmitted=true;a.nextTick(f,this,e)}}return this}if(this._readableState){this._readableState.destroyed=true}if(this._writableState){this._writableState.destroyed=true}this._destroy(e||null,function(e){if(!t&&e){if(!r._writableState){a.nextTick(s,r,e)}else if(!r._writableState.errorEmitted){r._writableState.errorEmitted=true;a.nextTick(s,r,e)}else{a.nextTick(o,r)}}else if(t){a.nextTick(o,r);t(e)}else{a.nextTick(o,r)}});return this}function s(e,t){f(e,t);o(e)}function o(e){if(e._writableState&&!e._writableState.emitClose)return;if(e._readableState&&!e._readableState.emitClose)return;e.emit("close")}function t(){if(this._readableState){this._readableState.destroyed=false;this._readableState.reading=false;this._readableState.ended=false;this._readableState.endEmitted=false}if(this._writableState){this._writableState.destroyed=false;this._writableState.ended=false;this._writableState.ending=false;this._writableState.finalCalled=false;this._writableState.prefinished=false;this._writableState.finished=false;this._writableState.errorEmitted=false}}function f(e,t){e.emit("error",t)}function r(e,t){var r=e._readableState;var n=e._writableState;if(r&&r.autoDestroy||n&&n.autoDestroy)e.destroy(t);else e.emit("error",t)}n.exports={destroy:e,undestroy:t,errorOrDestroy:r}}).call(this,t(74))},function(e,t,r){"use strict";var s=r(171).codes.ERR_INVALID_OPT_VALUE;function o(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function n(e,t,r,n){var i=o(t,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var a=n?r:"highWaterMark";throw new s(a,i)}return Math.floor(i)}return e.objectMode?16:16*1024}e.exports={getHighWaterMark:n}},function(V,e,z){"use strict";(function(e,s){V.exports=T;function t(e,t,r){this.chunk=e;this.encoding=t;this.callback=r;this.next=null}function d(e){var t=this;this.next=null;this.entry=null;this.finish=function(){K(t,e)}}var i;T.WritableState=k;var r={deprecate:z(163)};var n=z(237);var o=z(73).Buffer;var a=e.Uint8Array||function(){};function f(e){return o.from(e)}function u(e){return o.isBuffer(e)||e instanceof a}var l=z(238);var c=z(239),h=c.getHighWaterMark;var p=z(171).codes,b=p.ERR_INVALID_ARG_TYPE,g=p.ERR_METHOD_NOT_IMPLEMENTED,v=p.ERR_MULTIPLE_CALLBACK,y=p.ERR_STREAM_CANNOT_PIPE,_=p.ERR_STREAM_DESTROYED,m=p.ERR_STREAM_NULL_VALUES,w=p.ERR_STREAM_WRITE_AFTER_END,S=p.ERR_UNKNOWN_ENCODING;var E=l.errorOrDestroy;z(158)(T,n);function R(){}function k(e,t,r){i=i||z(172);e=e||{};if(typeof r!=="boolean")r=t instanceof i;this.objectMode=!!e.objectMode;if(r)this.objectMode=this.objectMode||!!e.writableObjectMode;this.highWaterMark=h(this,e,"writableHighWaterMark",r);this.finalCalled=false;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;this.destroyed=false;var n=e.decodeStrings===false;this.decodeStrings=!n;this.defaultEncoding=e.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){I(t,e)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.emitClose=e.emitClose!==false;this.autoDestroy=!!e.autoDestroy;this.bufferedRequestCount=0;this.corkedRequestsFree=new d(this)}k.prototype.getBuffer=function e(){var t=this.bufferedRequest;var r=[];while(t){r.push(t);t=t.next}return r};(function(){try{Object.defineProperty(k.prototype,"buffer",{get:r.deprecate(function e(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}})();var x;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"){x=Function.prototype[Symbol.hasInstance];Object.defineProperty(T,Symbol.hasInstance,{value:function e(t){if(x.call(this,t))return true;if(this!==T)return false;return t&&t._writableState instanceof k}})}else{x=function e(t){return t instanceof this}}function T(e){i=i||z(172);var t=this instanceof i;if(!t&&!x.call(T,this))return new T(e);this._writableState=new k(e,this,t);this.writable=true;if(e){if(typeof e.write==="function")this._write=e.write;if(typeof e.writev==="function")this._writev=e.writev;if(typeof e.destroy==="function")this._destroy=e.destroy;if(typeof e.final==="function")this._final=e.final}n.call(this)}T.prototype.pipe=function(){E(this,new y)};function M(e,t){var r=new w;E(e,r);s.nextTick(t,r)}function O(e,t,r,n){var i;if(r===null){i=new m}else if(typeof r!=="string"&&!t.objectMode){i=new b("chunk",["string","Buffer"],r)}if(i){E(e,i);s.nextTick(n,i);return false}return true}T.prototype.write=function(e,t,r){var n=this._writableState;var i=false;var a=!n.objectMode&&u(e);if(a&&!o.isBuffer(e)){e=f(e)}if(typeof t==="function"){r=t;t=null}if(a)t="buffer";else if(!t)t=n.defaultEncoding;if(typeof r!=="function")r=R;if(n.ending)M(this,r);else if(a||O(this,n,e,r)){n.pendingcb++;i=A(this,n,a,e,t,r)}return i};T.prototype.cork=function(){this._writableState.corked++};T.prototype.uncork=function(){var e=this._writableState;if(e.corked){e.corked--;if(!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest)U(this,e)}};T.prototype.setDefaultEncoding=function e(t){if(typeof t==="string")t=t.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new S(t);this._writableState.defaultEncoding=t;return this};Object.defineProperty(T.prototype,"writableBuffer",{enumerable:false,get:function e(){return this._writableState&&this._writableState.getBuffer()}});function L(e,t,r){if(!e.objectMode&&e.decodeStrings!==false&&typeof t==="string"){t=o.from(t,r)}return t}Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:false,get:function e(){return this._writableState.highWaterMark}});function A(e,t,r,n,i,a){if(!r){var s=L(t,n,i);if(n!==s){r=true;i="buffer";n=s}}var o=t.objectMode?1:n.length;t.length+=o;var f=t.length<t.highWaterMark;if(!f)t.needDrain=true;if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null};if(u){u.next=t.lastBufferedRequest}else{t.bufferedRequest=t.lastBufferedRequest}t.bufferedRequestCount+=1}else{P(e,t,false,o,n,i,a)}return f}function P(e,t,r,n,i,a,s){t.writelen=n;t.writecb=s;t.writing=true;t.sync=true;if(t.destroyed)t.onwrite(new _("write"));else if(r)e._writev(i,t.onwrite);else e._write(i,a,t.onwrite);t.sync=false}function j(e,t,r,n,i){--t.pendingcb;if(r){s.nextTick(i,n);s.nextTick(H,e,t);e._writableState.errorEmitted=true;E(e,n)}else{i(n);e._writableState.errorEmitted=true;E(e,n);H(e,t)}}function C(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function I(e,t){var r=e._writableState;var n=r.sync;var i=r.writecb;if(typeof i!=="function")throw new v;C(r);if(t)j(e,r,n,t,i);else{var a=N(r)||e.destroyed;if(!a&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest){U(e,r)}if(n){s.nextTick(D,e,r,a,i)}else{D(e,r,a,i)}}}function D(e,t,r,n){if(!r)B(e,t);t.pendingcb--;n();H(e,t)}function B(e,t){if(t.length===0&&t.needDrain){t.needDrain=false;e.emit("drain")}}function U(e,t){t.bufferProcessing=true;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount;var i=new Array(n);var a=t.corkedRequestsFree;a.entry=r;var s=0;var o=true;while(r){i[s]=r;if(!r.isBuf)o=false;r=r.next;s+=1}i.allBuffers=o;P(e,t,true,t.length,i,"",a.finish);t.pendingcb++;t.lastBufferedRequest=null;if(a.next){t.corkedRequestsFree=a.next;a.next=null}else{t.corkedRequestsFree=new d(t)}t.bufferedRequestCount=0}else{while(r){var f=r.chunk;var u=r.encoding;var l=r.callback;var c=t.objectMode?1:f.length;P(e,t,false,c,f,u,l);r=r.next;t.bufferedRequestCount--;if(t.writing){break}}if(r===null)t.lastBufferedRequest=null}t.bufferedRequest=r;t.bufferProcessing=false}T.prototype._write=function(e,t,r){r(new g("_write()"))};T.prototype._writev=null;T.prototype.end=function(e,t,r){var n=this._writableState;if(typeof e==="function"){r=e;e=null;t=null}else if(typeof t==="function"){r=t;t=null}if(e!==null&&e!==undefined)this.write(e,t);if(n.corked){n.corked=1;this.uncork()}if(!n.ending)F(this,n,r);return this};Object.defineProperty(T.prototype,"writableLength",{enumerable:false,get:function e(){return this._writableState.length}});function N(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function W(t,r){t._final(function(e){r.pendingcb--;if(e){E(t,e)}r.prefinished=true;t.emit("prefinish");H(t,r)})}function q(e,t){if(!t.prefinished&&!t.finalCalled){if(typeof e._final==="function"&&!t.destroyed){t.pendingcb++;t.finalCalled=true;s.nextTick(W,e,t)}else{t.prefinished=true;e.emit("prefinish")}}}function H(e,t){var r=N(t);if(r){q(e,t);if(t.pendingcb===0){t.finished=true;e.emit("finish");if(t.autoDestroy){var n=e._readableState;if(!n||n.autoDestroy&&n.endEmitted){e.destroy()}}}}return r}function F(e,t,r){t.ending=true;H(e,t);if(r){if(t.finished)s.nextTick(r);else e.once("finish",r)}t.ended=true;e.writable=false}function K(e,t,r){var n=e.entry;e.entry=null;while(n){var i=n.callback;t.pendingcb--;i(r);n=n.next}t.corkedRequestsFree.next=e}Object.defineProperty(T.prototype,"destroyed",{enumerable:false,get:function e(){if(this._writableState===undefined){return false}return this._writableState.destroyed},set:function e(t){if(!this._writableState){return}this._writableState.destroyed=t}});T.prototype.destroy=l.destroy;T.prototype._undestroy=l.undestroy;T.prototype._destroy=function(e,t){t(e)}}).call(this,z(19),z(74))},function(e,t,r){"use strict";e.exports=l;var n=r(171).codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,a=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=n.ERR_TRANSFORM_WITH_LENGTH_0;var f=r(172);r(158)(l,f);function u(e,t){var r=this._transformState;r.transforming=false;var n=r.writecb;if(n===null){return this.emit("error",new a)}r.writechunk=null;r.writecb=null;if(t!=null)this.push(t);n(e);var i=this._readableState;i.reading=false;if(i.needReadable||i.length<i.highWaterMark){this._read(i.highWaterMark)}}function l(e){if(!(this instanceof l))return new l(e);f.call(this,e);this._transformState={afterTransform:u.bind(this),needTransform:false,transforming:false,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=true;this._readableState.sync=false;if(e){if(typeof e.transform==="function")this._transform=e.transform;if(typeof e.flush==="function")this._flush=e.flush}this.on("prefinish",c)}function c(){var r=this;if(typeof this._flush==="function"&&!this._readableState.destroyed){this._flush(function(e,t){d(r,e,t)})}else{d(this,null,null)}}l.prototype.push=function(e,t){this._transformState.needTransform=false;return f.prototype.push.call(this,e,t)};l.prototype._transform=function(e,t,r){r(new i("_transform()"))};l.prototype._write=function(e,t,r){var n=this._transformState;n.writecb=r;n.writechunk=e;n.writeencoding=t;if(!n.transforming){var i=this._readableState;if(n.needTransform||i.needReadable||i.length<i.highWaterMark)this._read(i.highWaterMark)}};l.prototype._read=function(e){var t=this._transformState;if(t.writechunk!==null&&!t.transforming){t.transforming=true;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}else{t.needTransform=true}};l.prototype._destroy=function(e,t){f.prototype._destroy.call(this,e,function(e){t(e)})};function d(e,t,r){if(t)return e.emit("error",t);if(r!=null)e.push(r);if(e._writableState.length)throw new o;if(e._transformState.transforming)throw new s;return e.push(null)}},function(n,e,t){(function e(t,r){if(true)n.exports=r();else{}})(typeof self!=="undefined"?self:this,function(){return function(r){var n={};function i(e){if(n[e]){return n[e].exports}var t=n[e]={i:e,l:false,exports:{}};r[e].call(t.exports,t,t.exports,i);t.l=true;return t.exports}i.m=r;i.c=n;i.d=function(e,t,r){if(!i.o(e,t)){Object.defineProperty(e,t,{configurable:false,enumerable:true,get:r})}};i.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};i.d(e,"a",e);return e};i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};i.p="";return i(i.s=3)}([function(e,t,r){function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=r(5);var a=r(1),s=a.toHex,o=a.ceilHeapSize;var f=r(6);var u=function(e){for(e+=9;e%64>0;e+=1){}return e};var l=function(e,t){var r=new Uint8Array(e.buffer);var n=t%4,i=t-n;switch(n){case 0:r[i+3]=0;case 1:r[i+2]=0;case 2:r[i+1]=0;case 3:r[i+0]=0}for(var a=(t>>2)+1;a<e.length;a++){e[a]=0}};var c=function(e,t,r){e[t>>2]|=128<<24-(t%4<<3);e[((t>>2)+2&~15)+14]=r/(1<<29)|0;e[((t>>2)+2&~15)+15]=r<<3};var d=function(e,t){var r=new Int32Array(e,t+320,5);var n=new Int32Array(5);var i=new DataView(n.buffer);i.setInt32(0,r[0],false);i.setInt32(4,r[1],false);i.setInt32(8,r[2],false);i.setInt32(12,r[3],false);i.setInt32(16,r[4],false);return n};var h=function(){function t(e){n(this,t);e=e||64*1024;if(e%64>0){throw new Error("Chunk size must be a multiple of 128 bit")}this._offset=0;this._maxChunkLen=e;this._padMaxChunkLen=u(e);this._heap=new ArrayBuffer(o(this._padMaxChunkLen+320+20));this._h32=new Int32Array(this._heap);this._h8=new Int8Array(this._heap);this._core=new i({Int32Array:Int32Array},{},this._heap)}t.prototype._initState=function e(t,r){this._offset=0;var n=new Int32Array(t,r+320,5);n[0]=1732584193;n[1]=-271733879;n[2]=-1732584194;n[3]=271733878;n[4]=-1009589776};t.prototype._padChunk=function e(t,r){var n=u(t);var i=new Int32Array(this._heap,0,n>>2);l(i,t);c(i,t,r);return n};t.prototype._write=function e(t,r,n,i){f(t,this._h8,this._h32,r,n,i||0)};t.prototype._coreCall=function e(t,r,n,i,a){var s=n;this._write(t,r,n);if(a){s=this._padChunk(n,i)}this._core.hash(s,this._padMaxChunkLen)};t.prototype.rawDigest=function e(t){var r=t.byteLength||t.length||t.size||0;this._initState(this._heap,this._padMaxChunkLen);var n=0,i=this._maxChunkLen;for(n=0;r>n+i;n+=i){this._coreCall(t,n,i,r,false)}this._coreCall(t,n,r-n,r,true);return d(this._heap,this._padMaxChunkLen)};t.prototype.digest=function e(t){return s(this.rawDigest(t).buffer)};t.prototype.digestFromString=function e(t){return this.digest(t)};t.prototype.digestFromBuffer=function e(t){return this.digest(t)};t.prototype.digestFromArrayBuffer=function e(t){return this.digest(t)};t.prototype.resetState=function e(){this._initState(this._heap,this._padMaxChunkLen);return this};t.prototype.append=function e(t){var r=0;var n=t.byteLength||t.length||t.size||0;var i=this._offset%this._maxChunkLen;var a=void 0;this._offset+=n;while(r<n){a=Math.min(n-r,this._maxChunkLen-i);this._write(t,r,a,i);i+=a;r+=a;if(i===this._maxChunkLen){this._core.hash(this._maxChunkLen,this._padMaxChunkLen);i=0}}return this};t.prototype.getState=function e(){var t=this._offset%this._maxChunkLen;var r=void 0;if(!t){var n=new Int32Array(this._heap,this._padMaxChunkLen+320,5);r=n.buffer.slice(n.byteOffset,n.byteOffset+n.byteLength)}else{r=this._heap.slice(0)}return{offset:this._offset,heap:r}};t.prototype.setState=function e(t){this._offset=t.offset;if(t.heap.byteLength===20){var r=new Int32Array(this._heap,this._padMaxChunkLen+320,5);r.set(new Int32Array(t.heap))}else{this._h32.set(new Int32Array(t.heap))}return this};t.prototype.rawEnd=function e(){var t=this._offset;var r=t%this._maxChunkLen;var n=this._padChunk(r,t);this._core.hash(n,this._padMaxChunkLen);var i=d(this._heap,this._padMaxChunkLen);this._initState(this._heap,this._padMaxChunkLen);return i};t.prototype.end=function e(){return s(this.rawEnd().buffer)};return t}();e.exports=h;e.exports._core=i},function(e,t){var i=new Array(256);for(var r=0;r<256;r++){i[r]=(r<16?"0":"")+r.toString(16)}e.exports.toHex=function(e){var t=new Uint8Array(e);var r=new Array(e.byteLength);for(var n=0;n<r.length;n++){r[n]=i[t[n]]}return r.join("")};e.exports.ceilHeapSize=function(e){var t=0;if(e<=65536)return 65536;if(e<16777216){for(t=1;t<e;t=t<<1){}}else{for(t=16777216;t<e;t+=16777216){}}return t};e.exports.isDedicatedWorkerScope=function(e){var t="WorkerGlobalScope"in e&&e instanceof e.WorkerGlobalScope;var r="SharedWorkerGlobalScope"in e&&e instanceof e.SharedWorkerGlobalScope;var n="ServiceWorkerGlobalScope"in e&&e instanceof e.ServiceWorkerGlobalScope;return t&&!r&&!n}},function(e,t,r){e.exports=function(){var o=r(0);var f=function(e,t,r){try{return r(null,e.digest(t))}catch(e){return r(e)}};var u=function(r,n,i,a,s){var o=new self.FileReader;o.onloadend=function e(){if(o.error){return s(o.error)}var t=o.result;n+=o.result.byteLength;try{r.append(t)}catch(e){s(e);return}if(n<a.size){u(r,n,i,a,s)}else{s(null,r.end())}};o.readAsArrayBuffer(a.slice(n,n+i))};var l=true;self.onmessage=function(e){if(!l){return}var t=e.data.data,r=e.data.file,n=e.data.id;if(typeof n==="undefined")return;if(!r&&!t)return;var i=e.data.blockSize||4*1024*1024;var a=new o(i);a.resetState();var s=function(e,t){if(!e){self.postMessage({id:n,hash:t})}else{self.postMessage({id:n,error:e.name})}};if(t)f(a,t,s);if(r)u(a,0,i,r,s)};return function(){l=false}}},function(e,t,r){var n=r(4);var i=r(0);var a=r(7);var s=r(2);var o=r(1),f=o.isDedicatedWorkerScope;var u=typeof self!=="undefined"&&f(self);i.disableWorkerBehaviour=u?s():function(){};i.createWorker=function(){var e=n(2);var t=e.terminate;e.terminate=function(){URL.revokeObjectURL(e.objectURL);t.call(e)};return e};i.createHash=a;e.exports=i},function(e,t,u){function l(r){var n={};function i(e){if(n[e])return n[e].exports;var t=n[e]={i:e,l:false,exports:{}};r[e].call(t.exports,t,t.exports,i);t.l=true;return t.exports}i.m=r;i.c=n;i.i=function(e){return e};i.d=function(e,t,r){if(!i.o(e,t)){Object.defineProperty(e,t,{configurable:false,enumerable:true,get:r})}};i.r=function(e){Object.defineProperty(e,"__esModule",{value:true})};i.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};i.d(e,"a",e);return e};i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)};i.p="/";i.oe=function(e){console.error(e);throw e};var e=i(i.s=ENTRY_MODULE);return e.default||e}var c="[\\.|\\-|\\+|\\w|/|@]+";var d="\\((/\\*.*?\\*/)?s?.*?("+c+").*?\\)";function h(e){return(e+"").replace(/[.?*+^$[\]\\(){}|-]/g,"\\$&")}function p(e,t,r){var n={};n[r]=[];var i=t.toString();var a=i.match(/^function\s?\(\w+,\s*\w+,\s*(\w+)\)/);if(!a)return n;var s=a[1];var o=new RegExp("(\\\\n|\\W)"+h(s)+d,"g");var f;while(f=o.exec(i)){if(f[3]==="dll-reference")continue;n[r].push(f[3])}o=new RegExp("\\("+h(s)+'\\("(dll-reference\\s('+c+'))"\\)\\)'+d,"g");while(f=o.exec(i)){if(!e[f[2]]){n[r].push(f[1]);e[f[2]]=u(f[1]).m}n[f[2]]=n[f[2]]||[];n[f[2]].push(f[4])}return n}function b(r){var e=Object.keys(r);return e.reduce(function(e,t){return e||r[t].length>0},false)}function g(e,t){var r={main:[t]};var n={main:[]};var i={main:{}};while(b(r)){var a=Object.keys(r);for(var s=0;s<a.length;s++){var o=a[s];var f=r[o];var u=f.pop();i[o]=i[o]||{};if(i[o][u]||!e[o][u])continue;i[o][u]=true;n[o]=n[o]||[];n[o].push(u);var l=p(e,e[o][u],o);var c=Object.keys(l);for(var d=0;d<c.length;d++){r[c[d]]=r[c[d]]||[];r[c[d]]=r[c[d]].concat(l[c[d]])}}}return n}e.exports=function(e,t){t=t||{};var r={main:u.m};var n=t.all?{main:Object.keys(r)}:g(r,e);var i="";Object.keys(n).filter(function(e){return e!=="main"}).forEach(function(t){var e=0;while(n[t][e]){e++}n[t].push(e);r[t][e]="(function(module, exports, __webpack_require__) { module.exports = __webpack_require__; })";i=i+"var "+t+" = ("+l.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+n[t].map(function(e){return""+JSON.stringify(e)+": "+r[t][e].toString()}).join(",")+"});\n"});i=i+"("+l.toString().replace("ENTRY_MODULE",JSON.stringify(e))+")({"+n.main.map(function(e){return""+JSON.stringify(e)+": "+r.main[e].toString()}).join(",")+"})(self);";var a=new window.Blob([i],{type:"text/javascript"});if(t.bare){return a}var s=window.URL||window.webkitURL||window.mozURL||window.msURL;var o=s.createObjectURL(a);var f=new window.Worker(o);f.objectURL=o;return f}},function(e,t){e.exports=function e(t,r,n){"use asm";var g=new t.Int32Array(n);function v(e,t){e=e|0;t=t|0;var r=0,n=0,i=0,a=0,s=0,o=0,f=0,u=0,l=0,c=0,d=0,h=0,p=0,b=0;i=g[t+320>>2]|0;s=g[t+324>>2]|0;f=g[t+328>>2]|0;l=g[t+332>>2]|0;d=g[t+336>>2]|0;for(r=0;(r|0)<(e|0);r=r+64|0){a=i;o=s;u=f;c=l;h=d;for(n=0;(n|0)<64;n=n+4|0){b=g[r+n>>2]|0;p=((i<<5|i>>>27)+(s&f|~s&l)|0)+((b+d|0)+1518500249|0)|0;d=l;l=f;f=s<<30|s>>>2;s=i;i=p;g[e+n>>2]=b}for(n=e+64|0;(n|0)<(e+80|0);n=n+4|0){b=(g[n-12>>2]^g[n-32>>2]^g[n-56>>2]^g[n-64>>2])<<1|(g[n-12>>2]^g[n-32>>2]^g[n-56>>2]^g[n-64>>2])>>>31;p=((i<<5|i>>>27)+(s&f|~s&l)|0)+((b+d|0)+1518500249|0)|0;d=l;l=f;f=s<<30|s>>>2;s=i;i=p;g[n>>2]=b}for(n=e+80|0;(n|0)<(e+160|0);n=n+4|0){b=(g[n-12>>2]^g[n-32>>2]^g[n-56>>2]^g[n-64>>2])<<1|(g[n-12>>2]^g[n-32>>2]^g[n-56>>2]^g[n-64>>2])>>>31;p=((i<<5|i>>>27)+(s^f^l)|0)+((b+d|0)+1859775393|0)|0;d=l;l=f;f=s<<30|s>>>2;s=i;i=p;g[n>>2]=b}for(n=e+160|0;(n|0)<(e+240|0);n=n+4|0){b=(g[n-12>>2]^g[n-32>>2]^g[n-56>>2]^g[n-64>>2])<<1|(g[n-12>>2]^g[n-32>>2]^g[n-56>>2]^g[n-64>>2])>>>31;p=((i<<5|i>>>27)+(s&f|s&l|f&l)|0)+((b+d|0)-1894007588|0)|0;d=l;l=f;f=s<<30|s>>>2;s=i;i=p;g[n>>2]=b}for(n=e+240|0;(n|0)<(e+320|0);n=n+4|0){b=(g[n-12>>2]^g[n-32>>2]^g[n-56>>2]^g[n-64>>2])<<1|(g[n-12>>2]^g[n-32>>2]^g[n-56>>2]^g[n-64>>2])>>>31;p=((i<<5|i>>>27)+(s^f^l)|0)+((b+d|0)-899497514|0)|0;d=l;l=f;f=s<<30|s>>>2;s=i;i=p;g[n>>2]=b}i=i+a|0;s=s+o|0;f=f+u|0;l=l+c|0;d=d+h|0}g[t+320>>2]=i;g[t+324>>2]=s;g[t+328>>2]=f;g[t+332>>2]=l;g[t+336>>2]=d}return{hash:v}}},function(e,t){var s=this;var c=void 0;if(typeof self!=="undefined"&&typeof self.FileReaderSync!=="undefined"){c=new self.FileReaderSync}var o=function(e,t,r,n,i,a){var s=void 0,o=a%4,f=(i+o)%4,u=i-f;switch(o){case 0:t[a]=e.charCodeAt(n+3);case 1:t[a+1-(o<<1)|0]=e.charCodeAt(n+2);case 2:t[a+2-(o<<1)|0]=e.charCodeAt(n+1);case 3:t[a+3-(o<<1)|0]=e.charCodeAt(n)}if(i<f+(4-o)){return}for(s=4-o;s<u;s=s+4|0){r[a+s>>2]=e.charCodeAt(n+s)<<24|e.charCodeAt(n+s+1)<<16|e.charCodeAt(n+s+2)<<8|e.charCodeAt(n+s+3)}switch(f){case 3:t[a+u+1|0]=e.charCodeAt(n+u+2);case 2:t[a+u+2|0]=e.charCodeAt(n+u+1);case 1:t[a+u+3|0]=e.charCodeAt(n+u)}};var f=function(e,t,r,n,i,a){var s=void 0,o=a%4,f=(i+o)%4,u=i-f;switch(o){case 0:t[a]=e[n+3];case 1:t[a+1-(o<<1)|0]=e[n+2];case 2:t[a+2-(o<<1)|0]=e[n+1];case 3:t[a+3-(o<<1)|0]=e[n]}if(i<f+(4-o)){return}for(s=4-o;s<u;s=s+4|0){r[a+s>>2|0]=e[n+s]<<24|e[n+s+1]<<16|e[n+s+2]<<8|e[n+s+3]}switch(f){case 3:t[a+u+1|0]=e[n+u+2];case 2:t[a+u+2|0]=e[n+u+1];case 1:t[a+u+3|0]=e[n+u]}};var u=function(e,t,r,n,i,a){var s=void 0,o=a%4,f=(i+o)%4,u=i-f;var l=new Uint8Array(c.readAsArrayBuffer(e.slice(n,n+i)));switch(o){case 0:t[a]=l[3];case 1:t[a+1-(o<<1)|0]=l[2];case 2:t[a+2-(o<<1)|0]=l[1];case 3:t[a+3-(o<<1)|0]=l[0]}if(i<f+(4-o)){return}for(s=4-o;s<u;s=s+4|0){r[a+s>>2|0]=l[s]<<24|l[s+1]<<16|l[s+2]<<8|l[s+3]}switch(f){case 3:t[a+u+1|0]=l[u+2];case 2:t[a+u+2|0]=l[u+1];case 1:t[a+u+3|0]=l[u]}};e.exports=function(e,t,r,n,i,a){if(typeof e==="string"){return o(e,t,r,n,i,a)}if(e instanceof Array){return f(e,t,r,n,i,a)}if(s&&s.Buffer&&s.Buffer.isBuffer(e)){return f(e,t,r,n,i,a)}if(e instanceof ArrayBuffer){return f(new Uint8Array(e),t,r,n,i,a)}if(e.buffer instanceof ArrayBuffer){return f(new Uint8Array(e.buffer,e.byteOffset,e.byteLength),t,r,n,i,a)}if(e instanceof Blob){return u(e,t,r,n,i,a)}throw new Error("Unsupported data type.")}},function(e,t,r){function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var i=r(0);var a=r(1),s=a.toHex;var o=function(){function e(){n(this,e);this._rusha=new i;this._rusha.resetState()}e.prototype.update=function e(t){this._rusha.append(t);return this};e.prototype.digest=function e(t){var e=this._rusha.rawEnd().buffer;if(!t){return e}if(t==="hex"){return s(e)}throw new Error("unsupported digest encoding")};return e}();e.exports=function(){return new o}}])})},function(X,e,J){"use strict";(function(e,g){X.exports=M;var n;M.ReadableState=T;var t=J(159).EventEmitter;var v=function e(t,r){return t.listeners(r).length};var i=J(244);var o=J(73).Buffer;var r=e.Uint8Array||function(){};function f(e){return o.from(e)}function a(e){return o.isBuffer(e)||e instanceof r}var s=J(370);var y;if(s&&s.debuglog){y=s.debuglog("stream")}else{y=function e(){}}var u=J(371);var l=J(245);var c=J(246),d=c.getHighWaterMark;var h=J(173).codes,p=h.ERR_INVALID_ARG_TYPE,b=h.ERR_STREAM_PUSH_AFTER_EOF,_=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;var w;var S;var E;J(158)(M,i);var R=l.errorOrDestroy;var k=["error","close","destroy","pause","resume"];function x(e,t,r){if(typeof e.prependListener==="function")return e.prependListener(t,r);if(!e._events||!e._events[t])e.on(t,r);else if(Array.isArray(e._events[t]))e._events[t].unshift(r);else e._events[t]=[r,e._events[t]]}function T(e,t,r){n=n||J(174);e=e||{};if(typeof r!=="boolean")r=t instanceof n;this.objectMode=!!e.objectMode;if(r)this.objectMode=this.objectMode||!!e.readableObjectMode;this.highWaterMark=d(this,e,"readableHighWaterMark",r);this.buffer=new u;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.paused=true;this.emitClose=e.emitClose!==false;this.autoDestroy=!!e.autoDestroy;this.destroyed=false;this.defaultEncoding=e.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(e.encoding){if(!w)w=J(160).StringDecoder;this.decoder=new w(e.encoding);this.encoding=e.encoding}}function M(e){n=n||J(174);if(!(this instanceof M))return new M(e);var t=this instanceof n;this._readableState=new T(e,this,t);this.readable=true;if(e){if(typeof e.read==="function")this._read=e.read;if(typeof e.destroy==="function")this._destroy=e.destroy}i.call(this)}Object.defineProperty(M.prototype,"destroyed",{enumerable:false,get:function e(){if(this._readableState===undefined){return false}return this._readableState.destroyed},set:function e(t){if(!this._readableState){return}this._readableState.destroyed=t}});M.prototype.destroy=l.destroy;M.prototype._undestroy=l.undestroy;M.prototype._destroy=function(e,t){t(e)};M.prototype.push=function(e,t){var r=this._readableState;var n;if(!r.objectMode){if(typeof e==="string"){t=t||r.defaultEncoding;if(t!==r.encoding){e=o.from(e,t);t=""}n=true}}else{n=true}return O(this,e,t,false,n)};M.prototype.unshift=function(e){return O(this,e,null,true,false)};function O(e,t,r,n,i){y("readableAddChunk",t);var a=e._readableState;if(t===null){a.reading=false;I(e,a)}else{var s;if(!i)s=A(a,t);if(s){R(e,s)}else if(a.objectMode||t&&t.length>0){if(typeof t!=="string"&&!a.objectMode&&Object.getPrototypeOf(t)!==o.prototype){t=f(t)}if(n){if(a.endEmitted)R(e,new m);else L(e,a,t,true)}else if(a.ended){R(e,new b)}else if(a.destroyed){return false}else{a.reading=false;if(a.decoder&&!r){t=a.decoder.write(t);if(a.objectMode||t.length!==0)L(e,a,t,false);else U(e,a)}else{L(e,a,t,false)}}}else if(!n){a.reading=false;U(e,a)}}return!a.ended&&(a.length<a.highWaterMark||a.length===0)}function L(e,t,r,n){if(t.flowing&&t.length===0&&!t.sync){t.awaitDrain=0;e.emit("data",r)}else{t.length+=t.objectMode?1:r.length;if(n)t.buffer.unshift(r);else t.buffer.push(r);if(t.needReadable)D(e)}U(e,t)}function A(e,t){var r;if(!a(t)&&typeof t!=="string"&&t!==undefined&&!e.objectMode){r=new p("chunk",["string","Buffer","Uint8Array"],t)}return r}M.prototype.isPaused=function(){return this._readableState.flowing===false};M.prototype.setEncoding=function(e){if(!w)w=J(160).StringDecoder;var t=new w(e);this._readableState.decoder=t;this._readableState.encoding=this._readableState.decoder.encoding;var r=this._readableState.buffer.head;var n="";while(r!==null){n+=t.write(r.data);r=r.next}this._readableState.buffer.clear();if(n!=="")this._readableState.buffer.push(n);this._readableState.length=n.length;return this};var P=1073741824;function j(e){if(e>=P){e=P}else{e--;e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;e++}return e}function C(e,t){if(e<=0||t.length===0&&t.ended)return 0;if(t.objectMode)return 1;if(e!==e){if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length}if(e>t.highWaterMark)t.highWaterMark=j(e);if(e<=t.length)return e;if(!t.ended){t.needReadable=true;return 0}return t.length}M.prototype.read=function(e){y("read",e);e=parseInt(e,10);var t=this._readableState;var r=e;if(e!==0)t.emittedReadable=false;if(e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended)){y("read: emitReadable",t.length,t.ended);if(t.length===0&&t.ended)G(this);else D(this);return null}e=C(e,t);if(e===0&&t.ended){if(t.length===0)G(this);return null}var n=t.needReadable;y("need readable",n);if(t.length===0||t.length-e<t.highWaterMark){n=true;y("length less than watermark",n)}if(t.ended||t.reading){n=false;y("reading or ended",n)}else if(n){y("do read");t.reading=true;t.sync=true;if(t.length===0)t.needReadable=true;this._read(t.highWaterMark);t.sync=false;if(!t.reading)e=C(r,t)}var i;if(e>0)i=z(e,t);else i=null;if(i===null){t.needReadable=t.length<=t.highWaterMark;e=0}else{t.length-=e;t.awaitDrain=0}if(t.length===0){if(!t.ended)t.needReadable=true;if(r!==e&&t.ended)G(this)}if(i!==null)this.emit("data",i);return i};function I(e,t){y("onEofChunk");if(t.ended)return;if(t.decoder){var r=t.decoder.end();if(r&&r.length){t.buffer.push(r);t.length+=t.objectMode?1:r.length}}t.ended=true;if(t.sync){D(e)}else{t.needReadable=false;if(!t.emittedReadable){t.emittedReadable=true;B(e)}}}function D(e){var t=e._readableState;y("emitReadable",t.needReadable,t.emittedReadable);t.needReadable=false;if(!t.emittedReadable){y("emitReadable",t.flowing);t.emittedReadable=true;g.nextTick(B,e)}}function B(e){var t=e._readableState;y("emitReadable_",t.destroyed,t.length,t.ended);if(!t.destroyed&&(t.length||t.ended)){e.emit("readable");t.emittedReadable=false}t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark;V(e)}function U(e,t){if(!t.readingMore){t.readingMore=true;g.nextTick(N,e,t)}}function N(e,t){while(!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0)){var r=t.length;y("maybeReadMore read 0");e.read(0);if(r===t.length)break}t.readingMore=false}M.prototype._read=function(e){R(this,new _("_read()"))};M.prototype.pipe=function(r,e){var n=this;var i=this._readableState;switch(i.pipesCount){case 0:i.pipes=r;break;case 1:i.pipes=[i.pipes,r];break;default:i.pipes.push(r);break}i.pipesCount+=1;y("pipe count=%d opts=%j",i.pipesCount,e);var t=(!e||e.end!==false)&&r!==g.stdout&&r!==g.stderr;var a=t?o:b;if(i.endEmitted)g.nextTick(a);else n.once("end",a);r.on("unpipe",s);function s(e,t){y("onunpipe");if(e===n){if(t&&t.hasUnpiped===false){t.hasUnpiped=true;l()}}}function o(){y("onend");r.end()}var f=W(n);r.on("drain",f);var u=false;function l(){y("cleanup");r.removeListener("close",h);r.removeListener("finish",p);r.removeListener("drain",f);r.removeListener("error",d);r.removeListener("unpipe",s);n.removeListener("end",o);n.removeListener("end",b);n.removeListener("data",c);u=true;if(i.awaitDrain&&(!r._writableState||r._writableState.needDrain))f()}n.on("data",c);function c(e){y("ondata");var t=r.write(e);y("dest.write",t);if(t===false){if((i.pipesCount===1&&i.pipes===r||i.pipesCount>1&&Y(i.pipes,r)!==-1)&&!u){y("false write response, pause",i.awaitDrain);i.awaitDrain++}n.pause()}}function d(e){y("onerror",e);b();r.removeListener("error",d);if(v(r,"error")===0)R(r,e)}x(r,"error",d);function h(){r.removeListener("finish",p);b()}r.once("close",h);function p(){y("onfinish");r.removeListener("close",h);b()}r.once("finish",p);function b(){y("unpipe");n.unpipe(r)}r.emit("pipe",n);if(!i.flowing){y("pipe resume");n.resume()}return r};function W(r){return function e(){var t=r._readableState;y("pipeOnDrain",t.awaitDrain);if(t.awaitDrain)t.awaitDrain--;if(t.awaitDrain===0&&v(r,"data")){t.flowing=true;V(r)}}}M.prototype.unpipe=function(e){var t=this._readableState;var r={hasUnpiped:false};if(t.pipesCount===0)return this;if(t.pipesCount===1){if(e&&e!==t.pipes)return this;if(!e)e=t.pipes;t.pipes=null;t.pipesCount=0;t.flowing=false;if(e)e.emit("unpipe",this,r);return this}if(!e){var n=t.pipes;var i=t.pipesCount;t.pipes=null;t.pipesCount=0;t.flowing=false;for(var a=0;a<i;a++){n[a].emit("unpipe",this,{hasUnpiped:false})}return this}var s=Y(t.pipes,e);if(s===-1)return this;t.pipes.splice(s,1);t.pipesCount-=1;if(t.pipesCount===1)t.pipes=t.pipes[0];e.emit("unpipe",this,r);return this};M.prototype.on=function(e,t){var r=i.prototype.on.call(this,e,t);var n=this._readableState;if(e==="data"){n.readableListening=this.listenerCount("readable")>0;if(n.flowing!==false)this.resume()}else if(e==="readable"){if(!n.endEmitted&&!n.readableListening){n.readableListening=n.needReadable=true;n.flowing=false;n.emittedReadable=false;y("on readable",n.length,n.reading);if(n.length){D(this)}else if(!n.reading){g.nextTick(H,this)}}}return r};M.prototype.addListener=M.prototype.on;M.prototype.removeListener=function(e,t){var r=i.prototype.removeListener.call(this,e,t);if(e==="readable"){g.nextTick(q,this)}return r};M.prototype.removeAllListeners=function(e){var t=i.prototype.removeAllListeners.apply(this,arguments);if(e==="readable"||e===undefined){g.nextTick(q,this)}return t};function q(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0;if(t.resumeScheduled&&!t.paused){t.flowing=true}else if(e.listenerCount("data")>0){e.resume()}}function H(e){y("readable nexttick read 0");e.read(0)}M.prototype.resume=function(){var e=this._readableState;if(!e.flowing){y("resume");e.flowing=!e.readableListening;F(this,e)}e.paused=false;return this};function F(e,t){if(!t.resumeScheduled){t.resumeScheduled=true;g.nextTick(K,e,t)}}function K(e,t){y("resume",t.reading);if(!t.reading){e.read(0)}t.resumeScheduled=false;e.emit("resume");V(e);if(t.flowing&&!t.reading)e.read(0)}M.prototype.pause=function(){y("call pause flowing=%j",this._readableState.flowing);if(this._readableState.flowing!==false){y("pause");this._readableState.flowing=false;this.emit("pause")}this._readableState.paused=true;return this};function V(e){var t=e._readableState;y("flow",t.flowing);while(t.flowing&&e.read()!==null){}}M.prototype.wrap=function(r){var n=this;var i=this._readableState;var a=false;r.on("end",function(){y("wrapped end");if(i.decoder&&!i.ended){var e=i.decoder.end();if(e&&e.length)n.push(e)}n.push(null)});r.on("data",function(e){y("wrapped data");if(i.decoder)e=i.decoder.write(e);if(i.objectMode&&(e===null||e===undefined))return;else if(!i.objectMode&&(!e||!e.length))return;var t=n.push(e);if(!t){a=true;r.pause()}});for(var e in r){if(this[e]===undefined&&typeof r[e]==="function"){this[e]=function e(t){return function e(){return r[t].apply(r,arguments)}}(e)}}for(var t=0;t<k.length;t++){r.on(k[t],this.emit.bind(this,k[t]))}this._read=function(e){y("wrapped _read",e);if(a){a=false;r.resume()}};return this};if(typeof Symbol==="function"){M.prototype[Symbol.asyncIterator]=function(){if(S===undefined){S=J(373)}return S(this)}}Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:false,get:function e(){return this._readableState.highWaterMark}});Object.defineProperty(M.prototype,"readableBuffer",{enumerable:false,get:function e(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(M.prototype,"readableFlowing",{enumerable:false,get:function e(){return this._readableState.flowing},set:function e(t){if(this._readableState){this._readableState.flowing=t}}});M._fromList=z;Object.defineProperty(M.prototype,"readableLength",{enumerable:false,get:function e(){return this._readableState.length}});function z(e,t){if(t.length===0)return null;var r;if(t.objectMode)r=t.buffer.shift();else if(!e||e>=t.length){if(t.decoder)r=t.buffer.join("");else if(t.buffer.length===1)r=t.buffer.first();else r=t.buffer.concat(t.length);t.buffer.clear()}else{r=t.buffer.consume(e,t.decoder)}return r}function G(e){var t=e._readableState;y("endReadable",t.endEmitted);if(!t.endEmitted){t.ended=true;g.nextTick($,t,e)}}function $(e,t){y("endReadableNT",e.endEmitted,e.length);if(!e.endEmitted&&e.length===0){e.endEmitted=true;t.readable=false;t.emit("end");if(e.autoDestroy){var r=t._writableState;if(!r||r.autoDestroy&&r.finished){t.destroy()}}}}if(typeof Symbol==="function"){M.from=function(e,t){if(E===undefined){E=J(374)}return E(M,e,t)}}function Y(e,t){for(var r=0,n=e.length;r<n;r++){if(e[r]===t)return r}return-1}}).call(this,J(19),J(74))},function(e,t,r){e.exports=r(159).EventEmitter},function(n,e,t){"use strict";(function(a){function e(e,t){var r=this;var n=this._readableState&&this._readableState.destroyed;var i=this._writableState&&this._writableState.destroyed;if(n||i){if(t){t(e)}else if(e){if(!this._writableState){a.nextTick(f,this,e)}else if(!this._writableState.errorEmitted){this._writableState.errorEmitted=true;a.nextTick(f,this,e)}}return this}if(this._readableState){this._readableState.destroyed=true}if(this._writableState){this._writableState.destroyed=true}this._destroy(e||null,function(e){if(!t&&e){if(!r._writableState){a.nextTick(s,r,e)}else if(!r._writableState.errorEmitted){r._writableState.errorEmitted=true;a.nextTick(s,r,e)}else{a.nextTick(o,r)}}else if(t){a.nextTick(o,r);t(e)}else{a.nextTick(o,r)}});return this}function s(e,t){f(e,t);o(e)}function o(e){if(e._writableState&&!e._writableState.emitClose)return;if(e._readableState&&!e._readableState.emitClose)return;e.emit("close")}function t(){if(this._readableState){this._readableState.destroyed=false;this._readableState.reading=false;this._readableState.ended=false;this._readableState.endEmitted=false}if(this._writableState){this._writableState.destroyed=false;this._writableState.ended=false;this._writableState.ending=false;this._writableState.finalCalled=false;this._writableState.prefinished=false;this._writableState.finished=false;this._writableState.errorEmitted=false}}function f(e,t){e.emit("error",t)}function r(e,t){var r=e._readableState;var n=e._writableState;if(r&&r.autoDestroy||n&&n.autoDestroy)e.destroy(t);else e.emit("error",t)}n.exports={destroy:e,undestroy:t,errorOrDestroy:r}}).call(this,t(74))},function(e,t,r){"use strict";var s=r(173).codes.ERR_INVALID_OPT_VALUE;function o(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function n(e,t,r,n){var i=o(t,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var a=n?r:"highWaterMark";throw new s(a,i)}return Math.floor(i)}return e.objectMode?16:16*1024}e.exports={getHighWaterMark:n}},function(V,e,z){"use strict";(function(e,s){V.exports=T;function t(e,t,r){this.chunk=e;this.encoding=t;this.callback=r;this.next=null}function d(e){var t=this;this.next=null;this.entry=null;this.finish=function(){K(t,e)}}var i;T.WritableState=k;var r={deprecate:z(163)};var n=z(244);var o=z(73).Buffer;var a=e.Uint8Array||function(){};function f(e){return o.from(e)}function u(e){return o.isBuffer(e)||e instanceof a}var l=z(245);var c=z(246),h=c.getHighWaterMark;var p=z(173).codes,b=p.ERR_INVALID_ARG_TYPE,g=p.ERR_METHOD_NOT_IMPLEMENTED,v=p.ERR_MULTIPLE_CALLBACK,y=p.ERR_STREAM_CANNOT_PIPE,_=p.ERR_STREAM_DESTROYED,m=p.ERR_STREAM_NULL_VALUES,w=p.ERR_STREAM_WRITE_AFTER_END,S=p.ERR_UNKNOWN_ENCODING;var E=l.errorOrDestroy;z(158)(T,n);function R(){}function k(e,t,r){i=i||z(174);e=e||{};if(typeof r!=="boolean")r=t instanceof i;this.objectMode=!!e.objectMode;if(r)this.objectMode=this.objectMode||!!e.writableObjectMode;this.highWaterMark=h(this,e,"writableHighWaterMark",r);this.finalCalled=false;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;this.destroyed=false;var n=e.decodeStrings===false;this.decodeStrings=!n;this.defaultEncoding=e.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){I(t,e)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.emitClose=e.emitClose!==false;this.autoDestroy=!!e.autoDestroy;this.bufferedRequestCount=0;this.corkedRequestsFree=new d(this)}k.prototype.getBuffer=function e(){var t=this.bufferedRequest;var r=[];while(t){r.push(t);t=t.next}return r};(function(){try{Object.defineProperty(k.prototype,"buffer",{get:r.deprecate(function e(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}})();var x;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"){x=Function.prototype[Symbol.hasInstance];Object.defineProperty(T,Symbol.hasInstance,{value:function e(t){if(x.call(this,t))return true;if(this!==T)return false;return t&&t._writableState instanceof k}})}else{x=function e(t){return t instanceof this}}function T(e){i=i||z(174);var t=this instanceof i;if(!t&&!x.call(T,this))return new T(e);this._writableState=new k(e,this,t);this.writable=true;if(e){if(typeof e.write==="function")this._write=e.write;if(typeof e.writev==="function")this._writev=e.writev;if(typeof e.destroy==="function")this._destroy=e.destroy;if(typeof e.final==="function")this._final=e.final}n.call(this)}T.prototype.pipe=function(){E(this,new y)};function M(e,t){var r=new w;E(e,r);s.nextTick(t,r)}function O(e,t,r,n){var i;if(r===null){i=new m}else if(typeof r!=="string"&&!t.objectMode){i=new b("chunk",["string","Buffer"],r)}if(i){E(e,i);s.nextTick(n,i);return false}return true}T.prototype.write=function(e,t,r){var n=this._writableState;var i=false;var a=!n.objectMode&&u(e);if(a&&!o.isBuffer(e)){e=f(e)}if(typeof t==="function"){r=t;t=null}if(a)t="buffer";else if(!t)t=n.defaultEncoding;if(typeof r!=="function")r=R;if(n.ending)M(this,r);else if(a||O(this,n,e,r)){n.pendingcb++;i=A(this,n,a,e,t,r)}return i};T.prototype.cork=function(){this._writableState.corked++};T.prototype.uncork=function(){var e=this._writableState;if(e.corked){e.corked--;if(!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest)U(this,e)}};T.prototype.setDefaultEncoding=function e(t){if(typeof t==="string")t=t.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new S(t);this._writableState.defaultEncoding=t;return this};Object.defineProperty(T.prototype,"writableBuffer",{enumerable:false,get:function e(){return this._writableState&&this._writableState.getBuffer()}});function L(e,t,r){if(!e.objectMode&&e.decodeStrings!==false&&typeof t==="string"){t=o.from(t,r)}return t}Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:false,get:function e(){return this._writableState.highWaterMark}});function A(e,t,r,n,i,a){if(!r){var s=L(t,n,i);if(n!==s){r=true;i="buffer";n=s}}var o=t.objectMode?1:n.length;t.length+=o;var f=t.length<t.highWaterMark;if(!f)t.needDrain=true;if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null};if(u){u.next=t.lastBufferedRequest}else{t.bufferedRequest=t.lastBufferedRequest}t.bufferedRequestCount+=1}else{P(e,t,false,o,n,i,a)}return f}function P(e,t,r,n,i,a,s){t.writelen=n;t.writecb=s;t.writing=true;t.sync=true;if(t.destroyed)t.onwrite(new _("write"));else if(r)e._writev(i,t.onwrite);else e._write(i,a,t.onwrite);t.sync=false}function j(e,t,r,n,i){--t.pendingcb;if(r){s.nextTick(i,n);s.nextTick(H,e,t);e._writableState.errorEmitted=true;E(e,n)}else{i(n);e._writableState.errorEmitted=true;E(e,n);H(e,t)}}function C(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function I(e,t){var r=e._writableState;var n=r.sync;var i=r.writecb;if(typeof i!=="function")throw new v;C(r);if(t)j(e,r,n,t,i);else{var a=N(r)||e.destroyed;if(!a&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest){U(e,r)}if(n){s.nextTick(D,e,r,a,i)}else{D(e,r,a,i)}}}function D(e,t,r,n){if(!r)B(e,t);t.pendingcb--;n();H(e,t)}function B(e,t){if(t.length===0&&t.needDrain){t.needDrain=false;e.emit("drain")}}function U(e,t){t.bufferProcessing=true;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount;var i=new Array(n);var a=t.corkedRequestsFree;a.entry=r;var s=0;var o=true;while(r){i[s]=r;if(!r.isBuf)o=false;r=r.next;s+=1}i.allBuffers=o;P(e,t,true,t.length,i,"",a.finish);t.pendingcb++;t.lastBufferedRequest=null;if(a.next){t.corkedRequestsFree=a.next;a.next=null}else{t.corkedRequestsFree=new d(t)}t.bufferedRequestCount=0}else{while(r){var f=r.chunk;var u=r.encoding;var l=r.callback;var c=t.objectMode?1:f.length;P(e,t,false,c,f,u,l);r=r.next;t.bufferedRequestCount--;if(t.writing){break}}if(r===null)t.lastBufferedRequest=null}t.bufferedRequest=r;t.bufferProcessing=false}T.prototype._write=function(e,t,r){r(new g("_write()"))};T.prototype._writev=null;T.prototype.end=function(e,t,r){var n=this._writableState;if(typeof e==="function"){r=e;e=null;t=null}else if(typeof t==="function"){r=t;t=null}if(e!==null&&e!==undefined)this.write(e,t);if(n.corked){n.corked=1;this.uncork()}if(!n.ending)F(this,n,r);return this};Object.defineProperty(T.prototype,"writableLength",{enumerable:false,get:function e(){return this._writableState.length}});function N(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function W(t,r){t._final(function(e){r.pendingcb--;if(e){E(t,e)}r.prefinished=true;t.emit("prefinish");H(t,r)})}function q(e,t){if(!t.prefinished&&!t.finalCalled){if(typeof e._final==="function"&&!t.destroyed){t.pendingcb++;t.finalCalled=true;s.nextTick(W,e,t)}else{t.prefinished=true;e.emit("prefinish")}}}function H(e,t){var r=N(t);if(r){q(e,t);if(t.pendingcb===0){t.finished=true;e.emit("finish");if(t.autoDestroy){var n=e._readableState;if(!n||n.autoDestroy&&n.endEmitted){e.destroy()}}}}return r}function F(e,t,r){t.ending=true;H(e,t);if(r){if(t.finished)s.nextTick(r);else e.once("finish",r)}t.ended=true;e.writable=false}function K(e,t,r){var n=e.entry;e.entry=null;while(n){var i=n.callback;t.pendingcb--;i(r);n=n.next}t.corkedRequestsFree.next=e}Object.defineProperty(T.prototype,"destroyed",{enumerable:false,get:function e(){if(this._writableState===undefined){return false}return this._writableState.destroyed},set:function e(t){if(!this._writableState){return}this._writableState.destroyed=t}});T.prototype.destroy=l.destroy;T.prototype._undestroy=l.undestroy;T.prototype._destroy=function(e,t){t(e)}}).call(this,z(19),z(74))},function(e,t,r){"use strict";e.exports=l;var n=r(173).codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,a=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=n.ERR_TRANSFORM_WITH_LENGTH_0;var f=r(174);r(158)(l,f);function u(e,t){var r=this._transformState;r.transforming=false;var n=r.writecb;if(n===null){return this.emit("error",new a)}r.writechunk=null;r.writecb=null;if(t!=null)this.push(t);n(e);var i=this._readableState;i.reading=false;if(i.needReadable||i.length<i.highWaterMark){this._read(i.highWaterMark)}}function l(e){if(!(this instanceof l))return new l(e);f.call(this,e);this._transformState={afterTransform:u.bind(this),needTransform:false,transforming:false,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=true;this._readableState.sync=false;if(e){if(typeof e.transform==="function")this._transform=e.transform;if(typeof e.flush==="function")this._flush=e.flush}this.on("prefinish",c)}function c(){var r=this;if(typeof this._flush==="function"&&!this._readableState.destroyed){this._flush(function(e,t){d(r,e,t)})}else{d(this,null,null)}}l.prototype.push=function(e,t){this._transformState.needTransform=false;return f.prototype.push.call(this,e,t)};l.prototype._transform=function(e,t,r){r(new i("_transform()"))};l.prototype._write=function(e,t,r){var n=this._transformState;n.writecb=r;n.writechunk=e;n.writeencoding=t;if(!n.transforming){var i=this._readableState;if(n.needTransform||i.needReadable||i.length<i.highWaterMark)this._read(i.highWaterMark)}};l.prototype._read=function(e){var t=this._transformState;if(t.writechunk!==null&&!t.transforming){t.transforming=true;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}else{t.needTransform=true}};l.prototype._destroy=function(e,t){f.prototype._destroy.call(this,e,function(e){t(e)})};function d(e,t,r){if(t)return e.emit("error",t);if(r!=null)e.push(r);if(e._writableState.length)throw new o;if(e._transformState.transforming)throw new s;return e.push(null)}},function(t,e,y){(function(r){/*! parse-torrent. MIT License. WebTorrent LLC <https://webtorrent.io/opensource> */
const a=y(196);const s=y(382);const o=y(383);const f=y(205);const n=y(398);const u=y(22);const l=y(193);const c=y(164);t.exports=d;t.exports.remote=h;t.exports.toMagnetURI=n.encode;t.exports.toTorrentFile=e;function d(e){if(typeof e==="string"&&/^(stream-)?magnet:/.test(e)){const t=n(e);if(!t.infoHash){throw new Error("Invalid torrent identifier")}return t}else if(typeof e==="string"&&(/^[a-f0-9]{40}$/i.test(e)||/^[a-z2-7]{32}$/i.test(e))){return n(`magnet:?xt=urn:btih:${e}`)}else if(r.isBuffer(e)&&e.length===20){return n(`magnet:?xt=urn:btih:${e.toString("hex")}`)}else if(r.isBuffer(e)){return i(e)}else if(e&&e.infoHash){e.infoHash=e.infoHash.toLowerCase();if(!e.announce)e.announce=[];if(typeof e.announce==="string"){e.announce=[e.announce]}if(!e.urlList)e.urlList=[];return e}else{throw new Error("Invalid torrent identifier")}}function h(e,t,n){if(typeof t==="function")return h(e,{},t);if(typeof n!=="function")throw new Error("second argument must be a Function");let r;try{r=d(e)}catch(e){}if(r&&r.infoHash){c(()=>{n(null,r)})}else if(p(e)){s(e,(e,t)=>{if(e)return n(new Error(`Error converting Blob: ${e.message}`));i(t)})}else if(typeof f==="function"&&/^https?:/.test(e)){t=Object.assign({url:e,timeout:30*1e3,headers:{"user-agent":"WebTorrent (https://webtorrent.io)"}},t);f.concat(t,(e,t,r)=>{if(e)return n(new Error(`Error downloading torrent: ${e.message}`));i(r)})}else if(typeof o.readFile==="function"&&typeof e==="string"){o.readFile(e,(e,t)=>{if(e)return n(new Error("Invalid torrent identifier"));i(t)})}else{c(()=>{n(new Error("Invalid torrent identifier"))})}function i(e){try{r=d(e)}catch(e){return n(e)}if(r&&r.infoHash)n(null,r);else n(new Error("Invalid torrent identifier"))}}function i(e){if(r.isBuffer(e)){e=a.decode(e)}v(e.info,"info");v(e.info["name.utf-8"]||e.info.name,"info.name");v(e.info["piece length"],"info['piece length']");v(e.info.pieces,"info.pieces");if(e.info.files){e.info.files.forEach(e=>{v(typeof e.length==="number","info.files[0].length");v(e["path.utf-8"]||e.path,"info.files[0].path")})}else{v(typeof e.info.length==="number","info.length")}const n={info:e.info,infoBuffer:a.encode(e.info),name:(e.info["name.utf-8"]||e.info.name).toString(),announce:[]};n.infoHash=l.sync(n.infoBuffer);n.infoHashBuffer=r.from(n.infoHash,"hex");if(e.info.private!==undefined)n.private=!!e.info.private;if(e["creation date"])n.created=new Date(e["creation date"]*1e3);if(e["created by"])n.createdBy=e["created by"].toString();if(r.isBuffer(e.comment))n.comment=e.comment.toString();if(Array.isArray(e["announce-list"])&&e["announce-list"].length>0){e["announce-list"].forEach(e=>{e.forEach(e=>{n.announce.push(e.toString())})})}else if(e.announce){n.announce.push(e.announce.toString())}if(r.isBuffer(e["url-list"])){e["url-list"]=e["url-list"].length>0?[e["url-list"]]:[]}n.urlList=(e["url-list"]||[]).map(e=>e.toString());n.announce=Array.from(new Set(n.announce));n.urlList=Array.from(new Set(n.urlList));const i=e.info.files||[e.info];n.files=i.map((e,t)=>{const r=[].concat(n.name,e["path.utf-8"]||e.path||[]).map(e=>e.toString());return{path:u.join.apply(null,[u.sep].concat(r)).slice(1),name:r[r.length-1],length:e.length,offset:i.slice(0,t).reduce(b,0)}});n.length=i.reduce(b,0);const t=n.files[n.files.length-1];n.pieceLength=e.info["piece length"];n.lastPieceLength=(t.offset+t.length)%n.pieceLength||n.pieceLength;n.pieces=g(e.info.pieces);return n}function e(e){const t={info:e.info};t["announce-list"]=(e.announce||[]).map(e=>{if(!t.announce)t.announce=e;e=r.from(e,"utf8");return[e]});t["url-list"]=e.urlList||[];if(e.private!==undefined){t.private=Number(e.private)}if(e.created){t["creation date"]=e.created.getTime()/1e3|0}if(e.createdBy){t["created by"]=e.createdBy}if(e.comment){t.comment=e.comment}return a.encode(t)}function p(e){return typeof Blob!=="undefined"&&e instanceof Blob}function b(e,t){return e+t.length}function g(t){const r=[];for(let e=0;e<t.length;e+=20){r.push(t.slice(e,e+20).toString("hex"))}return r}function v(e,t){if(!e)throw new Error(`Torrent is missing required field: ${t}`)}(()=>{r.alloc(0)})()}).call(this,y(73).Buffer)},function(e,r,n){(function(f){var u=n(385);var e=n(253);var l=n(390);var t=n(391);var c=n(207);var i=r;i.request=function(e,t){if(typeof e==="string")e=c.parse(e);else e=l(e);var r=f.location.protocol.search(/^https?:$/)===-1?"http:":"";var n=e.protocol||r;var i=e.hostname||e.host;var a=e.port;var s=e.path||"/";if(i&&i.indexOf(":")!==-1)i="["+i+"]";e.url=(i?n+"//"+i:"")+(a?":"+a:"")+s;e.method=(e.method||"GET").toUpperCase();e.headers=e.headers||{};var o=new u(e);if(t)o.on("response",t);return o};i.get=function e(t,r){var n=i.request(t,r);n.end();return n};i.ClientRequest=u;i.IncomingMessage=e.IncomingMessage;i.Agent=function(){};i.Agent.defaultMaxSockets=4;i.globalAgent=new i.Agent;i.STATUS_CODES=t;i.METHODS=["CHECKOUT","CONNECT","COPY","DELETE","GET","HEAD","LOCK","M-SEARCH","MERGE","MKACTIVITY","MKCOL","MOVE","NOTIFY","OPTIONS","PATCH","POST","PROPFIND","PROPPATCH","PURGE","PUT","REPORT","SEARCH","SUBSCRIBE","TRACE","UNLOCK","UNSUBSCRIBE"]}).call(this,n(19))},function(e,o,t){(function(e){o.fetch=s(e.fetch)&&s(e.ReadableStream);o.writableStream=s(e.WritableStream);o.abortController=s(e.AbortController);o.blobConstructor=false;try{new Blob([new ArrayBuffer(1)]);o.blobConstructor=true}catch(e){}var t;function r(){if(t!==undefined)return t;if(e.XMLHttpRequest){t=new e.XMLHttpRequest;try{t.open("GET",e.XDomainRequest?"/":"https://example.com")}catch(e){t=null}}else{t=null}return t}function n(e){var t=r();if(!t)return false;try{t.responseType=e;return t.responseType===e}catch(e){}return false}var i=typeof e.ArrayBuffer!=="undefined";var a=i&&s(e.ArrayBuffer.prototype.slice);o.arraybuffer=o.fetch||i&&n("arraybuffer");o.msstream=!o.fetch&&a&&n("ms-stream");o.mozchunkedarraybuffer=!o.fetch&&i&&n("moz-chunked-arraybuffer");o.overrideMimeType=o.fetch||(r()?s(r().overrideMimeType):false);o.vbArray=s(e.VBArray);function s(e){return typeof e==="function"}t=null}).call(this,t(19))},function(e,t){if(typeof Object.create==="function"){e.exports=function e(t,r){if(r){t.super_=r;t.prototype=Object.create(r.prototype,{constructor:{value:t,enumerable:false,writable:true,configurable:true}})}}}else{e.exports=function e(t,r){if(r){t.super_=r;var n=function(){};n.prototype=r.prototype;t.prototype=new n;t.prototype.constructor=t}}}},function(e,r,n){(function(c,d,h){var p=n(251);var e=n(252);var b=n(254);var o=r.readyStates={UNSENT:0,OPENED:1,HEADERS_RECEIVED:2,LOADING:3,DONE:4};var t=r.IncomingMessage=function(e,t,r,n){var i=this;b.Readable.call(i);i._mode=r;i.headers={};i.rawHeaders=[];i.trailers={};i.rawTrailers=[];i.on("end",function(){c.nextTick(function(){i.emit("close")})});if(r==="fetch"){i._fetchResponse=t;i.url=t.url;i.statusCode=t.status;i.statusMessage=t.statusText;t.headers.forEach(function(e,t){i.headers[t.toLowerCase()]=e;i.rawHeaders.push(t,e)});if(p.writableStream){var a=new WritableStream({write:function(r){return new Promise(function(e,t){if(i._destroyed){t()}else if(i.push(new d(r))){e()}else{i._resumeFetch=e}})},close:function(){h.clearTimeout(n);if(!i._destroyed)i.push(null)},abort:function(e){if(!i._destroyed)i.emit("error",e)}});try{t.body.pipeTo(a).catch(function(e){h.clearTimeout(n);if(!i._destroyed)i.emit("error",e)});return}catch(e){}}var s=t.body.getReader();function o(){s.read().then(function(e){if(i._destroyed)return;if(e.done){h.clearTimeout(n);i.push(null);return}i.push(new d(e.value));o()}).catch(function(e){h.clearTimeout(n);if(!i._destroyed)i.emit("error",e)})}o()}else{i._xhr=e;i._pos=0;i.url=e.responseURL;i.statusCode=e.status;i.statusMessage=e.statusText;var f=e.getAllResponseHeaders().split(/\r?\n/);f.forEach(function(e){var t=e.match(/^([^:]+):\s*(.*)/);if(t){var r=t[1].toLowerCase();if(r==="set-cookie"){if(i.headers[r]===undefined){i.headers[r]=[]}i.headers[r].push(t[2])}else if(i.headers[r]!==undefined){i.headers[r]+=", "+t[2]}else{i.headers[r]=t[2]}i.rawHeaders.push(t[1],t[2])}});i._charset="x-user-defined";if(!p.overrideMimeType){var u=i.rawHeaders["mime-type"];if(u){var l=u.match(/;\s*charset=([^;])(;|$)/);if(l){i._charset=l[1].toLowerCase()}}if(!i._charset)i._charset="utf-8"}}};e(t,b.Readable);t.prototype._read=function(){var e=this;var t=e._resumeFetch;if(t){e._resumeFetch=null;t()}};t.prototype._onXHRProgress=function(){var t=this;var e=t._xhr;var r=null;switch(t._mode){case"text:vbarray":if(e.readyState!==o.DONE)break;try{r=new h.VBArray(e.responseBody).toArray()}catch(e){}if(r!==null){t.push(new d(r));break}case"text":try{r=e.responseText}catch(e){t._mode="text:vbarray";break}if(r.length>t._pos){var n=r.substr(t._pos);if(t._charset==="x-user-defined"){var i=new d(n.length);for(var a=0;a<n.length;a++)i[a]=n.charCodeAt(a)&255;t.push(i)}else{t.push(n,t._charset)}t._pos=r.length}break;case"arraybuffer":if(e.readyState!==o.DONE||!e.response)break;r=e.response;t.push(new d(new Uint8Array(r)));break;case"moz-chunked-arraybuffer":r=e.response;if(e.readyState!==o.LOADING||!r)break;t.push(new d(new Uint8Array(r)));break;case"ms-stream":r=e.response;if(e.readyState!==o.LOADING)break;var s=new h.MSStreamReader;s.onprogress=function(){if(s.result.byteLength>t._pos){t.push(new d(new Uint8Array(s.result.slice(t._pos))));t._pos=s.result.byteLength}};s.onload=function(){t.push(null)};s.readAsArrayBuffer(r);break}if(t._xhr.readyState===o.DONE&&t._mode!=="ms-stream"){t.push(null)}}}).call(this,n(74),n(73).Buffer,n(19))},function(e,t,r){t=e.exports=r(255);t.Stream=t;t.Readable=t;t.Writable=r(258);t.Duplex=r(175);t.Transform=r(259);t.PassThrough=r(389)},function(z,e,G){"use strict";(function(e,v){var y=G(197);z.exports=g;var n=G(76);var s;g.ReadableState=b;var t=G(159).EventEmitter;var _=function(e,t){return e.listeners(t).length};var i=G(256);var o=G(206).Buffer;var r=e.Uint8Array||function(){};function f(e){return o.from(e)}function a(e){return o.isBuffer(e)||e instanceof r}var u=Object.create(G(194));u.inherits=G(158);var l=G(386);var m=void 0;if(l&&l.debuglog){m=l.debuglog("stream")}else{m=function(){}}var c=G(387);var d=G(257);var h;u.inherits(g,i);var p=["error","close","destroy","pause","resume"];function w(e,t,r){if(typeof e.prependListener==="function")return e.prependListener(t,r);if(!e._events||!e._events[t])e.on(t,r);else if(n(e._events[t]))e._events[t].unshift(r);else e._events[t]=[r,e._events[t]]}function b(e,t){s=s||G(175);e=e||{};var r=t instanceof s;this.objectMode=!!e.objectMode;if(r)this.objectMode=this.objectMode||!!e.readableObjectMode;var n=e.highWaterMark;var i=e.readableHighWaterMark;var a=this.objectMode?16:16*1024;if(n||n===0)this.highWaterMark=n;else if(r&&(i||i===0))this.highWaterMark=i;else this.highWaterMark=a;this.highWaterMark=Math.floor(this.highWaterMark);this.buffer=new c;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.destroyed=false;this.defaultEncoding=e.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(e.encoding){if(!h)h=G(160).StringDecoder;this.decoder=new h(e.encoding);this.encoding=e.encoding}}function g(e){s=s||G(175);if(!(this instanceof g))return new g(e);this._readableState=new b(e,this);this.readable=true;if(e){if(typeof e.read==="function")this._read=e.read;if(typeof e.destroy==="function")this._destroy=e.destroy}i.call(this)}Object.defineProperty(g.prototype,"destroyed",{get:function(){if(this._readableState===undefined){return false}return this._readableState.destroyed},set:function(e){if(!this._readableState){return}this._readableState.destroyed=e}});g.prototype.destroy=d.destroy;g.prototype._undestroy=d.undestroy;g.prototype._destroy=function(e,t){this.push(null);t(e)};g.prototype.push=function(e,t){var r=this._readableState;var n;if(!r.objectMode){if(typeof e==="string"){t=t||r.defaultEncoding;if(t!==r.encoding){e=o.from(e,t);t=""}n=true}}else{n=true}return S(this,e,t,false,n)};g.prototype.unshift=function(e){return S(this,e,null,true,false)};function S(e,t,r,n,i){var a=e._readableState;if(t===null){a.reading=false;O(e,a)}else{var s;if(!i)s=R(a,t);if(s){e.emit("error",s)}else if(a.objectMode||t&&t.length>0){if(typeof t!=="string"&&!a.objectMode&&Object.getPrototypeOf(t)!==o.prototype){t=f(t)}if(n){if(a.endEmitted)e.emit("error",new Error("stream.unshift() after end event"));else E(e,a,t,true)}else if(a.ended){e.emit("error",new Error("stream.push() after EOF"))}else{a.reading=false;if(a.decoder&&!r){t=a.decoder.write(t);if(a.objectMode||t.length!==0)E(e,a,t,false);else P(e,a)}else{E(e,a,t,false)}}}else if(!n){a.reading=false}}return k(a)}function E(e,t,r,n){if(t.flowing&&t.length===0&&!t.sync){e.emit("data",r);e.read(0)}else{t.length+=t.objectMode?1:r.length;if(n)t.buffer.unshift(r);else t.buffer.push(r);if(t.needReadable)L(e)}P(e,t)}function R(e,t){var r;if(!a(t)&&typeof t!=="string"&&t!==undefined&&!e.objectMode){r=new TypeError("Invalid non-string/buffer chunk")}return r}function k(e){return!e.ended&&(e.needReadable||e.length<e.highWaterMark||e.length===0)}g.prototype.isPaused=function(){return this._readableState.flowing===false};g.prototype.setEncoding=function(e){if(!h)h=G(160).StringDecoder;this._readableState.decoder=new h(e);this._readableState.encoding=e;return this};var x=8388608;function T(e){if(e>=x){e=x}else{e--;e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;e++}return e}function M(e,t){if(e<=0||t.length===0&&t.ended)return 0;if(t.objectMode)return 1;if(e!==e){if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length}if(e>t.highWaterMark)t.highWaterMark=T(e);if(e<=t.length)return e;if(!t.ended){t.needReadable=true;return 0}return t.length}g.prototype.read=function(e){m("read",e);e=parseInt(e,10);var t=this._readableState;var r=e;if(e!==0)t.emittedReadable=false;if(e===0&&t.needReadable&&(t.length>=t.highWaterMark||t.ended)){m("read: emitReadable",t.length,t.ended);if(t.length===0&&t.ended)F(this);else L(this);return null}e=M(e,t);if(e===0&&t.ended){if(t.length===0)F(this);return null}var n=t.needReadable;m("need readable",n);if(t.length===0||t.length-e<t.highWaterMark){n=true;m("length less than watermark",n)}if(t.ended||t.reading){n=false;m("reading or ended",n)}else if(n){m("do read");t.reading=true;t.sync=true;if(t.length===0)t.needReadable=true;this._read(t.highWaterMark);t.sync=false;if(!t.reading)e=M(r,t)}var i;if(e>0)i=N(e,t);else i=null;if(i===null){t.needReadable=true;e=0}else{t.length-=e}if(t.length===0){if(!t.ended)t.needReadable=true;if(r!==e&&t.ended)F(this)}if(i!==null)this.emit("data",i);return i};function O(e,t){if(t.ended)return;if(t.decoder){var r=t.decoder.end();if(r&&r.length){t.buffer.push(r);t.length+=t.objectMode?1:r.length}}t.ended=true;L(e)}function L(e){var t=e._readableState;t.needReadable=false;if(!t.emittedReadable){m("emitReadable",t.flowing);t.emittedReadable=true;if(t.sync)y.nextTick(A,e);else A(e)}}function A(e){m("emit readable");e.emit("readable");U(e)}function P(e,t){if(!t.readingMore){t.readingMore=true;y.nextTick(j,e,t)}}function j(e,t){var r=t.length;while(!t.reading&&!t.flowing&&!t.ended&&t.length<t.highWaterMark){m("maybeReadMore read 0");e.read(0);if(r===t.length)break;else r=t.length}t.readingMore=false}g.prototype._read=function(e){this.emit("error",new Error("_read() is not implemented"))};g.prototype.pipe=function(r,e){var n=this;var i=this._readableState;switch(i.pipesCount){case 0:i.pipes=r;break;case 1:i.pipes=[i.pipes,r];break;default:i.pipes.push(r);break}i.pipesCount+=1;m("pipe count=%d opts=%j",i.pipesCount,e);var t=(!e||e.end!==false)&&r!==v.stdout&&r!==v.stderr;var a=t?o:g;if(i.endEmitted)y.nextTick(a);else n.once("end",a);r.on("unpipe",s);function s(e,t){m("onunpipe");if(e===n){if(t&&t.hasUnpiped===false){t.hasUnpiped=true;l()}}}function o(){m("onend");r.end()}var f=C(n);r.on("drain",f);var u=false;function l(){m("cleanup");r.removeListener("close",p);r.removeListener("finish",b);r.removeListener("drain",f);r.removeListener("error",h);r.removeListener("unpipe",s);n.removeListener("end",o);n.removeListener("end",g);n.removeListener("data",d);u=true;if(i.awaitDrain&&(!r._writableState||r._writableState.needDrain))f()}var c=false;n.on("data",d);function d(e){m("ondata");c=false;var t=r.write(e);if(false===t&&!c){if((i.pipesCount===1&&i.pipes===r||i.pipesCount>1&&V(i.pipes,r)!==-1)&&!u){m("false write response, pause",n._readableState.awaitDrain);n._readableState.awaitDrain++;c=true}n.pause()}}function h(e){m("onerror",e);g();r.removeListener("error",h);if(_(r,"error")===0)r.emit("error",e)}w(r,"error",h);function p(){r.removeListener("finish",b);g()}r.once("close",p);function b(){m("onfinish");r.removeListener("close",p);g()}r.once("finish",b);function g(){m("unpipe");n.unpipe(r)}r.emit("pipe",n);if(!i.flowing){m("pipe resume");n.resume()}return r};function C(t){return function(){var e=t._readableState;m("pipeOnDrain",e.awaitDrain);if(e.awaitDrain)e.awaitDrain--;if(e.awaitDrain===0&&_(t,"data")){e.flowing=true;U(t)}}}g.prototype.unpipe=function(e){var t=this._readableState;var r={hasUnpiped:false};if(t.pipesCount===0)return this;if(t.pipesCount===1){if(e&&e!==t.pipes)return this;if(!e)e=t.pipes;t.pipes=null;t.pipesCount=0;t.flowing=false;if(e)e.emit("unpipe",this,r);return this}if(!e){var n=t.pipes;var i=t.pipesCount;t.pipes=null;t.pipesCount=0;t.flowing=false;for(var a=0;a<i;a++){n[a].emit("unpipe",this,r)}return this}var s=V(t.pipes,e);if(s===-1)return this;t.pipes.splice(s,1);t.pipesCount-=1;if(t.pipesCount===1)t.pipes=t.pipes[0];e.emit("unpipe",this,r);return this};g.prototype.on=function(e,t){var r=i.prototype.on.call(this,e,t);if(e==="data"){if(this._readableState.flowing!==false)this.resume()}else if(e==="readable"){var n=this._readableState;if(!n.endEmitted&&!n.readableListening){n.readableListening=n.needReadable=true;n.emittedReadable=false;if(!n.reading){y.nextTick(I,this)}else if(n.length){L(this)}}}return r};g.prototype.addListener=g.prototype.on;function I(e){m("readable nexttick read 0");e.read(0)}g.prototype.resume=function(){var e=this._readableState;if(!e.flowing){m("resume");e.flowing=true;D(this,e)}return this};function D(e,t){if(!t.resumeScheduled){t.resumeScheduled=true;y.nextTick(B,e,t)}}function B(e,t){if(!t.reading){m("resume read 0");e.read(0)}t.resumeScheduled=false;t.awaitDrain=0;e.emit("resume");U(e);if(t.flowing&&!t.reading)e.read(0)}g.prototype.pause=function(){m("call pause flowing=%j",this._readableState.flowing);if(false!==this._readableState.flowing){m("pause");this._readableState.flowing=false;this.emit("pause")}return this};function U(e){var t=e._readableState;m("flow",t.flowing);while(t.flowing&&e.read()!==null){}}g.prototype.wrap=function(r){var n=this;var i=this._readableState;var a=false;r.on("end",function(){m("wrapped end");if(i.decoder&&!i.ended){var e=i.decoder.end();if(e&&e.length)n.push(e)}n.push(null)});r.on("data",function(e){m("wrapped data");if(i.decoder)e=i.decoder.write(e);if(i.objectMode&&(e===null||e===undefined))return;else if(!i.objectMode&&(!e||!e.length))return;var t=n.push(e);if(!t){a=true;r.pause()}});for(var e in r){if(this[e]===undefined&&typeof r[e]==="function"){this[e]=function(e){return function(){return r[e].apply(r,arguments)}}(e)}}for(var t=0;t<p.length;t++){r.on(p[t],this.emit.bind(this,p[t]))}this._read=function(e){m("wrapped _read",e);if(a){a=false;r.resume()}};return this};Object.defineProperty(g.prototype,"readableHighWaterMark",{enumerable:false,get:function(){return this._readableState.highWaterMark}});g._fromList=N;function N(e,t){if(t.length===0)return null;var r;if(t.objectMode)r=t.buffer.shift();else if(!e||e>=t.length){if(t.decoder)r=t.buffer.join("");else if(t.buffer.length===1)r=t.buffer.head.data;else r=t.buffer.concat(t.length);t.buffer.clear()}else{r=W(e,t.buffer,t.decoder)}return r}function W(e,t,r){var n;if(e<t.head.data.length){n=t.head.data.slice(0,e);t.head.data=t.head.data.slice(e)}else if(e===t.head.data.length){n=t.shift()}else{n=r?q(e,t):H(e,t)}return n}function q(e,t){var r=t.head;var n=1;var i=r.data;e-=i.length;while(r=r.next){var a=r.data;var s=e>a.length?a.length:e;if(s===a.length)i+=a;else i+=a.slice(0,e);e-=s;if(e===0){if(s===a.length){++n;if(r.next)t.head=r.next;else t.head=t.tail=null}else{t.head=r;r.data=a.slice(s)}break}++n}t.length-=n;return i}function H(e,t){var r=o.allocUnsafe(e);var n=t.head;var i=1;n.data.copy(r);e-=n.data.length;while(n=n.next){var a=n.data;var s=e>a.length?a.length:e;a.copy(r,r.length-e,0,s);e-=s;if(e===0){if(s===a.length){++i;if(n.next)t.head=n.next;else t.head=t.tail=null}else{t.head=n;n.data=a.slice(s)}break}++i}t.length-=i;return r}function F(e){var t=e._readableState;if(t.length>0)throw new Error('"endReadable()" called on non-empty stream');if(!t.endEmitted){t.ended=true;y.nextTick(K,t,e)}}function K(e,t){if(!e.endEmitted&&e.length===0){e.endEmitted=true;t.readable=false;t.emit("end")}}function V(e,t){for(var r=0,n=e.length;r<n;r++){if(e[r]===t)return r}return-1}}).call(this,G(19),G(74))},function(e,t,r){e.exports=r(159).EventEmitter},function(e,t,r){"use strict";var a=r(197);function n(e,t){var r=this;var n=this._readableState&&this._readableState.destroyed;var i=this._writableState&&this._writableState.destroyed;if(n||i){if(t){t(e)}else if(e&&(!this._writableState||!this._writableState.errorEmitted)){a.nextTick(s,this,e)}return this}if(this._readableState){this._readableState.destroyed=true}if(this._writableState){this._writableState.destroyed=true}this._destroy(e||null,function(e){if(!t&&e){a.nextTick(s,r,e);if(r._writableState){r._writableState.errorEmitted=true}}else if(t){t(e)}});return this}function i(){if(this._readableState){this._readableState.destroyed=false;this._readableState.reading=false;this._readableState.ended=false;this._readableState.endEmitted=false}if(this._writableState){this._writableState.destroyed=false;this._writableState.ended=false;this._writableState.ending=false;this._writableState.finished=false;this._writableState.errorEmitted=false}}function s(e,t){e.emit("error",t)}e.exports={destroy:n,undestroy:i}},function(D,e,B){"use strict";(function(e,t){var s=B(197);D.exports=y;function r(e,t,r){this.chunk=e;this.encoding=t;this.callback=r;this.next=null}function d(e){var t=this;this.next=null;this.entry=null;this.finish=function(){I(t,e)}}var o=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?setImmediate:s.nextTick;var f;y.WritableState=g;var n=Object.create(B(194));n.inherits=B(158);var i={deprecate:B(163)};var a=B(256);var u=B(206).Buffer;var l=t.Uint8Array||function(){};function c(e){return u.from(e)}function h(e){return u.isBuffer(e)||e instanceof l}var p=B(257);n.inherits(y,a);function b(){}function g(e,t){f=f||B(175);e=e||{};var r=t instanceof f;this.objectMode=!!e.objectMode;if(r)this.objectMode=this.objectMode||!!e.writableObjectMode;var n=e.highWaterMark;var i=e.writableHighWaterMark;var a=this.objectMode?16:16*1024;if(n||n===0)this.highWaterMark=n;else if(r&&(i||i===0))this.highWaterMark=i;else this.highWaterMark=a;this.highWaterMark=Math.floor(this.highWaterMark);this.finalCalled=false;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;this.destroyed=false;var s=e.decodeStrings===false;this.decodeStrings=!s;this.defaultEncoding=e.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){x(t,e)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.bufferedRequestCount=0;this.corkedRequestsFree=new d(this)}g.prototype.getBuffer=function e(){var t=this.bufferedRequest;var r=[];while(t){r.push(t);t=t.next}return r};(function(){try{Object.defineProperty(g.prototype,"buffer",{get:i.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}})();var v;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"){v=Function.prototype[Symbol.hasInstance];Object.defineProperty(y,Symbol.hasInstance,{value:function(e){if(v.call(this,e))return true;if(this!==y)return false;return e&&e._writableState instanceof g}})}else{v=function(e){return e instanceof this}}function y(e){f=f||B(175);if(!v.call(y,this)&&!(this instanceof f)){return new y(e)}this._writableState=new g(e,this);this.writable=true;if(e){if(typeof e.write==="function")this._write=e.write;if(typeof e.writev==="function")this._writev=e.writev;if(typeof e.destroy==="function")this._destroy=e.destroy;if(typeof e.final==="function")this._final=e.final}a.call(this)}y.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))};function _(e,t){var r=new Error("write after end");e.emit("error",r);s.nextTick(t,r)}function m(e,t,r,n){var i=true;var a=false;if(r===null){a=new TypeError("May not write null values to stream")}else if(typeof r!=="string"&&r!==undefined&&!t.objectMode){a=new TypeError("Invalid non-string/buffer chunk")}if(a){e.emit("error",a);s.nextTick(n,a);i=false}return i}y.prototype.write=function(e,t,r){var n=this._writableState;var i=false;var a=!n.objectMode&&h(e);if(a&&!u.isBuffer(e)){e=c(e)}if(typeof t==="function"){r=t;t=null}if(a)t="buffer";else if(!t)t=n.defaultEncoding;if(typeof r!=="function")r=b;if(n.ended)_(this,r);else if(a||m(this,n,e,r)){n.pendingcb++;i=S(this,n,a,e,t,r)}return i};y.prototype.cork=function(){var e=this._writableState;e.corked++};y.prototype.uncork=function(){var e=this._writableState;if(e.corked){e.corked--;if(!e.writing&&!e.corked&&!e.finished&&!e.bufferProcessing&&e.bufferedRequest)O(this,e)}};y.prototype.setDefaultEncoding=function e(t){if(typeof t==="string")t=t.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);this._writableState.defaultEncoding=t;return this};function w(e,t,r){if(!e.objectMode&&e.decodeStrings!==false&&typeof t==="string"){t=u.from(t,r)}return t}Object.defineProperty(y.prototype,"writableHighWaterMark",{enumerable:false,get:function(){return this._writableState.highWaterMark}});function S(e,t,r,n,i,a){if(!r){var s=w(t,n,i);if(n!==s){r=true;i="buffer";n=s}}var o=t.objectMode?1:n.length;t.length+=o;var f=t.length<t.highWaterMark;if(!f)t.needDrain=true;if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null};if(u){u.next=t.lastBufferedRequest}else{t.bufferedRequest=t.lastBufferedRequest}t.bufferedRequestCount+=1}else{E(e,t,false,o,n,i,a)}return f}function E(e,t,r,n,i,a,s){t.writelen=n;t.writecb=s;t.writing=true;t.sync=true;if(r)e._writev(i,t.onwrite);else e._write(i,a,t.onwrite);t.sync=false}function R(e,t,r,n,i){--t.pendingcb;if(r){s.nextTick(i,n);s.nextTick(j,e,t);e._writableState.errorEmitted=true;e.emit("error",n)}else{i(n);e._writableState.errorEmitted=true;e.emit("error",n);j(e,t)}}function k(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function x(e,t){var r=e._writableState;var n=r.sync;var i=r.writecb;k(r);if(t)R(e,r,n,t,i);else{var a=L(r);if(!a&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest){O(e,r)}if(n){o(T,e,r,a,i)}else{T(e,r,a,i)}}}function T(e,t,r,n){if(!r)M(e,t);t.pendingcb--;n();j(e,t)}function M(e,t){if(t.length===0&&t.needDrain){t.needDrain=false;e.emit("drain")}}function O(e,t){t.bufferProcessing=true;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount;var i=new Array(n);var a=t.corkedRequestsFree;a.entry=r;var s=0;var o=true;while(r){i[s]=r;if(!r.isBuf)o=false;r=r.next;s+=1}i.allBuffers=o;E(e,t,true,t.length,i,"",a.finish);t.pendingcb++;t.lastBufferedRequest=null;if(a.next){t.corkedRequestsFree=a.next;a.next=null}else{t.corkedRequestsFree=new d(t)}t.bufferedRequestCount=0}else{while(r){var f=r.chunk;var u=r.encoding;var l=r.callback;var c=t.objectMode?1:f.length;E(e,t,false,c,f,u,l);r=r.next;t.bufferedRequestCount--;if(t.writing){break}}if(r===null)t.lastBufferedRequest=null}t.bufferedRequest=r;t.bufferProcessing=false}y.prototype._write=function(e,t,r){r(new Error("_write() is not implemented"))};y.prototype._writev=null;y.prototype.end=function(e,t,r){var n=this._writableState;if(typeof e==="function"){r=e;e=null;t=null}else if(typeof t==="function"){r=t;t=null}if(e!==null&&e!==undefined)this.write(e,t);if(n.corked){n.corked=1;this.uncork()}if(!n.ending&&!n.finished)C(this,n,r)};function L(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function A(t,r){t._final(function(e){r.pendingcb--;if(e){t.emit("error",e)}r.prefinished=true;t.emit("prefinish");j(t,r)})}function P(e,t){if(!t.prefinished&&!t.finalCalled){if(typeof e._final==="function"){t.pendingcb++;t.finalCalled=true;s.nextTick(A,e,t)}else{t.prefinished=true;e.emit("prefinish")}}}function j(e,t){var r=L(t);if(r){P(e,t);if(t.pendingcb===0){t.finished=true;e.emit("finish")}}return r}function C(e,t,r){t.ending=true;j(e,t);if(r){if(t.finished)s.nextTick(r);else e.once("finish",r)}t.ended=true;e.writable=false}function I(e,t,r){var n=e.entry;e.entry=null;while(n){var i=n.callback;t.pendingcb--;i(r);n=n.next}if(t.corkedRequestsFree){t.corkedRequestsFree.next=e}else{t.corkedRequestsFree=e}}Object.defineProperty(y.prototype,"destroyed",{get:function(){if(this._writableState===undefined){return false}return this._writableState.destroyed},set:function(e){if(!this._writableState){return}this._writableState.destroyed=e}});y.prototype.destroy=p.destroy;y.prototype._undestroy=p.undestroy;y.prototype._destroy=function(e,t){this.end();t(e)}}).call(this,B(74),B(19))},function(e,t,r){"use strict";e.exports=s;var n=r(175);var i=Object.create(r(194));i.inherits=r(158);i.inherits(s,n);function a(e,t){var r=this._transformState;r.transforming=false;var n=r.writecb;if(!n){return this.emit("error",new Error("write callback called multiple times"))}r.writechunk=null;r.writecb=null;if(t!=null)this.push(t);n(e);var i=this._readableState;i.reading=false;if(i.needReadable||i.length<i.highWaterMark){this._read(i.highWaterMark)}}function s(e){if(!(this instanceof s))return new s(e);n.call(this,e);this._transformState={afterTransform:a.bind(this),needTransform:false,transforming:false,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=true;this._readableState.sync=false;if(e){if(typeof e.transform==="function")this._transform=e.transform;if(typeof e.flush==="function")this._flush=e.flush}this.on("prefinish",o)}function o(){var r=this;if(typeof this._flush==="function"){this._flush(function(e,t){f(r,e,t)})}else{f(this,null,null)}}s.prototype.push=function(e,t){this._transformState.needTransform=false;return n.prototype.push.call(this,e,t)};s.prototype._transform=function(e,t,r){throw new Error("_transform() is not implemented")};s.prototype._write=function(e,t,r){var n=this._transformState;n.writecb=r;n.writechunk=e;n.writeencoding=t;if(!n.transforming){var i=this._readableState;if(n.needTransform||i.needReadable||i.length<i.highWaterMark)this._read(i.highWaterMark)}};s.prototype._read=function(e){var t=this._transformState;if(t.writechunk!==null&&t.writecb&&!t.transforming){t.transforming=true;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}else{t.needTransform=true}};s.prototype._destroy=function(e,t){var r=this;n.prototype._destroy.call(this,e,function(e){t(e);r.emit("close")})};function f(e,t,r){if(t)return e.emit("error",t);if(r!=null)e.push(r);if(e._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(e._transformState.transforming)throw new Error("Calling transform done when still transforming");return e.push(null)}},function(e,t,r){var i=r(73).Buffer;e.exports=function(e){if(e instanceof Uint8Array){if(e.byteOffset===0&&e.byteLength===e.buffer.byteLength){return e.buffer}else if(typeof e.buffer.slice==="function"){return e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength)}}if(i.isBuffer(e)){var t=new Uint8Array(e.length);var r=e.length;for(var n=0;n<r;n++){t[n]=e[n]}return t.buffer}else{throw new Error("Argument must be a Buffer")}}},function(e,t,r){"use strict";t.decode=t.parse=r(395);t.encode=t.stringify=r(396)},,,,,,,,,function(X,e,J){"use strict";(function(e,g){X.exports=M;var n;M.ReadableState=T;var t=J(159).EventEmitter;var v=function e(t,r){return t.listeners(r).length};var i=J(271);var o=J(73).Buffer;var r=e.Uint8Array||function(){};function f(e){return o.from(e)}function a(e){return o.isBuffer(e)||e instanceof r}var s=J(415);var y;if(s&&s.debuglog){y=s.debuglog("stream")}else{y=function e(){}}var u=J(416);var l=J(272);var c=J(273),d=c.getHighWaterMark;var h=J(178).codes,p=h.ERR_INVALID_ARG_TYPE,b=h.ERR_STREAM_PUSH_AFTER_EOF,_=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;var w;var S;var E;J(158)(M,i);var R=l.errorOrDestroy;var k=["error","close","destroy","pause","resume"];function x(e,t,r){if(typeof e.prependListener==="function")return e.prependListener(t,r);if(!e._events||!e._events[t])e.on(t,r);else if(Array.isArray(e._events[t]))e._events[t].unshift(r);else e._events[t]=[r,e._events[t]]}function T(e,t,r){n=n||J(179);e=e||{};if(typeof r!=="boolean")r=t instanceof n;this.objectMode=!!e.objectMode;if(r)this.objectMode=this.objectMode||!!e.readableObjectMode;this.highWaterMark=d(this,e,"readableHighWaterMark",r);this.buffer=new u;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.paused=true;this.emitClose=e.emitClose!==false;this.autoDestroy=!!e.autoDestroy;this.destroyed=false;this.defaultEncoding=e.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(e.encoding){if(!w)w=J(160).StringDecoder;this.decoder=new w(e.encoding);this.encoding=e.encoding}}function M(e){n=n||J(179);if(!(this instanceof M))return new M(e);var t=this instanceof n;this._readableState=new T(e,this,t);this.readable=true;if(e){if(typeof e.read==="function")this._read=e.read;if(typeof e.destroy==="function")this._destroy=e.destroy}i.call(this)}Object.defineProperty(M.prototype,"destroyed",{enumerable:false,get:function e(){if(this._readableState===undefined){return false}return this._readableState.destroyed},set:function e(t){if(!this._readableState){return}this._readableState.destroyed=t}});M.prototype.destroy=l.destroy;M.prototype._undestroy=l.undestroy;M.prototype._destroy=function(e,t){t(e)};M.prototype.push=function(e,t){var r=this._readableState;var n;if(!r.objectMode){if(typeof e==="string"){t=t||r.defaultEncoding;if(t!==r.encoding){e=o.from(e,t);t=""}n=true}}else{n=true}return O(this,e,t,false,n)};M.prototype.unshift=function(e){return O(this,e,null,true,false)};function O(e,t,r,n,i){y("readableAddChunk",t);var a=e._readableState;if(t===null){a.reading=false;I(e,a)}else{var s;if(!i)s=A(a,t);if(s){R(e,s)}else if(a.objectMode||t&&t.length>0){if(typeof t!=="string"&&!a.objectMode&&Object.getPrototypeOf(t)!==o.prototype){t=f(t)}if(n){if(a.endEmitted)R(e,new m);else L(e,a,t,true)}else if(a.ended){R(e,new b)}else if(a.destroyed){return false}else{a.reading=false;if(a.decoder&&!r){t=a.decoder.write(t);if(a.objectMode||t.length!==0)L(e,a,t,false);else U(e,a)}else{L(e,a,t,false)}}}else if(!n){a.reading=false;U(e,a)}}return!a.ended&&(a.length<a.highWaterMark||a.length===0)}function L(e,t,r,n){if(t.flowing&&t.length===0&&!t.sync){t.awaitDrain=0;e.emit("data",r)}else{t.length+=t.objectMode?1:r.length;if(n)t.buffer.unshift(r);else t.buffer.push(r);if(t.needReadable)D(e)}U(e,t)}function A(e,t){var r;if(!a(t)&&typeof t!=="string"&&t!==undefined&&!e.objectMode){r=new p("chunk",["string","Buffer","Uint8Array"],t)}return r}M.prototype.isPaused=function(){return this._readableState.flowing===false};M.prototype.setEncoding=function(e){if(!w)w=J(160).StringDecoder;var t=new w(e);this._readableState.decoder=t;this._readableState.encoding=this._readableState.decoder.encoding;var r=this._readableState.buffer.head;var n="";while(r!==null){n+=t.write(r.data);r=r.next}this._readableState.buffer.clear();if(n!=="")this._readableState.buffer.push(n);this._readableState.length=n.length;return this};var P=1073741824;function j(e){if(e>=P){e=P}else{e--;e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;e++}return e}function C(e,t){if(e<=0||t.length===0&&t.ended)return 0;if(t.objectMode)return 1;if(e!==e){if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length}if(e>t.highWaterMark)t.highWaterMark=j(e);if(e<=t.length)return e;if(!t.ended){t.needReadable=true;return 0}return t.length}M.prototype.read=function(e){y("read",e);e=parseInt(e,10);var t=this._readableState;var r=e;if(e!==0)t.emittedReadable=false;if(e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended)){y("read: emitReadable",t.length,t.ended);if(t.length===0&&t.ended)G(this);else D(this);return null}e=C(e,t);if(e===0&&t.ended){if(t.length===0)G(this);return null}var n=t.needReadable;y("need readable",n);if(t.length===0||t.length-e<t.highWaterMark){n=true;y("length less than watermark",n)}if(t.ended||t.reading){n=false;y("reading or ended",n)}else if(n){y("do read");t.reading=true;t.sync=true;if(t.length===0)t.needReadable=true;this._read(t.highWaterMark);t.sync=false;if(!t.reading)e=C(r,t)}var i;if(e>0)i=z(e,t);else i=null;if(i===null){t.needReadable=t.length<=t.highWaterMark;e=0}else{t.length-=e;t.awaitDrain=0}if(t.length===0){if(!t.ended)t.needReadable=true;if(r!==e&&t.ended)G(this)}if(i!==null)this.emit("data",i);return i};function I(e,t){y("onEofChunk");if(t.ended)return;if(t.decoder){var r=t.decoder.end();if(r&&r.length){t.buffer.push(r);t.length+=t.objectMode?1:r.length}}t.ended=true;if(t.sync){D(e)}else{t.needReadable=false;if(!t.emittedReadable){t.emittedReadable=true;B(e)}}}function D(e){var t=e._readableState;y("emitReadable",t.needReadable,t.emittedReadable);t.needReadable=false;if(!t.emittedReadable){y("emitReadable",t.flowing);t.emittedReadable=true;g.nextTick(B,e)}}function B(e){var t=e._readableState;y("emitReadable_",t.destroyed,t.length,t.ended);if(!t.destroyed&&(t.length||t.ended)){e.emit("readable");t.emittedReadable=false}t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark;V(e)}function U(e,t){if(!t.readingMore){t.readingMore=true;g.nextTick(N,e,t)}}function N(e,t){while(!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0)){var r=t.length;y("maybeReadMore read 0");e.read(0);if(r===t.length)break}t.readingMore=false}M.prototype._read=function(e){R(this,new _("_read()"))};M.prototype.pipe=function(r,e){var n=this;var i=this._readableState;switch(i.pipesCount){case 0:i.pipes=r;break;case 1:i.pipes=[i.pipes,r];break;default:i.pipes.push(r);break}i.pipesCount+=1;y("pipe count=%d opts=%j",i.pipesCount,e);var t=(!e||e.end!==false)&&r!==g.stdout&&r!==g.stderr;var a=t?o:b;if(i.endEmitted)g.nextTick(a);else n.once("end",a);r.on("unpipe",s);function s(e,t){y("onunpipe");if(e===n){if(t&&t.hasUnpiped===false){t.hasUnpiped=true;l()}}}function o(){y("onend");r.end()}var f=W(n);r.on("drain",f);var u=false;function l(){y("cleanup");r.removeListener("close",h);r.removeListener("finish",p);r.removeListener("drain",f);r.removeListener("error",d);r.removeListener("unpipe",s);n.removeListener("end",o);n.removeListener("end",b);n.removeListener("data",c);u=true;if(i.awaitDrain&&(!r._writableState||r._writableState.needDrain))f()}n.on("data",c);function c(e){y("ondata");var t=r.write(e);y("dest.write",t);if(t===false){if((i.pipesCount===1&&i.pipes===r||i.pipesCount>1&&Y(i.pipes,r)!==-1)&&!u){y("false write response, pause",i.awaitDrain);i.awaitDrain++}n.pause()}}function d(e){y("onerror",e);b();r.removeListener("error",d);if(v(r,"error")===0)R(r,e)}x(r,"error",d);function h(){r.removeListener("finish",p);b()}r.once("close",h);function p(){y("onfinish");r.removeListener("close",h);b()}r.once("finish",p);function b(){y("unpipe");n.unpipe(r)}r.emit("pipe",n);if(!i.flowing){y("pipe resume");n.resume()}return r};function W(r){return function e(){var t=r._readableState;y("pipeOnDrain",t.awaitDrain);if(t.awaitDrain)t.awaitDrain--;if(t.awaitDrain===0&&v(r,"data")){t.flowing=true;V(r)}}}M.prototype.unpipe=function(e){var t=this._readableState;var r={hasUnpiped:false};if(t.pipesCount===0)return this;if(t.pipesCount===1){if(e&&e!==t.pipes)return this;if(!e)e=t.pipes;t.pipes=null;t.pipesCount=0;t.flowing=false;if(e)e.emit("unpipe",this,r);return this}if(!e){var n=t.pipes;var i=t.pipesCount;t.pipes=null;t.pipesCount=0;t.flowing=false;for(var a=0;a<i;a++){n[a].emit("unpipe",this,{hasUnpiped:false})}return this}var s=Y(t.pipes,e);if(s===-1)return this;t.pipes.splice(s,1);t.pipesCount-=1;if(t.pipesCount===1)t.pipes=t.pipes[0];e.emit("unpipe",this,r);return this};M.prototype.on=function(e,t){var r=i.prototype.on.call(this,e,t);var n=this._readableState;if(e==="data"){n.readableListening=this.listenerCount("readable")>0;if(n.flowing!==false)this.resume()}else if(e==="readable"){if(!n.endEmitted&&!n.readableListening){n.readableListening=n.needReadable=true;n.flowing=false;n.emittedReadable=false;y("on readable",n.length,n.reading);if(n.length){D(this)}else if(!n.reading){g.nextTick(H,this)}}}return r};M.prototype.addListener=M.prototype.on;M.prototype.removeListener=function(e,t){var r=i.prototype.removeListener.call(this,e,t);if(e==="readable"){g.nextTick(q,this)}return r};M.prototype.removeAllListeners=function(e){var t=i.prototype.removeAllListeners.apply(this,arguments);if(e==="readable"||e===undefined){g.nextTick(q,this)}return t};function q(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0;if(t.resumeScheduled&&!t.paused){t.flowing=true}else if(e.listenerCount("data")>0){e.resume()}}function H(e){y("readable nexttick read 0");e.read(0)}M.prototype.resume=function(){var e=this._readableState;if(!e.flowing){y("resume");e.flowing=!e.readableListening;F(this,e)}e.paused=false;return this};function F(e,t){if(!t.resumeScheduled){t.resumeScheduled=true;g.nextTick(K,e,t)}}function K(e,t){y("resume",t.reading);if(!t.reading){e.read(0)}t.resumeScheduled=false;e.emit("resume");V(e);if(t.flowing&&!t.reading)e.read(0)}M.prototype.pause=function(){y("call pause flowing=%j",this._readableState.flowing);if(this._readableState.flowing!==false){y("pause");this._readableState.flowing=false;this.emit("pause")}this._readableState.paused=true;return this};function V(e){var t=e._readableState;y("flow",t.flowing);while(t.flowing&&e.read()!==null){}}M.prototype.wrap=function(r){var n=this;var i=this._readableState;var a=false;r.on("end",function(){y("wrapped end");if(i.decoder&&!i.ended){var e=i.decoder.end();if(e&&e.length)n.push(e)}n.push(null)});r.on("data",function(e){y("wrapped data");if(i.decoder)e=i.decoder.write(e);if(i.objectMode&&(e===null||e===undefined))return;else if(!i.objectMode&&(!e||!e.length))return;var t=n.push(e);if(!t){a=true;r.pause()}});for(var e in r){if(this[e]===undefined&&typeof r[e]==="function"){this[e]=function e(t){return function e(){return r[t].apply(r,arguments)}}(e)}}for(var t=0;t<k.length;t++){r.on(k[t],this.emit.bind(this,k[t]))}this._read=function(e){y("wrapped _read",e);if(a){a=false;r.resume()}};return this};if(typeof Symbol==="function"){M.prototype[Symbol.asyncIterator]=function(){if(S===undefined){S=J(418)}return S(this)}}Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:false,get:function e(){return this._readableState.highWaterMark}});Object.defineProperty(M.prototype,"readableBuffer",{enumerable:false,get:function e(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(M.prototype,"readableFlowing",{enumerable:false,get:function e(){return this._readableState.flowing},set:function e(t){if(this._readableState){this._readableState.flowing=t}}});M._fromList=z;Object.defineProperty(M.prototype,"readableLength",{enumerable:false,get:function e(){return this._readableState.length}});function z(e,t){if(t.length===0)return null;var r;if(t.objectMode)r=t.buffer.shift();else if(!e||e>=t.length){if(t.decoder)r=t.buffer.join("");else if(t.buffer.length===1)r=t.buffer.first();else r=t.buffer.concat(t.length);t.buffer.clear()}else{r=t.buffer.consume(e,t.decoder)}return r}function G(e){var t=e._readableState;y("endReadable",t.endEmitted);if(!t.endEmitted){t.ended=true;g.nextTick($,t,e)}}function $(e,t){y("endReadableNT",e.endEmitted,e.length);if(!e.endEmitted&&e.length===0){e.endEmitted=true;t.readable=false;t.emit("end");if(e.autoDestroy){var r=t._writableState;if(!r||r.autoDestroy&&r.finished){t.destroy()}}}}if(typeof Symbol==="function"){M.from=function(e,t){if(E===undefined){E=J(419)}return E(M,e,t)}}function Y(e,t){for(var r=0,n=e.length;r<n;r++){if(e[r]===t)return r}return-1}}).call(this,J(19),J(74))},function(e,t,r){e.exports=r(159).EventEmitter},function(n,e,t){"use strict";(function(a){function e(e,t){var r=this;var n=this._readableState&&this._readableState.destroyed;var i=this._writableState&&this._writableState.destroyed;if(n||i){if(t){t(e)}else if(e){if(!this._writableState){a.nextTick(f,this,e)}else if(!this._writableState.errorEmitted){this._writableState.errorEmitted=true;a.nextTick(f,this,e)}}return this}if(this._readableState){this._readableState.destroyed=true}if(this._writableState){this._writableState.destroyed=true}this._destroy(e||null,function(e){if(!t&&e){if(!r._writableState){a.nextTick(s,r,e)}else if(!r._writableState.errorEmitted){r._writableState.errorEmitted=true;a.nextTick(s,r,e)}else{a.nextTick(o,r)}}else if(t){a.nextTick(o,r);t(e)}else{a.nextTick(o,r)}});return this}function s(e,t){f(e,t);o(e)}function o(e){if(e._writableState&&!e._writableState.emitClose)return;if(e._readableState&&!e._readableState.emitClose)return;e.emit("close")}function t(){if(this._readableState){this._readableState.destroyed=false;this._readableState.reading=false;this._readableState.ended=false;this._readableState.endEmitted=false}if(this._writableState){this._writableState.destroyed=false;this._writableState.ended=false;this._writableState.ending=false;this._writableState.finalCalled=false;this._writableState.prefinished=false;this._writableState.finished=false;this._writableState.errorEmitted=false}}function f(e,t){e.emit("error",t)}function r(e,t){var r=e._readableState;var n=e._writableState;if(r&&r.autoDestroy||n&&n.autoDestroy)e.destroy(t);else e.emit("error",t)}n.exports={destroy:e,undestroy:t,errorOrDestroy:r}}).call(this,t(74))},function(e,t,r){"use strict";var s=r(178).codes.ERR_INVALID_OPT_VALUE;function o(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function n(e,t,r,n){var i=o(t,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var a=n?r:"highWaterMark";throw new s(a,i)}return Math.floor(i)}return e.objectMode?16:16*1024}e.exports={getHighWaterMark:n}},function(V,e,z){"use strict";(function(e,s){V.exports=T;function t(e,t,r){this.chunk=e;this.encoding=t;this.callback=r;this.next=null}function d(e){var t=this;this.next=null;this.entry=null;this.finish=function(){K(t,e)}}var i;T.WritableState=k;var r={deprecate:z(163)};var n=z(271);var o=z(73).Buffer;var a=e.Uint8Array||function(){};function f(e){return o.from(e)}function u(e){return o.isBuffer(e)||e instanceof a}var l=z(272);var c=z(273),h=c.getHighWaterMark;var p=z(178).codes,b=p.ERR_INVALID_ARG_TYPE,g=p.ERR_METHOD_NOT_IMPLEMENTED,v=p.ERR_MULTIPLE_CALLBACK,y=p.ERR_STREAM_CANNOT_PIPE,_=p.ERR_STREAM_DESTROYED,m=p.ERR_STREAM_NULL_VALUES,w=p.ERR_STREAM_WRITE_AFTER_END,S=p.ERR_UNKNOWN_ENCODING;var E=l.errorOrDestroy;z(158)(T,n);function R(){}function k(e,t,r){i=i||z(179);e=e||{};if(typeof r!=="boolean")r=t instanceof i;this.objectMode=!!e.objectMode;if(r)this.objectMode=this.objectMode||!!e.writableObjectMode;this.highWaterMark=h(this,e,"writableHighWaterMark",r);this.finalCalled=false;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;this.destroyed=false;var n=e.decodeStrings===false;this.decodeStrings=!n;this.defaultEncoding=e.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){I(t,e)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.emitClose=e.emitClose!==false;this.autoDestroy=!!e.autoDestroy;this.bufferedRequestCount=0;this.corkedRequestsFree=new d(this)}k.prototype.getBuffer=function e(){var t=this.bufferedRequest;var r=[];while(t){r.push(t);t=t.next}return r};(function(){try{Object.defineProperty(k.prototype,"buffer",{get:r.deprecate(function e(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}})();var x;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"){x=Function.prototype[Symbol.hasInstance];Object.defineProperty(T,Symbol.hasInstance,{value:function e(t){if(x.call(this,t))return true;if(this!==T)return false;return t&&t._writableState instanceof k}})}else{x=function e(t){return t instanceof this}}function T(e){i=i||z(179);var t=this instanceof i;if(!t&&!x.call(T,this))return new T(e);this._writableState=new k(e,this,t);this.writable=true;if(e){if(typeof e.write==="function")this._write=e.write;if(typeof e.writev==="function")this._writev=e.writev;if(typeof e.destroy==="function")this._destroy=e.destroy;if(typeof e.final==="function")this._final=e.final}n.call(this)}T.prototype.pipe=function(){E(this,new y)};function M(e,t){var r=new w;E(e,r);s.nextTick(t,r)}function O(e,t,r,n){var i;if(r===null){i=new m}else if(typeof r!=="string"&&!t.objectMode){i=new b("chunk",["string","Buffer"],r)}if(i){E(e,i);s.nextTick(n,i);return false}return true}T.prototype.write=function(e,t,r){var n=this._writableState;var i=false;var a=!n.objectMode&&u(e);if(a&&!o.isBuffer(e)){e=f(e)}if(typeof t==="function"){r=t;t=null}if(a)t="buffer";else if(!t)t=n.defaultEncoding;if(typeof r!=="function")r=R;if(n.ending)M(this,r);else if(a||O(this,n,e,r)){n.pendingcb++;i=A(this,n,a,e,t,r)}return i};T.prototype.cork=function(){this._writableState.corked++};T.prototype.uncork=function(){var e=this._writableState;if(e.corked){e.corked--;if(!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest)U(this,e)}};T.prototype.setDefaultEncoding=function e(t){if(typeof t==="string")t=t.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new S(t);this._writableState.defaultEncoding=t;return this};Object.defineProperty(T.prototype,"writableBuffer",{enumerable:false,get:function e(){return this._writableState&&this._writableState.getBuffer()}});function L(e,t,r){if(!e.objectMode&&e.decodeStrings!==false&&typeof t==="string"){t=o.from(t,r)}return t}Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:false,get:function e(){return this._writableState.highWaterMark}});function A(e,t,r,n,i,a){if(!r){var s=L(t,n,i);if(n!==s){r=true;i="buffer";n=s}}var o=t.objectMode?1:n.length;t.length+=o;var f=t.length<t.highWaterMark;if(!f)t.needDrain=true;if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null};if(u){u.next=t.lastBufferedRequest}else{t.bufferedRequest=t.lastBufferedRequest}t.bufferedRequestCount+=1}else{P(e,t,false,o,n,i,a)}return f}function P(e,t,r,n,i,a,s){t.writelen=n;t.writecb=s;t.writing=true;t.sync=true;if(t.destroyed)t.onwrite(new _("write"));else if(r)e._writev(i,t.onwrite);else e._write(i,a,t.onwrite);t.sync=false}function j(e,t,r,n,i){--t.pendingcb;if(r){s.nextTick(i,n);s.nextTick(H,e,t);e._writableState.errorEmitted=true;E(e,n)}else{i(n);e._writableState.errorEmitted=true;E(e,n);H(e,t)}}function C(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function I(e,t){var r=e._writableState;var n=r.sync;var i=r.writecb;if(typeof i!=="function")throw new v;C(r);if(t)j(e,r,n,t,i);else{var a=N(r)||e.destroyed;if(!a&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest){U(e,r)}if(n){s.nextTick(D,e,r,a,i)}else{D(e,r,a,i)}}}function D(e,t,r,n){if(!r)B(e,t);t.pendingcb--;n();H(e,t)}function B(e,t){if(t.length===0&&t.needDrain){t.needDrain=false;e.emit("drain")}}function U(e,t){t.bufferProcessing=true;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount;var i=new Array(n);var a=t.corkedRequestsFree;a.entry=r;var s=0;var o=true;while(r){i[s]=r;if(!r.isBuf)o=false;r=r.next;s+=1}i.allBuffers=o;P(e,t,true,t.length,i,"",a.finish);t.pendingcb++;t.lastBufferedRequest=null;if(a.next){t.corkedRequestsFree=a.next;a.next=null}else{t.corkedRequestsFree=new d(t)}t.bufferedRequestCount=0}else{while(r){var f=r.chunk;var u=r.encoding;var l=r.callback;var c=t.objectMode?1:f.length;P(e,t,false,c,f,u,l);r=r.next;t.bufferedRequestCount--;if(t.writing){break}}if(r===null)t.lastBufferedRequest=null}t.bufferedRequest=r;t.bufferProcessing=false}T.prototype._write=function(e,t,r){r(new g("_write()"))};T.prototype._writev=null;T.prototype.end=function(e,t,r){var n=this._writableState;if(typeof e==="function"){r=e;e=null;t=null}else if(typeof t==="function"){r=t;t=null}if(e!==null&&e!==undefined)this.write(e,t);if(n.corked){n.corked=1;this.uncork()}if(!n.ending)F(this,n,r);return this};Object.defineProperty(T.prototype,"writableLength",{enumerable:false,get:function e(){return this._writableState.length}});function N(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function W(t,r){t._final(function(e){r.pendingcb--;if(e){E(t,e)}r.prefinished=true;t.emit("prefinish");H(t,r)})}function q(e,t){if(!t.prefinished&&!t.finalCalled){if(typeof e._final==="function"&&!t.destroyed){t.pendingcb++;t.finalCalled=true;s.nextTick(W,e,t)}else{t.prefinished=true;e.emit("prefinish")}}}function H(e,t){var r=N(t);if(r){q(e,t);if(t.pendingcb===0){t.finished=true;e.emit("finish");if(t.autoDestroy){var n=e._readableState;if(!n||n.autoDestroy&&n.endEmitted){e.destroy()}}}}return r}function F(e,t,r){t.ending=true;H(e,t);if(r){if(t.finished)s.nextTick(r);else e.once("finish",r)}t.ended=true;e.writable=false}function K(e,t,r){var n=e.entry;e.entry=null;while(n){var i=n.callback;t.pendingcb--;i(r);n=n.next}t.corkedRequestsFree.next=e}Object.defineProperty(T.prototype,"destroyed",{enumerable:false,get:function e(){if(this._writableState===undefined){return false}return this._writableState.destroyed},set:function e(t){if(!this._writableState){return}this._writableState.destroyed=t}});T.prototype.destroy=l.destroy;T.prototype._undestroy=l.undestroy;T.prototype._destroy=function(e,t){t(e)}}).call(this,z(19),z(74))},function(e,t,r){"use strict";e.exports=l;var n=r(178).codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,a=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=n.ERR_TRANSFORM_WITH_LENGTH_0;var f=r(179);r(158)(l,f);function u(e,t){var r=this._transformState;r.transforming=false;var n=r.writecb;if(n===null){return this.emit("error",new a)}r.writechunk=null;r.writecb=null;if(t!=null)this.push(t);n(e);var i=this._readableState;i.reading=false;if(i.needReadable||i.length<i.highWaterMark){this._read(i.highWaterMark)}}function l(e){if(!(this instanceof l))return new l(e);f.call(this,e);this._transformState={afterTransform:u.bind(this),needTransform:false,transforming:false,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=true;this._readableState.sync=false;if(e){if(typeof e.transform==="function")this._transform=e.transform;if(typeof e.flush==="function")this._flush=e.flush}this.on("prefinish",c)}function c(){var r=this;if(typeof this._flush==="function"&&!this._readableState.destroyed){this._flush(function(e,t){d(r,e,t)})}else{d(this,null,null)}}l.prototype.push=function(e,t){this._transformState.needTransform=false;return f.prototype.push.call(this,e,t)};l.prototype._transform=function(e,t,r){r(new i("_transform()"))};l.prototype._write=function(e,t,r){var n=this._transformState;n.writecb=r;n.writechunk=e;n.writeencoding=t;if(!n.transforming){var i=this._readableState;if(n.needTransform||i.needReadable||i.length<i.highWaterMark)this._read(i.highWaterMark)}};l.prototype._read=function(e){var t=this._transformState;if(t.writechunk!==null&&!t.transforming){t.transforming=true;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}else{t.needTransform=true}};l.prototype._destroy=function(e,t){f.prototype._destroy.call(this,e,function(e){t(e)})};function d(e,t,r){if(t)return e.emit("error",t);if(r!=null)e.push(r);if(e._writableState.length)throw new o;if(e._transformState.transforming)throw new s;return e.push(null)}},,,,,,,,,,,,,,,function(a,e,p){(function(e){var s=p(166);var o=p(291);var t=p(442);var f=function(){};var r=/^v?\.0/.test(e.version);var u=function(e){return typeof e==="function"};var l=function(e){if(!r)return false;if(!t)return false;return(e instanceof(t.ReadStream||f)||e instanceof(t.WriteStream||f))&&u(e.close)};var c=function(e){return e.setHeader&&u(e.abort)};var d=function(t,e,r,n){n=s(n);var i=false;t.on("close",function(){i=true});o(t,{readable:e,writable:r},function(e){if(e)return n(e);i=true;n()});var a=false;return function(e){if(i)return;if(a)return;a=true;if(l(t))return t.close(f);if(c(t))return t.abort();if(u(t.destroy))return t.destroy();n(e||new Error("stream was destroyed"))}};var h=function(e){e()};var n=function(e,t){return e.pipe(t)};var i=function(){var i=Array.prototype.slice.call(arguments);var a=u(i[i.length-1]||f)&&i.pop()||f;if(Array.isArray(i[0]))i=i[0];if(i.length<2)throw new Error("pump requires two streams per minimum");var s;var o=i.map(function(e,t){var r=t<i.length-1;var n=t>0;return d(e,r,n,function(e){if(!s)s=e;if(e)o.forEach(h);if(r)return;o.forEach(h);a(s)})});return i.reduce(n)};a.exports=i}).call(this,p(74))},function(e,t,r){(function(g){var v=r(166);var y=function(){};var _=function(e){return e.setHeader&&typeof e.abort==="function"};var m=function(e){return e.stdio&&Array.isArray(e.stdio)&&e.stdio.length===3};var w=function(t,e,r){if(typeof e==="function")return w(t,null,e);if(!e)e={};r=v(r||y);var n=t._writableState;var i=t._readableState;var a=e.readable||e.readable!==false&&t.readable;var s=e.writable||e.writable!==false&&t.writable;var o=false;var f=function(){if(!t.writable)u()};var u=function(){s=false;if(!a)r.call(t)};var l=function(){a=false;if(!s)r.call(t)};var c=function(e){r.call(t,e?new Error("exited with error code: "+e):null)};var d=function(e){r.call(t,e)};var h=function(){g.nextTick(p)};var p=function(){if(o)return;if(a&&!(i&&(i.ended&&!i.destroyed)))return r.call(t,new Error("premature close"));if(s&&!(n&&(n.ended&&!n.destroyed)))return r.call(t,new Error("premature close"))};var b=function(){t.req.on("finish",u)};if(_(t)){t.on("complete",u);t.on("abort",h);if(t.req)b();else t.on("request",b)}else if(s&&!n){t.on("end",f);t.on("close",f)}if(m(t))t.on("exit",c);t.on("end",l);t.on("finish",u);if(e.error!==false)t.on("error",d);t.on("close",h);return function(){o=true;t.removeListener("complete",u);t.removeListener("abort",h);t.removeListener("request",b);if(t.req)t.req.removeListener("finish",u);t.removeListener("end",f);t.removeListener("close",f);t.removeListener("finish",u);t.removeListener("exit",c);t.removeListener("end",l);t.removeListener("error",d);t.removeListener("close",h)}};e.exports=w}).call(this,r(74))},function(e,t,r){t=e.exports=r(293);t.Stream=t;t.Readable=t;t.Writable=r(297);t.Duplex=r(183);t.Transform=r(298);t.PassThrough=r(453);t.finished=r(212);t.pipeline=r(454)},function(X,e,J){"use strict";(function(e,g){X.exports=M;var n;M.ReadableState=T;var t=J(159).EventEmitter;var v=function e(t,r){return t.listeners(r).length};var i=J(294);var o=J(73).Buffer;var r=e.Uint8Array||function(){};function f(e){return o.from(e)}function a(e){return o.isBuffer(e)||e instanceof r}var s=J(448);var y;if(s&&s.debuglog){y=s.debuglog("stream")}else{y=function e(){}}var u=J(449);var l=J(295);var c=J(296),d=c.getHighWaterMark;var h=J(182).codes,p=h.ERR_INVALID_ARG_TYPE,b=h.ERR_STREAM_PUSH_AFTER_EOF,_=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;var w;var S;var E;J(158)(M,i);var R=l.errorOrDestroy;var k=["error","close","destroy","pause","resume"];function x(e,t,r){if(typeof e.prependListener==="function")return e.prependListener(t,r);if(!e._events||!e._events[t])e.on(t,r);else if(Array.isArray(e._events[t]))e._events[t].unshift(r);else e._events[t]=[r,e._events[t]]}function T(e,t,r){n=n||J(183);e=e||{};if(typeof r!=="boolean")r=t instanceof n;this.objectMode=!!e.objectMode;if(r)this.objectMode=this.objectMode||!!e.readableObjectMode;this.highWaterMark=d(this,e,"readableHighWaterMark",r);this.buffer=new u;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.paused=true;this.emitClose=e.emitClose!==false;this.autoDestroy=!!e.autoDestroy;this.destroyed=false;this.defaultEncoding=e.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(e.encoding){if(!w)w=J(160).StringDecoder;this.decoder=new w(e.encoding);this.encoding=e.encoding}}function M(e){n=n||J(183);if(!(this instanceof M))return new M(e);var t=this instanceof n;this._readableState=new T(e,this,t);this.readable=true;if(e){if(typeof e.read==="function")this._read=e.read;if(typeof e.destroy==="function")this._destroy=e.destroy}i.call(this)}Object.defineProperty(M.prototype,"destroyed",{enumerable:false,get:function e(){if(this._readableState===undefined){return false}return this._readableState.destroyed},set:function e(t){if(!this._readableState){return}this._readableState.destroyed=t}});M.prototype.destroy=l.destroy;M.prototype._undestroy=l.undestroy;M.prototype._destroy=function(e,t){t(e)};M.prototype.push=function(e,t){var r=this._readableState;var n;if(!r.objectMode){if(typeof e==="string"){t=t||r.defaultEncoding;if(t!==r.encoding){e=o.from(e,t);t=""}n=true}}else{n=true}return O(this,e,t,false,n)};M.prototype.unshift=function(e){return O(this,e,null,true,false)};function O(e,t,r,n,i){y("readableAddChunk",t);var a=e._readableState;if(t===null){a.reading=false;I(e,a)}else{var s;if(!i)s=A(a,t);if(s){R(e,s)}else if(a.objectMode||t&&t.length>0){if(typeof t!=="string"&&!a.objectMode&&Object.getPrototypeOf(t)!==o.prototype){t=f(t)}if(n){if(a.endEmitted)R(e,new m);else L(e,a,t,true)}else if(a.ended){R(e,new b)}else if(a.destroyed){return false}else{a.reading=false;if(a.decoder&&!r){t=a.decoder.write(t);if(a.objectMode||t.length!==0)L(e,a,t,false);else U(e,a)}else{L(e,a,t,false)}}}else if(!n){a.reading=false;U(e,a)}}return!a.ended&&(a.length<a.highWaterMark||a.length===0)}function L(e,t,r,n){if(t.flowing&&t.length===0&&!t.sync){t.awaitDrain=0;e.emit("data",r)}else{t.length+=t.objectMode?1:r.length;if(n)t.buffer.unshift(r);else t.buffer.push(r);if(t.needReadable)D(e)}U(e,t)}function A(e,t){var r;if(!a(t)&&typeof t!=="string"&&t!==undefined&&!e.objectMode){r=new p("chunk",["string","Buffer","Uint8Array"],t)}return r}M.prototype.isPaused=function(){return this._readableState.flowing===false};M.prototype.setEncoding=function(e){if(!w)w=J(160).StringDecoder;var t=new w(e);this._readableState.decoder=t;this._readableState.encoding=this._readableState.decoder.encoding;var r=this._readableState.buffer.head;var n="";while(r!==null){n+=t.write(r.data);r=r.next}this._readableState.buffer.clear();if(n!=="")this._readableState.buffer.push(n);this._readableState.length=n.length;return this};var P=1073741824;function j(e){if(e>=P){e=P}else{e--;e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;e++}return e}function C(e,t){if(e<=0||t.length===0&&t.ended)return 0;if(t.objectMode)return 1;if(e!==e){if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length}if(e>t.highWaterMark)t.highWaterMark=j(e);if(e<=t.length)return e;if(!t.ended){t.needReadable=true;return 0}return t.length}M.prototype.read=function(e){y("read",e);e=parseInt(e,10);var t=this._readableState;var r=e;if(e!==0)t.emittedReadable=false;if(e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended)){y("read: emitReadable",t.length,t.ended);if(t.length===0&&t.ended)G(this);else D(this);return null}e=C(e,t);if(e===0&&t.ended){if(t.length===0)G(this);return null}var n=t.needReadable;y("need readable",n);if(t.length===0||t.length-e<t.highWaterMark){n=true;y("length less than watermark",n)}if(t.ended||t.reading){n=false;y("reading or ended",n)}else if(n){y("do read");t.reading=true;t.sync=true;if(t.length===0)t.needReadable=true;this._read(t.highWaterMark);t.sync=false;if(!t.reading)e=C(r,t)}var i;if(e>0)i=z(e,t);else i=null;if(i===null){t.needReadable=t.length<=t.highWaterMark;e=0}else{t.length-=e;t.awaitDrain=0}if(t.length===0){if(!t.ended)t.needReadable=true;if(r!==e&&t.ended)G(this)}if(i!==null)this.emit("data",i);return i};function I(e,t){y("onEofChunk");if(t.ended)return;if(t.decoder){var r=t.decoder.end();if(r&&r.length){t.buffer.push(r);t.length+=t.objectMode?1:r.length}}t.ended=true;if(t.sync){D(e)}else{t.needReadable=false;if(!t.emittedReadable){t.emittedReadable=true;B(e)}}}function D(e){var t=e._readableState;y("emitReadable",t.needReadable,t.emittedReadable);t.needReadable=false;if(!t.emittedReadable){y("emitReadable",t.flowing);t.emittedReadable=true;g.nextTick(B,e)}}function B(e){var t=e._readableState;y("emitReadable_",t.destroyed,t.length,t.ended);if(!t.destroyed&&(t.length||t.ended)){e.emit("readable");t.emittedReadable=false}t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark;V(e)}function U(e,t){if(!t.readingMore){t.readingMore=true;g.nextTick(N,e,t)}}function N(e,t){while(!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0)){var r=t.length;y("maybeReadMore read 0");e.read(0);if(r===t.length)break}t.readingMore=false}M.prototype._read=function(e){R(this,new _("_read()"))};M.prototype.pipe=function(r,e){var n=this;var i=this._readableState;switch(i.pipesCount){case 0:i.pipes=r;break;case 1:i.pipes=[i.pipes,r];break;default:i.pipes.push(r);break}i.pipesCount+=1;y("pipe count=%d opts=%j",i.pipesCount,e);var t=(!e||e.end!==false)&&r!==g.stdout&&r!==g.stderr;var a=t?o:b;if(i.endEmitted)g.nextTick(a);else n.once("end",a);r.on("unpipe",s);function s(e,t){y("onunpipe");if(e===n){if(t&&t.hasUnpiped===false){t.hasUnpiped=true;l()}}}function o(){y("onend");r.end()}var f=W(n);r.on("drain",f);var u=false;function l(){y("cleanup");r.removeListener("close",h);r.removeListener("finish",p);r.removeListener("drain",f);r.removeListener("error",d);r.removeListener("unpipe",s);n.removeListener("end",o);n.removeListener("end",b);n.removeListener("data",c);u=true;if(i.awaitDrain&&(!r._writableState||r._writableState.needDrain))f()}n.on("data",c);function c(e){y("ondata");var t=r.write(e);y("dest.write",t);if(t===false){if((i.pipesCount===1&&i.pipes===r||i.pipesCount>1&&Y(i.pipes,r)!==-1)&&!u){y("false write response, pause",i.awaitDrain);i.awaitDrain++}n.pause()}}function d(e){y("onerror",e);b();r.removeListener("error",d);if(v(r,"error")===0)R(r,e)}x(r,"error",d);function h(){r.removeListener("finish",p);b()}r.once("close",h);function p(){y("onfinish");r.removeListener("close",h);b()}r.once("finish",p);function b(){y("unpipe");n.unpipe(r)}r.emit("pipe",n);if(!i.flowing){y("pipe resume");n.resume()}return r};function W(r){return function e(){var t=r._readableState;y("pipeOnDrain",t.awaitDrain);if(t.awaitDrain)t.awaitDrain--;if(t.awaitDrain===0&&v(r,"data")){t.flowing=true;V(r)}}}M.prototype.unpipe=function(e){var t=this._readableState;var r={hasUnpiped:false};if(t.pipesCount===0)return this;if(t.pipesCount===1){if(e&&e!==t.pipes)return this;if(!e)e=t.pipes;t.pipes=null;t.pipesCount=0;t.flowing=false;if(e)e.emit("unpipe",this,r);return this}if(!e){var n=t.pipes;var i=t.pipesCount;t.pipes=null;t.pipesCount=0;t.flowing=false;for(var a=0;a<i;a++){n[a].emit("unpipe",this,{hasUnpiped:false})}return this}var s=Y(t.pipes,e);if(s===-1)return this;t.pipes.splice(s,1);t.pipesCount-=1;if(t.pipesCount===1)t.pipes=t.pipes[0];e.emit("unpipe",this,r);return this};M.prototype.on=function(e,t){var r=i.prototype.on.call(this,e,t);var n=this._readableState;if(e==="data"){n.readableListening=this.listenerCount("readable")>0;if(n.flowing!==false)this.resume()}else if(e==="readable"){if(!n.endEmitted&&!n.readableListening){n.readableListening=n.needReadable=true;n.flowing=false;n.emittedReadable=false;y("on readable",n.length,n.reading);if(n.length){D(this)}else if(!n.reading){g.nextTick(H,this)}}}return r};M.prototype.addListener=M.prototype.on;M.prototype.removeListener=function(e,t){var r=i.prototype.removeListener.call(this,e,t);if(e==="readable"){g.nextTick(q,this)}return r};M.prototype.removeAllListeners=function(e){var t=i.prototype.removeAllListeners.apply(this,arguments);if(e==="readable"||e===undefined){g.nextTick(q,this)}return t};function q(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0;if(t.resumeScheduled&&!t.paused){t.flowing=true}else if(e.listenerCount("data")>0){e.resume()}}function H(e){y("readable nexttick read 0");e.read(0)}M.prototype.resume=function(){var e=this._readableState;if(!e.flowing){y("resume");e.flowing=!e.readableListening;F(this,e)}e.paused=false;return this};function F(e,t){if(!t.resumeScheduled){t.resumeScheduled=true;g.nextTick(K,e,t)}}function K(e,t){y("resume",t.reading);if(!t.reading){e.read(0)}t.resumeScheduled=false;e.emit("resume");V(e);if(t.flowing&&!t.reading)e.read(0)}M.prototype.pause=function(){y("call pause flowing=%j",this._readableState.flowing);if(this._readableState.flowing!==false){y("pause");this._readableState.flowing=false;this.emit("pause")}this._readableState.paused=true;return this};function V(e){var t=e._readableState;y("flow",t.flowing);while(t.flowing&&e.read()!==null){}}M.prototype.wrap=function(r){var n=this;var i=this._readableState;var a=false;r.on("end",function(){y("wrapped end");if(i.decoder&&!i.ended){var e=i.decoder.end();if(e&&e.length)n.push(e)}n.push(null)});r.on("data",function(e){y("wrapped data");if(i.decoder)e=i.decoder.write(e);if(i.objectMode&&(e===null||e===undefined))return;else if(!i.objectMode&&(!e||!e.length))return;var t=n.push(e);if(!t){a=true;r.pause()}});for(var e in r){if(this[e]===undefined&&typeof r[e]==="function"){this[e]=function e(t){return function e(){return r[t].apply(r,arguments)}}(e)}}for(var t=0;t<k.length;t++){r.on(k[t],this.emit.bind(this,k[t]))}this._read=function(e){y("wrapped _read",e);if(a){a=false;r.resume()}};return this};if(typeof Symbol==="function"){M.prototype[Symbol.asyncIterator]=function(){if(S===undefined){S=J(451)}return S(this)}}Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:false,get:function e(){return this._readableState.highWaterMark}});Object.defineProperty(M.prototype,"readableBuffer",{enumerable:false,get:function e(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(M.prototype,"readableFlowing",{enumerable:false,get:function e(){return this._readableState.flowing},set:function e(t){if(this._readableState){this._readableState.flowing=t}}});M._fromList=z;Object.defineProperty(M.prototype,"readableLength",{enumerable:false,get:function e(){return this._readableState.length}});function z(e,t){if(t.length===0)return null;var r;if(t.objectMode)r=t.buffer.shift();else if(!e||e>=t.length){if(t.decoder)r=t.buffer.join("");else if(t.buffer.length===1)r=t.buffer.first();else r=t.buffer.concat(t.length);t.buffer.clear()}else{r=t.buffer.consume(e,t.decoder)}return r}function G(e){var t=e._readableState;y("endReadable",t.endEmitted);if(!t.endEmitted){t.ended=true;g.nextTick($,t,e)}}function $(e,t){y("endReadableNT",e.endEmitted,e.length);if(!e.endEmitted&&e.length===0){e.endEmitted=true;t.readable=false;t.emit("end");if(e.autoDestroy){var r=t._writableState;if(!r||r.autoDestroy&&r.finished){t.destroy()}}}}if(typeof Symbol==="function"){M.from=function(e,t){if(E===undefined){E=J(452)}return E(M,e,t)}}function Y(e,t){for(var r=0,n=e.length;r<n;r++){if(e[r]===t)return r}return-1}}).call(this,J(19),J(74))},function(e,t,r){e.exports=r(159).EventEmitter},function(n,e,t){"use strict";(function(a){function e(e,t){var r=this;var n=this._readableState&&this._readableState.destroyed;var i=this._writableState&&this._writableState.destroyed;if(n||i){if(t){t(e)}else if(e){if(!this._writableState){a.nextTick(f,this,e)}else if(!this._writableState.errorEmitted){this._writableState.errorEmitted=true;a.nextTick(f,this,e)}}return this}if(this._readableState){this._readableState.destroyed=true}if(this._writableState){this._writableState.destroyed=true}this._destroy(e||null,function(e){if(!t&&e){if(!r._writableState){a.nextTick(s,r,e)}else if(!r._writableState.errorEmitted){r._writableState.errorEmitted=true;a.nextTick(s,r,e)}else{a.nextTick(o,r)}}else if(t){a.nextTick(o,r);t(e)}else{a.nextTick(o,r)}});return this}function s(e,t){f(e,t);o(e)}function o(e){if(e._writableState&&!e._writableState.emitClose)return;if(e._readableState&&!e._readableState.emitClose)return;e.emit("close")}function t(){if(this._readableState){this._readableState.destroyed=false;this._readableState.reading=false;this._readableState.ended=false;this._readableState.endEmitted=false}if(this._writableState){this._writableState.destroyed=false;this._writableState.ended=false;this._writableState.ending=false;this._writableState.finalCalled=false;this._writableState.prefinished=false;this._writableState.finished=false;this._writableState.errorEmitted=false}}function f(e,t){e.emit("error",t)}function r(e,t){var r=e._readableState;var n=e._writableState;if(r&&r.autoDestroy||n&&n.autoDestroy)e.destroy(t);else e.emit("error",t)}n.exports={destroy:e,undestroy:t,errorOrDestroy:r}}).call(this,t(74))},function(e,t,r){"use strict";var s=r(182).codes.ERR_INVALID_OPT_VALUE;function o(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function n(e,t,r,n){var i=o(t,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var a=n?r:"highWaterMark";throw new s(a,i)}return Math.floor(i)}return e.objectMode?16:16*1024}e.exports={getHighWaterMark:n}},function(V,e,z){"use strict";(function(e,s){V.exports=T;function t(e,t,r){this.chunk=e;this.encoding=t;this.callback=r;this.next=null}function d(e){var t=this;this.next=null;this.entry=null;this.finish=function(){K(t,e)}}var i;T.WritableState=k;var r={deprecate:z(163)};var n=z(294);var o=z(73).Buffer;var a=e.Uint8Array||function(){};function f(e){return o.from(e)}function u(e){return o.isBuffer(e)||e instanceof a}var l=z(295);var c=z(296),h=c.getHighWaterMark;var p=z(182).codes,b=p.ERR_INVALID_ARG_TYPE,g=p.ERR_METHOD_NOT_IMPLEMENTED,v=p.ERR_MULTIPLE_CALLBACK,y=p.ERR_STREAM_CANNOT_PIPE,_=p.ERR_STREAM_DESTROYED,m=p.ERR_STREAM_NULL_VALUES,w=p.ERR_STREAM_WRITE_AFTER_END,S=p.ERR_UNKNOWN_ENCODING;var E=l.errorOrDestroy;z(158)(T,n);function R(){}function k(e,t,r){i=i||z(183);e=e||{};if(typeof r!=="boolean")r=t instanceof i;this.objectMode=!!e.objectMode;if(r)this.objectMode=this.objectMode||!!e.writableObjectMode;this.highWaterMark=h(this,e,"writableHighWaterMark",r);this.finalCalled=false;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;this.destroyed=false;var n=e.decodeStrings===false;this.decodeStrings=!n;this.defaultEncoding=e.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){I(t,e)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.emitClose=e.emitClose!==false;this.autoDestroy=!!e.autoDestroy;this.bufferedRequestCount=0;this.corkedRequestsFree=new d(this)}k.prototype.getBuffer=function e(){var t=this.bufferedRequest;var r=[];while(t){r.push(t);t=t.next}return r};(function(){try{Object.defineProperty(k.prototype,"buffer",{get:r.deprecate(function e(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}})();var x;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"){x=Function.prototype[Symbol.hasInstance];Object.defineProperty(T,Symbol.hasInstance,{value:function e(t){if(x.call(this,t))return true;if(this!==T)return false;return t&&t._writableState instanceof k}})}else{x=function e(t){return t instanceof this}}function T(e){i=i||z(183);var t=this instanceof i;if(!t&&!x.call(T,this))return new T(e);this._writableState=new k(e,this,t);this.writable=true;if(e){if(typeof e.write==="function")this._write=e.write;if(typeof e.writev==="function")this._writev=e.writev;if(typeof e.destroy==="function")this._destroy=e.destroy;if(typeof e.final==="function")this._final=e.final}n.call(this)}T.prototype.pipe=function(){E(this,new y)};function M(e,t){var r=new w;E(e,r);s.nextTick(t,r)}function O(e,t,r,n){var i;if(r===null){i=new m}else if(typeof r!=="string"&&!t.objectMode){i=new b("chunk",["string","Buffer"],r)}if(i){E(e,i);s.nextTick(n,i);return false}return true}T.prototype.write=function(e,t,r){var n=this._writableState;var i=false;var a=!n.objectMode&&u(e);if(a&&!o.isBuffer(e)){e=f(e)}if(typeof t==="function"){r=t;t=null}if(a)t="buffer";else if(!t)t=n.defaultEncoding;if(typeof r!=="function")r=R;if(n.ending)M(this,r);else if(a||O(this,n,e,r)){n.pendingcb++;i=A(this,n,a,e,t,r)}return i};T.prototype.cork=function(){this._writableState.corked++};T.prototype.uncork=function(){var e=this._writableState;if(e.corked){e.corked--;if(!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest)U(this,e)}};T.prototype.setDefaultEncoding=function e(t){if(typeof t==="string")t=t.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new S(t);this._writableState.defaultEncoding=t;return this};Object.defineProperty(T.prototype,"writableBuffer",{enumerable:false,get:function e(){return this._writableState&&this._writableState.getBuffer()}});function L(e,t,r){if(!e.objectMode&&e.decodeStrings!==false&&typeof t==="string"){t=o.from(t,r)}return t}Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:false,get:function e(){return this._writableState.highWaterMark}});function A(e,t,r,n,i,a){if(!r){var s=L(t,n,i);if(n!==s){r=true;i="buffer";n=s}}var o=t.objectMode?1:n.length;t.length+=o;var f=t.length<t.highWaterMark;if(!f)t.needDrain=true;if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null};if(u){u.next=t.lastBufferedRequest}else{t.bufferedRequest=t.lastBufferedRequest}t.bufferedRequestCount+=1}else{P(e,t,false,o,n,i,a)}return f}function P(e,t,r,n,i,a,s){t.writelen=n;t.writecb=s;t.writing=true;t.sync=true;if(t.destroyed)t.onwrite(new _("write"));else if(r)e._writev(i,t.onwrite);else e._write(i,a,t.onwrite);t.sync=false}function j(e,t,r,n,i){--t.pendingcb;if(r){s.nextTick(i,n);s.nextTick(H,e,t);e._writableState.errorEmitted=true;E(e,n)}else{i(n);e._writableState.errorEmitted=true;E(e,n);H(e,t)}}function C(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function I(e,t){var r=e._writableState;var n=r.sync;var i=r.writecb;if(typeof i!=="function")throw new v;C(r);if(t)j(e,r,n,t,i);else{var a=N(r)||e.destroyed;if(!a&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest){U(e,r)}if(n){s.nextTick(D,e,r,a,i)}else{D(e,r,a,i)}}}function D(e,t,r,n){if(!r)B(e,t);t.pendingcb--;n();H(e,t)}function B(e,t){if(t.length===0&&t.needDrain){t.needDrain=false;e.emit("drain")}}function U(e,t){t.bufferProcessing=true;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount;var i=new Array(n);var a=t.corkedRequestsFree;a.entry=r;var s=0;var o=true;while(r){i[s]=r;if(!r.isBuf)o=false;r=r.next;s+=1}i.allBuffers=o;P(e,t,true,t.length,i,"",a.finish);t.pendingcb++;t.lastBufferedRequest=null;if(a.next){t.corkedRequestsFree=a.next;a.next=null}else{t.corkedRequestsFree=new d(t)}t.bufferedRequestCount=0}else{while(r){var f=r.chunk;var u=r.encoding;var l=r.callback;var c=t.objectMode?1:f.length;P(e,t,false,c,f,u,l);r=r.next;t.bufferedRequestCount--;if(t.writing){break}}if(r===null)t.lastBufferedRequest=null}t.bufferedRequest=r;t.bufferProcessing=false}T.prototype._write=function(e,t,r){r(new g("_write()"))};T.prototype._writev=null;T.prototype.end=function(e,t,r){var n=this._writableState;if(typeof e==="function"){r=e;e=null;t=null}else if(typeof t==="function"){r=t;t=null}if(e!==null&&e!==undefined)this.write(e,t);if(n.corked){n.corked=1;this.uncork()}if(!n.ending)F(this,n,r);return this};Object.defineProperty(T.prototype,"writableLength",{enumerable:false,get:function e(){return this._writableState.length}});function N(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function W(t,r){t._final(function(e){r.pendingcb--;if(e){E(t,e)}r.prefinished=true;t.emit("prefinish");H(t,r)})}function q(e,t){if(!t.prefinished&&!t.finalCalled){if(typeof e._final==="function"&&!t.destroyed){t.pendingcb++;t.finalCalled=true;s.nextTick(W,e,t)}else{t.prefinished=true;e.emit("prefinish")}}}function H(e,t){var r=N(t);if(r){q(e,t);if(t.pendingcb===0){t.finished=true;e.emit("finish");if(t.autoDestroy){var n=e._readableState;if(!n||n.autoDestroy&&n.endEmitted){e.destroy()}}}}return r}function F(e,t,r){t.ending=true;H(e,t);if(r){if(t.finished)s.nextTick(r);else e.once("finish",r)}t.ended=true;e.writable=false}function K(e,t,r){var n=e.entry;e.entry=null;while(n){var i=n.callback;t.pendingcb--;i(r);n=n.next}t.corkedRequestsFree.next=e}Object.defineProperty(T.prototype,"destroyed",{enumerable:false,get:function e(){if(this._writableState===undefined){return false}return this._writableState.destroyed},set:function e(t){if(!this._writableState){return}this._writableState.destroyed=t}});T.prototype.destroy=l.destroy;T.prototype._undestroy=l.undestroy;T.prototype._destroy=function(e,t){t(e)}}).call(this,z(19),z(74))},function(e,t,r){"use strict";e.exports=l;var n=r(182).codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,a=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=n.ERR_TRANSFORM_WITH_LENGTH_0;var f=r(183);r(158)(l,f);function u(e,t){var r=this._transformState;r.transforming=false;var n=r.writecb;if(n===null){return this.emit("error",new a)}r.writechunk=null;r.writecb=null;if(t!=null)this.push(t);n(e);var i=this._readableState;i.reading=false;if(i.needReadable||i.length<i.highWaterMark){this._read(i.highWaterMark)}}function l(e){if(!(this instanceof l))return new l(e);f.call(this,e);this._transformState={afterTransform:u.bind(this),needTransform:false,transforming:false,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=true;this._readableState.sync=false;if(e){if(typeof e.transform==="function")this._transform=e.transform;if(typeof e.flush==="function")this._flush=e.flush}this.on("prefinish",c)}function c(){var r=this;if(typeof this._flush==="function"&&!this._readableState.destroyed){this._flush(function(e,t){d(r,e,t)})}else{d(this,null,null)}}l.prototype.push=function(e,t){this._transformState.needTransform=false;return f.prototype.push.call(this,e,t)};l.prototype._transform=function(e,t,r){r(new i("_transform()"))};l.prototype._write=function(e,t,r){var n=this._transformState;n.writecb=r;n.writechunk=e;n.writeencoding=t;if(!n.transforming){var i=this._readableState;if(n.needTransform||i.needReadable||i.length<i.highWaterMark)this._read(i.highWaterMark)}};l.prototype._read=function(e){var t=this._transformState;if(t.writechunk!==null&&!t.transforming){t.transforming=true;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}else{t.needTransform=true}};l.prototype._destroy=function(e,t){f.prototype._destroy.call(this,e,function(e){t(e)})};function d(e,t,r){if(t)return e.emit("error",t);if(r!=null)e.push(r);if(e._writableState.length)throw new o;if(e._transformState.transforming)throw new s;return e.push(null)}},function(X,e,J){"use strict";(function(e,g){X.exports=M;var n;M.ReadableState=T;var t=J(159).EventEmitter;var v=function e(t,r){return t.listeners(r).length};var i=J(300);var o=J(73).Buffer;var r=e.Uint8Array||function(){};function f(e){return o.from(e)}function a(e){return o.isBuffer(e)||e instanceof r}var s=J(459);var y;if(s&&s.debuglog){y=s.debuglog("stream")}else{y=function e(){}}var u=J(460);var l=J(301);var c=J(302),d=c.getHighWaterMark;var h=J(184).codes,p=h.ERR_INVALID_ARG_TYPE,b=h.ERR_STREAM_PUSH_AFTER_EOF,_=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;var w;var S;var E;J(158)(M,i);var R=l.errorOrDestroy;var k=["error","close","destroy","pause","resume"];function x(e,t,r){if(typeof e.prependListener==="function")return e.prependListener(t,r);if(!e._events||!e._events[t])e.on(t,r);else if(Array.isArray(e._events[t]))e._events[t].unshift(r);else e._events[t]=[r,e._events[t]]}function T(e,t,r){n=n||J(185);e=e||{};if(typeof r!=="boolean")r=t instanceof n;this.objectMode=!!e.objectMode;if(r)this.objectMode=this.objectMode||!!e.readableObjectMode;this.highWaterMark=d(this,e,"readableHighWaterMark",r);this.buffer=new u;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.paused=true;this.emitClose=e.emitClose!==false;this.autoDestroy=!!e.autoDestroy;this.destroyed=false;this.defaultEncoding=e.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(e.encoding){if(!w)w=J(160).StringDecoder;this.decoder=new w(e.encoding);this.encoding=e.encoding}}function M(e){n=n||J(185);if(!(this instanceof M))return new M(e);var t=this instanceof n;this._readableState=new T(e,this,t);this.readable=true;if(e){if(typeof e.read==="function")this._read=e.read;if(typeof e.destroy==="function")this._destroy=e.destroy}i.call(this)}Object.defineProperty(M.prototype,"destroyed",{enumerable:false,get:function e(){if(this._readableState===undefined){return false}return this._readableState.destroyed},set:function e(t){if(!this._readableState){return}this._readableState.destroyed=t}});M.prototype.destroy=l.destroy;M.prototype._undestroy=l.undestroy;M.prototype._destroy=function(e,t){t(e)};M.prototype.push=function(e,t){var r=this._readableState;var n;if(!r.objectMode){if(typeof e==="string"){t=t||r.defaultEncoding;if(t!==r.encoding){e=o.from(e,t);t=""}n=true}}else{n=true}return O(this,e,t,false,n)};M.prototype.unshift=function(e){return O(this,e,null,true,false)};function O(e,t,r,n,i){y("readableAddChunk",t);var a=e._readableState;if(t===null){a.reading=false;I(e,a)}else{var s;if(!i)s=A(a,t);if(s){R(e,s)}else if(a.objectMode||t&&t.length>0){if(typeof t!=="string"&&!a.objectMode&&Object.getPrototypeOf(t)!==o.prototype){t=f(t)}if(n){if(a.endEmitted)R(e,new m);else L(e,a,t,true)}else if(a.ended){R(e,new b)}else if(a.destroyed){return false}else{a.reading=false;if(a.decoder&&!r){t=a.decoder.write(t);if(a.objectMode||t.length!==0)L(e,a,t,false);else U(e,a)}else{L(e,a,t,false)}}}else if(!n){a.reading=false;U(e,a)}}return!a.ended&&(a.length<a.highWaterMark||a.length===0)}function L(e,t,r,n){if(t.flowing&&t.length===0&&!t.sync){t.awaitDrain=0;e.emit("data",r)}else{t.length+=t.objectMode?1:r.length;if(n)t.buffer.unshift(r);else t.buffer.push(r);if(t.needReadable)D(e)}U(e,t)}function A(e,t){var r;if(!a(t)&&typeof t!=="string"&&t!==undefined&&!e.objectMode){r=new p("chunk",["string","Buffer","Uint8Array"],t)}return r}M.prototype.isPaused=function(){return this._readableState.flowing===false};M.prototype.setEncoding=function(e){if(!w)w=J(160).StringDecoder;var t=new w(e);this._readableState.decoder=t;this._readableState.encoding=this._readableState.decoder.encoding;var r=this._readableState.buffer.head;var n="";while(r!==null){n+=t.write(r.data);r=r.next}this._readableState.buffer.clear();if(n!=="")this._readableState.buffer.push(n);this._readableState.length=n.length;return this};var P=1073741824;function j(e){if(e>=P){e=P}else{e--;e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;e++}return e}function C(e,t){if(e<=0||t.length===0&&t.ended)return 0;if(t.objectMode)return 1;if(e!==e){if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length}if(e>t.highWaterMark)t.highWaterMark=j(e);if(e<=t.length)return e;if(!t.ended){t.needReadable=true;return 0}return t.length}M.prototype.read=function(e){y("read",e);e=parseInt(e,10);var t=this._readableState;var r=e;if(e!==0)t.emittedReadable=false;if(e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended)){y("read: emitReadable",t.length,t.ended);if(t.length===0&&t.ended)G(this);else D(this);return null}e=C(e,t);if(e===0&&t.ended){if(t.length===0)G(this);return null}var n=t.needReadable;y("need readable",n);if(t.length===0||t.length-e<t.highWaterMark){n=true;y("length less than watermark",n)}if(t.ended||t.reading){n=false;y("reading or ended",n)}else if(n){y("do read");t.reading=true;t.sync=true;if(t.length===0)t.needReadable=true;this._read(t.highWaterMark);t.sync=false;if(!t.reading)e=C(r,t)}var i;if(e>0)i=z(e,t);else i=null;if(i===null){t.needReadable=t.length<=t.highWaterMark;e=0}else{t.length-=e;t.awaitDrain=0}if(t.length===0){if(!t.ended)t.needReadable=true;if(r!==e&&t.ended)G(this)}if(i!==null)this.emit("data",i);return i};function I(e,t){y("onEofChunk");if(t.ended)return;if(t.decoder){var r=t.decoder.end();if(r&&r.length){t.buffer.push(r);t.length+=t.objectMode?1:r.length}}t.ended=true;if(t.sync){D(e)}else{t.needReadable=false;if(!t.emittedReadable){t.emittedReadable=true;B(e)}}}function D(e){var t=e._readableState;y("emitReadable",t.needReadable,t.emittedReadable);t.needReadable=false;if(!t.emittedReadable){y("emitReadable",t.flowing);t.emittedReadable=true;g.nextTick(B,e)}}function B(e){var t=e._readableState;y("emitReadable_",t.destroyed,t.length,t.ended);if(!t.destroyed&&(t.length||t.ended)){e.emit("readable");t.emittedReadable=false}t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark;V(e)}function U(e,t){if(!t.readingMore){t.readingMore=true;g.nextTick(N,e,t)}}function N(e,t){while(!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0)){var r=t.length;y("maybeReadMore read 0");e.read(0);if(r===t.length)break}t.readingMore=false}M.prototype._read=function(e){R(this,new _("_read()"))};M.prototype.pipe=function(r,e){var n=this;var i=this._readableState;switch(i.pipesCount){case 0:i.pipes=r;break;case 1:i.pipes=[i.pipes,r];break;default:i.pipes.push(r);break}i.pipesCount+=1;y("pipe count=%d opts=%j",i.pipesCount,e);var t=(!e||e.end!==false)&&r!==g.stdout&&r!==g.stderr;var a=t?o:b;if(i.endEmitted)g.nextTick(a);else n.once("end",a);r.on("unpipe",s);function s(e,t){y("onunpipe");if(e===n){if(t&&t.hasUnpiped===false){t.hasUnpiped=true;l()}}}function o(){y("onend");r.end()}var f=W(n);r.on("drain",f);var u=false;function l(){y("cleanup");r.removeListener("close",h);r.removeListener("finish",p);r.removeListener("drain",f);r.removeListener("error",d);r.removeListener("unpipe",s);n.removeListener("end",o);n.removeListener("end",b);n.removeListener("data",c);u=true;if(i.awaitDrain&&(!r._writableState||r._writableState.needDrain))f()}n.on("data",c);function c(e){y("ondata");var t=r.write(e);y("dest.write",t);if(t===false){if((i.pipesCount===1&&i.pipes===r||i.pipesCount>1&&Y(i.pipes,r)!==-1)&&!u){y("false write response, pause",i.awaitDrain);i.awaitDrain++}n.pause()}}function d(e){y("onerror",e);b();r.removeListener("error",d);if(v(r,"error")===0)R(r,e)}x(r,"error",d);function h(){r.removeListener("finish",p);b()}r.once("close",h);function p(){y("onfinish");r.removeListener("close",h);b()}r.once("finish",p);function b(){y("unpipe");n.unpipe(r)}r.emit("pipe",n);if(!i.flowing){y("pipe resume");n.resume()}return r};function W(r){return function e(){var t=r._readableState;y("pipeOnDrain",t.awaitDrain);if(t.awaitDrain)t.awaitDrain--;if(t.awaitDrain===0&&v(r,"data")){t.flowing=true;V(r)}}}M.prototype.unpipe=function(e){var t=this._readableState;var r={hasUnpiped:false};if(t.pipesCount===0)return this;if(t.pipesCount===1){if(e&&e!==t.pipes)return this;if(!e)e=t.pipes;t.pipes=null;t.pipesCount=0;t.flowing=false;if(e)e.emit("unpipe",this,r);return this}if(!e){var n=t.pipes;var i=t.pipesCount;t.pipes=null;t.pipesCount=0;t.flowing=false;for(var a=0;a<i;a++){n[a].emit("unpipe",this,{hasUnpiped:false})}return this}var s=Y(t.pipes,e);if(s===-1)return this;t.pipes.splice(s,1);t.pipesCount-=1;if(t.pipesCount===1)t.pipes=t.pipes[0];e.emit("unpipe",this,r);return this};M.prototype.on=function(e,t){var r=i.prototype.on.call(this,e,t);var n=this._readableState;if(e==="data"){n.readableListening=this.listenerCount("readable")>0;if(n.flowing!==false)this.resume()}else if(e==="readable"){if(!n.endEmitted&&!n.readableListening){n.readableListening=n.needReadable=true;n.flowing=false;n.emittedReadable=false;y("on readable",n.length,n.reading);if(n.length){D(this)}else if(!n.reading){g.nextTick(H,this)}}}return r};M.prototype.addListener=M.prototype.on;M.prototype.removeListener=function(e,t){var r=i.prototype.removeListener.call(this,e,t);if(e==="readable"){g.nextTick(q,this)}return r};M.prototype.removeAllListeners=function(e){var t=i.prototype.removeAllListeners.apply(this,arguments);if(e==="readable"||e===undefined){g.nextTick(q,this)}return t};function q(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0;if(t.resumeScheduled&&!t.paused){t.flowing=true}else if(e.listenerCount("data")>0){e.resume()}}function H(e){y("readable nexttick read 0");e.read(0)}M.prototype.resume=function(){var e=this._readableState;if(!e.flowing){y("resume");e.flowing=!e.readableListening;F(this,e)}e.paused=false;return this};function F(e,t){if(!t.resumeScheduled){t.resumeScheduled=true;g.nextTick(K,e,t)}}function K(e,t){y("resume",t.reading);if(!t.reading){e.read(0)}t.resumeScheduled=false;e.emit("resume");V(e);if(t.flowing&&!t.reading)e.read(0)}M.prototype.pause=function(){y("call pause flowing=%j",this._readableState.flowing);if(this._readableState.flowing!==false){y("pause");this._readableState.flowing=false;this.emit("pause")}this._readableState.paused=true;return this};function V(e){var t=e._readableState;y("flow",t.flowing);while(t.flowing&&e.read()!==null){}}M.prototype.wrap=function(r){var n=this;var i=this._readableState;var a=false;r.on("end",function(){y("wrapped end");if(i.decoder&&!i.ended){var e=i.decoder.end();if(e&&e.length)n.push(e)}n.push(null)});r.on("data",function(e){y("wrapped data");if(i.decoder)e=i.decoder.write(e);if(i.objectMode&&(e===null||e===undefined))return;else if(!i.objectMode&&(!e||!e.length))return;var t=n.push(e);if(!t){a=true;r.pause()}});for(var e in r){if(this[e]===undefined&&typeof r[e]==="function"){this[e]=function e(t){return function e(){return r[t].apply(r,arguments)}}(e)}}for(var t=0;t<k.length;t++){r.on(k[t],this.emit.bind(this,k[t]))}this._read=function(e){y("wrapped _read",e);if(a){a=false;r.resume()}};return this};if(typeof Symbol==="function"){M.prototype[Symbol.asyncIterator]=function(){if(S===undefined){S=J(462)}return S(this)}}Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:false,get:function e(){return this._readableState.highWaterMark}});Object.defineProperty(M.prototype,"readableBuffer",{enumerable:false,get:function e(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(M.prototype,"readableFlowing",{enumerable:false,get:function e(){return this._readableState.flowing},set:function e(t){if(this._readableState){this._readableState.flowing=t}}});M._fromList=z;Object.defineProperty(M.prototype,"readableLength",{enumerable:false,get:function e(){return this._readableState.length}});function z(e,t){if(t.length===0)return null;var r;if(t.objectMode)r=t.buffer.shift();else if(!e||e>=t.length){if(t.decoder)r=t.buffer.join("");else if(t.buffer.length===1)r=t.buffer.first();else r=t.buffer.concat(t.length);t.buffer.clear()}else{r=t.buffer.consume(e,t.decoder)}return r}function G(e){var t=e._readableState;y("endReadable",t.endEmitted);if(!t.endEmitted){t.ended=true;g.nextTick($,t,e)}}function $(e,t){y("endReadableNT",e.endEmitted,e.length);if(!e.endEmitted&&e.length===0){e.endEmitted=true;t.readable=false;t.emit("end");if(e.autoDestroy){var r=t._writableState;if(!r||r.autoDestroy&&r.finished){t.destroy()}}}}if(typeof Symbol==="function"){M.from=function(e,t){if(E===undefined){E=J(463)}return E(M,e,t)}}function Y(e,t){for(var r=0,n=e.length;r<n;r++){if(e[r]===t)return r}return-1}}).call(this,J(19),J(74))},function(e,t,r){e.exports=r(159).EventEmitter},function(n,e,t){"use strict";(function(a){function e(e,t){var r=this;var n=this._readableState&&this._readableState.destroyed;var i=this._writableState&&this._writableState.destroyed;if(n||i){if(t){t(e)}else if(e){if(!this._writableState){a.nextTick(f,this,e)}else if(!this._writableState.errorEmitted){this._writableState.errorEmitted=true;a.nextTick(f,this,e)}}return this}if(this._readableState){this._readableState.destroyed=true}if(this._writableState){this._writableState.destroyed=true}this._destroy(e||null,function(e){if(!t&&e){if(!r._writableState){a.nextTick(s,r,e)}else if(!r._writableState.errorEmitted){r._writableState.errorEmitted=true;a.nextTick(s,r,e)}else{a.nextTick(o,r)}}else if(t){a.nextTick(o,r);t(e)}else{a.nextTick(o,r)}});return this}function s(e,t){f(e,t);o(e)}function o(e){if(e._writableState&&!e._writableState.emitClose)return;if(e._readableState&&!e._readableState.emitClose)return;e.emit("close")}function t(){if(this._readableState){this._readableState.destroyed=false;this._readableState.reading=false;this._readableState.ended=false;this._readableState.endEmitted=false}if(this._writableState){this._writableState.destroyed=false;this._writableState.ended=false;this._writableState.ending=false;this._writableState.finalCalled=false;this._writableState.prefinished=false;this._writableState.finished=false;this._writableState.errorEmitted=false}}function f(e,t){e.emit("error",t)}function r(e,t){var r=e._readableState;var n=e._writableState;if(r&&r.autoDestroy||n&&n.autoDestroy)e.destroy(t);else e.emit("error",t)}n.exports={destroy:e,undestroy:t,errorOrDestroy:r}}).call(this,t(74))},function(e,t,r){"use strict";var s=r(184).codes.ERR_INVALID_OPT_VALUE;function o(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function n(e,t,r,n){var i=o(t,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var a=n?r:"highWaterMark";throw new s(a,i)}return Math.floor(i)}return e.objectMode?16:16*1024}e.exports={getHighWaterMark:n}},function(V,e,z){"use strict";(function(e,s){V.exports=T;function t(e,t,r){this.chunk=e;this.encoding=t;this.callback=r;this.next=null}function d(e){var t=this;this.next=null;this.entry=null;this.finish=function(){K(t,e)}}var i;T.WritableState=k;var r={deprecate:z(163)};var n=z(300);var o=z(73).Buffer;var a=e.Uint8Array||function(){};function f(e){return o.from(e)}function u(e){return o.isBuffer(e)||e instanceof a}var l=z(301);var c=z(302),h=c.getHighWaterMark;var p=z(184).codes,b=p.ERR_INVALID_ARG_TYPE,g=p.ERR_METHOD_NOT_IMPLEMENTED,v=p.ERR_MULTIPLE_CALLBACK,y=p.ERR_STREAM_CANNOT_PIPE,_=p.ERR_STREAM_DESTROYED,m=p.ERR_STREAM_NULL_VALUES,w=p.ERR_STREAM_WRITE_AFTER_END,S=p.ERR_UNKNOWN_ENCODING;var E=l.errorOrDestroy;z(158)(T,n);function R(){}function k(e,t,r){i=i||z(185);e=e||{};if(typeof r!=="boolean")r=t instanceof i;this.objectMode=!!e.objectMode;if(r)this.objectMode=this.objectMode||!!e.writableObjectMode;this.highWaterMark=h(this,e,"writableHighWaterMark",r);this.finalCalled=false;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;this.destroyed=false;var n=e.decodeStrings===false;this.decodeStrings=!n;this.defaultEncoding=e.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){I(t,e)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.emitClose=e.emitClose!==false;this.autoDestroy=!!e.autoDestroy;this.bufferedRequestCount=0;this.corkedRequestsFree=new d(this)}k.prototype.getBuffer=function e(){var t=this.bufferedRequest;var r=[];while(t){r.push(t);t=t.next}return r};(function(){try{Object.defineProperty(k.prototype,"buffer",{get:r.deprecate(function e(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}})();var x;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"){x=Function.prototype[Symbol.hasInstance];Object.defineProperty(T,Symbol.hasInstance,{value:function e(t){if(x.call(this,t))return true;if(this!==T)return false;return t&&t._writableState instanceof k}})}else{x=function e(t){return t instanceof this}}function T(e){i=i||z(185);var t=this instanceof i;if(!t&&!x.call(T,this))return new T(e);this._writableState=new k(e,this,t);this.writable=true;if(e){if(typeof e.write==="function")this._write=e.write;if(typeof e.writev==="function")this._writev=e.writev;if(typeof e.destroy==="function")this._destroy=e.destroy;if(typeof e.final==="function")this._final=e.final}n.call(this)}T.prototype.pipe=function(){E(this,new y)};function M(e,t){var r=new w;E(e,r);s.nextTick(t,r)}function O(e,t,r,n){var i;if(r===null){i=new m}else if(typeof r!=="string"&&!t.objectMode){i=new b("chunk",["string","Buffer"],r)}if(i){E(e,i);s.nextTick(n,i);return false}return true}T.prototype.write=function(e,t,r){var n=this._writableState;var i=false;var a=!n.objectMode&&u(e);if(a&&!o.isBuffer(e)){e=f(e)}if(typeof t==="function"){r=t;t=null}if(a)t="buffer";else if(!t)t=n.defaultEncoding;if(typeof r!=="function")r=R;if(n.ending)M(this,r);else if(a||O(this,n,e,r)){n.pendingcb++;i=A(this,n,a,e,t,r)}return i};T.prototype.cork=function(){this._writableState.corked++};T.prototype.uncork=function(){var e=this._writableState;if(e.corked){e.corked--;if(!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest)U(this,e)}};T.prototype.setDefaultEncoding=function e(t){if(typeof t==="string")t=t.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new S(t);this._writableState.defaultEncoding=t;return this};Object.defineProperty(T.prototype,"writableBuffer",{enumerable:false,get:function e(){return this._writableState&&this._writableState.getBuffer()}});function L(e,t,r){if(!e.objectMode&&e.decodeStrings!==false&&typeof t==="string"){t=o.from(t,r)}return t}Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:false,get:function e(){return this._writableState.highWaterMark}});function A(e,t,r,n,i,a){if(!r){var s=L(t,n,i);if(n!==s){r=true;i="buffer";n=s}}var o=t.objectMode?1:n.length;t.length+=o;var f=t.length<t.highWaterMark;if(!f)t.needDrain=true;if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null};if(u){u.next=t.lastBufferedRequest}else{t.bufferedRequest=t.lastBufferedRequest}t.bufferedRequestCount+=1}else{P(e,t,false,o,n,i,a)}return f}function P(e,t,r,n,i,a,s){t.writelen=n;t.writecb=s;t.writing=true;t.sync=true;if(t.destroyed)t.onwrite(new _("write"));else if(r)e._writev(i,t.onwrite);else e._write(i,a,t.onwrite);t.sync=false}function j(e,t,r,n,i){--t.pendingcb;if(r){s.nextTick(i,n);s.nextTick(H,e,t);e._writableState.errorEmitted=true;E(e,n)}else{i(n);e._writableState.errorEmitted=true;E(e,n);H(e,t)}}function C(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function I(e,t){var r=e._writableState;var n=r.sync;var i=r.writecb;if(typeof i!=="function")throw new v;C(r);if(t)j(e,r,n,t,i);else{var a=N(r)||e.destroyed;if(!a&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest){U(e,r)}if(n){s.nextTick(D,e,r,a,i)}else{D(e,r,a,i)}}}function D(e,t,r,n){if(!r)B(e,t);t.pendingcb--;n();H(e,t)}function B(e,t){if(t.length===0&&t.needDrain){t.needDrain=false;e.emit("drain")}}function U(e,t){t.bufferProcessing=true;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount;var i=new Array(n);var a=t.corkedRequestsFree;a.entry=r;var s=0;var o=true;while(r){i[s]=r;if(!r.isBuf)o=false;r=r.next;s+=1}i.allBuffers=o;P(e,t,true,t.length,i,"",a.finish);t.pendingcb++;t.lastBufferedRequest=null;if(a.next){t.corkedRequestsFree=a.next;a.next=null}else{t.corkedRequestsFree=new d(t)}t.bufferedRequestCount=0}else{while(r){var f=r.chunk;var u=r.encoding;var l=r.callback;var c=t.objectMode?1:f.length;P(e,t,false,c,f,u,l);r=r.next;t.bufferedRequestCount--;if(t.writing){break}}if(r===null)t.lastBufferedRequest=null}t.bufferedRequest=r;t.bufferProcessing=false}T.prototype._write=function(e,t,r){r(new g("_write()"))};T.prototype._writev=null;T.prototype.end=function(e,t,r){var n=this._writableState;if(typeof e==="function"){r=e;e=null;t=null}else if(typeof t==="function"){r=t;t=null}if(e!==null&&e!==undefined)this.write(e,t);if(n.corked){n.corked=1;this.uncork()}if(!n.ending)F(this,n,r);return this};Object.defineProperty(T.prototype,"writableLength",{enumerable:false,get:function e(){return this._writableState.length}});function N(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function W(t,r){t._final(function(e){r.pendingcb--;if(e){E(t,e)}r.prefinished=true;t.emit("prefinish");H(t,r)})}function q(e,t){if(!t.prefinished&&!t.finalCalled){if(typeof e._final==="function"&&!t.destroyed){t.pendingcb++;t.finalCalled=true;s.nextTick(W,e,t)}else{t.prefinished=true;e.emit("prefinish")}}}function H(e,t){var r=N(t);if(r){q(e,t);if(t.pendingcb===0){t.finished=true;e.emit("finish");if(t.autoDestroy){var n=e._readableState;if(!n||n.autoDestroy&&n.endEmitted){e.destroy()}}}}return r}function F(e,t,r){t.ending=true;H(e,t);if(r){if(t.finished)s.nextTick(r);else e.once("finish",r)}t.ended=true;e.writable=false}function K(e,t,r){var n=e.entry;e.entry=null;while(n){var i=n.callback;t.pendingcb--;i(r);n=n.next}t.corkedRequestsFree.next=e}Object.defineProperty(T.prototype,"destroyed",{enumerable:false,get:function e(){if(this._writableState===undefined){return false}return this._writableState.destroyed},set:function e(t){if(!this._writableState){return}this._writableState.destroyed=t}});T.prototype.destroy=l.destroy;T.prototype._undestroy=l.undestroy;T.prototype._destroy=function(e,t){t(e)}}).call(this,z(19),z(74))},function(e,t,r){"use strict";e.exports=l;var n=r(184).codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,a=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=n.ERR_TRANSFORM_WITH_LENGTH_0;var f=r(185);r(158)(l,f);function u(e,t){var r=this._transformState;r.transforming=false;var n=r.writecb;if(n===null){return this.emit("error",new a)}r.writechunk=null;r.writecb=null;if(t!=null)this.push(t);n(e);var i=this._readableState;i.reading=false;if(i.needReadable||i.length<i.highWaterMark){this._read(i.highWaterMark)}}function l(e){if(!(this instanceof l))return new l(e);f.call(this,e);this._transformState={afterTransform:u.bind(this),needTransform:false,transforming:false,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=true;this._readableState.sync=false;if(e){if(typeof e.transform==="function")this._transform=e.transform;if(typeof e.flush==="function")this._flush=e.flush}this.on("prefinish",c)}function c(){var r=this;if(typeof this._flush==="function"&&!this._readableState.destroyed){this._flush(function(e,t){d(r,e,t)})}else{d(this,null,null)}}l.prototype.push=function(e,t){this._transformState.needTransform=false;return f.prototype.push.call(this,e,t)};l.prototype._transform=function(e,t,r){r(new i("_transform()"))};l.prototype._write=function(e,t,r){var n=this._transformState;n.writecb=r;n.writechunk=e;n.writeencoding=t;if(!n.transforming){var i=this._readableState;if(n.needTransform||i.needReadable||i.length<i.highWaterMark)this._read(i.highWaterMark)}};l.prototype._read=function(e){var t=this._transformState;if(t.writechunk!==null&&!t.transforming){t.transforming=true;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}else{t.needTransform=true}};l.prototype._destroy=function(e,t){f.prototype._destroy.call(this,e,function(e){t(e)})};function d(e,t,r){if(t)return e.emit("error",t);if(r!=null)e.push(r);if(e._writableState.length)throw new o;if(e._transformState.transforming)throw new s;return e.push(null)}},function(e,t,r){
/*! stream-to-blob-url. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.exports=n;const i=r(306);async function n(e,t){const r=await i(e,t);const n=URL.createObjectURL(r);return n}},function(e,t){
/*! stream-to-blob. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.exports=r;function r(n,i){if(i!=null&&typeof i!=="string"){throw new Error("Invalid mimetype, expected string.")}return new Promise((t,e)=>{const r=[];n.on("data",e=>r.push(e)).once("end",()=>{const e=i!=null?new Blob(r,{type:i}):new Blob(r);t(e)}).once("error",e)})}},function(e,t,r){const n=r(213);const i=r(290);const a=r(466);function s(e,t,r={}){if(!(this instanceof s)){console.warn("Don't invoke VideoStream without the 'new' keyword.");return new s(e,t,r)}this.detailedError=null;this._elem=t;this._elemWrapper=new n(t);this._waitingFired=false;this._trackMeta=null;this._file=e;this._tracks=null;if(this._elem.preload!=="none"){this._createMuxer()}this._onError=()=>{this.detailedError=this._elemWrapper.detailedError;this.destroy()};this._onWaiting=()=>{this._waitingFired=true;if(!this._muxer){this._createMuxer()}else if(this._tracks){this._pump()}};if(t.autoplay){t.preload="auto"}t.addEventListener("waiting",this._onWaiting);t.addEventListener("error",this._onError)}s.prototype={_createMuxer(){this._muxer=new a(this._file);this._muxer.on("ready",e=>{this._tracks=e.map(e=>{const t=this._elemWrapper.createWriteStream(e.mime);t.on("error",e=>{this._elemWrapper.error(e)});const r={muxed:null,mediaSource:t,initFlushed:false,onInitFlushed:null};t.write(e.init,e=>{r.initFlushed=true;if(r.onInitFlushed){r.onInitFlushed(e)}});return r});if(this._waitingFired||this._elem.preload==="auto"){this._pump()}});this._muxer.on("error",e=>{this._elemWrapper.error(e)})},_pump(){const n=this._muxer.seek(this._elem.currentTime,!this._tracks);this._tracks.forEach((e,t)=>{const r=()=>{if(e.muxed){e.muxed.destroy();e.mediaSource=this._elemWrapper.createWriteStream(e.mediaSource);e.mediaSource.on("error",e=>{this._elemWrapper.error(e)})}e.muxed=n[t];i(e.muxed,e.mediaSource)};if(!e.initFlushed){e.onInitFlushed=e=>{if(e){this._elemWrapper.error(e);return}r()}}else{r()}})},destroy(){if(this.destroyed){return}this.destroyed=true;this._elem.removeEventListener("waiting",this._onWaiting);this._elem.removeEventListener("error",this._onError);if(this._tracks){this._tracks.forEach(e=>{if(e.muxed){e.muxed.destroy()}})}this._elem.src=""}};e.exports=s},function(e,t,r){t=e.exports=r(309);t.Stream=t;t.Readable=t;t.Writable=r(313);t.Duplex=r(187);t.Transform=r(314);t.PassThrough=r(475);t.finished=r(215);t.pipeline=r(476)},function(X,e,J){"use strict";(function(e,g){X.exports=M;var n;M.ReadableState=T;var t=J(159).EventEmitter;var v=function e(t,r){return t.listeners(r).length};var i=J(310);var o=J(73).Buffer;var r=e.Uint8Array||function(){};function f(e){return o.from(e)}function a(e){return o.isBuffer(e)||e instanceof r}var s=J(470);var y;if(s&&s.debuglog){y=s.debuglog("stream")}else{y=function e(){}}var u=J(471);var l=J(311);var c=J(312),d=c.getHighWaterMark;var h=J(186).codes,p=h.ERR_INVALID_ARG_TYPE,b=h.ERR_STREAM_PUSH_AFTER_EOF,_=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;var w;var S;var E;J(158)(M,i);var R=l.errorOrDestroy;var k=["error","close","destroy","pause","resume"];function x(e,t,r){if(typeof e.prependListener==="function")return e.prependListener(t,r);if(!e._events||!e._events[t])e.on(t,r);else if(Array.isArray(e._events[t]))e._events[t].unshift(r);else e._events[t]=[r,e._events[t]]}function T(e,t,r){n=n||J(187);e=e||{};if(typeof r!=="boolean")r=t instanceof n;this.objectMode=!!e.objectMode;if(r)this.objectMode=this.objectMode||!!e.readableObjectMode;this.highWaterMark=d(this,e,"readableHighWaterMark",r);this.buffer=new u;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.paused=true;this.emitClose=e.emitClose!==false;this.autoDestroy=!!e.autoDestroy;this.destroyed=false;this.defaultEncoding=e.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(e.encoding){if(!w)w=J(160).StringDecoder;this.decoder=new w(e.encoding);this.encoding=e.encoding}}function M(e){n=n||J(187);if(!(this instanceof M))return new M(e);var t=this instanceof n;this._readableState=new T(e,this,t);this.readable=true;if(e){if(typeof e.read==="function")this._read=e.read;if(typeof e.destroy==="function")this._destroy=e.destroy}i.call(this)}Object.defineProperty(M.prototype,"destroyed",{enumerable:false,get:function e(){if(this._readableState===undefined){return false}return this._readableState.destroyed},set:function e(t){if(!this._readableState){return}this._readableState.destroyed=t}});M.prototype.destroy=l.destroy;M.prototype._undestroy=l.undestroy;M.prototype._destroy=function(e,t){t(e)};M.prototype.push=function(e,t){var r=this._readableState;var n;if(!r.objectMode){if(typeof e==="string"){t=t||r.defaultEncoding;if(t!==r.encoding){e=o.from(e,t);t=""}n=true}}else{n=true}return O(this,e,t,false,n)};M.prototype.unshift=function(e){return O(this,e,null,true,false)};function O(e,t,r,n,i){y("readableAddChunk",t);var a=e._readableState;if(t===null){a.reading=false;I(e,a)}else{var s;if(!i)s=A(a,t);if(s){R(e,s)}else if(a.objectMode||t&&t.length>0){if(typeof t!=="string"&&!a.objectMode&&Object.getPrototypeOf(t)!==o.prototype){t=f(t)}if(n){if(a.endEmitted)R(e,new m);else L(e,a,t,true)}else if(a.ended){R(e,new b)}else if(a.destroyed){return false}else{a.reading=false;if(a.decoder&&!r){t=a.decoder.write(t);if(a.objectMode||t.length!==0)L(e,a,t,false);else U(e,a)}else{L(e,a,t,false)}}}else if(!n){a.reading=false;U(e,a)}}return!a.ended&&(a.length<a.highWaterMark||a.length===0)}function L(e,t,r,n){if(t.flowing&&t.length===0&&!t.sync){t.awaitDrain=0;e.emit("data",r)}else{t.length+=t.objectMode?1:r.length;if(n)t.buffer.unshift(r);else t.buffer.push(r);if(t.needReadable)D(e)}U(e,t)}function A(e,t){var r;if(!a(t)&&typeof t!=="string"&&t!==undefined&&!e.objectMode){r=new p("chunk",["string","Buffer","Uint8Array"],t)}return r}M.prototype.isPaused=function(){return this._readableState.flowing===false};M.prototype.setEncoding=function(e){if(!w)w=J(160).StringDecoder;var t=new w(e);this._readableState.decoder=t;this._readableState.encoding=this._readableState.decoder.encoding;var r=this._readableState.buffer.head;var n="";while(r!==null){n+=t.write(r.data);r=r.next}this._readableState.buffer.clear();if(n!=="")this._readableState.buffer.push(n);this._readableState.length=n.length;return this};var P=1073741824;function j(e){if(e>=P){e=P}else{e--;e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;e++}return e}function C(e,t){if(e<=0||t.length===0&&t.ended)return 0;if(t.objectMode)return 1;if(e!==e){if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length}if(e>t.highWaterMark)t.highWaterMark=j(e);if(e<=t.length)return e;if(!t.ended){t.needReadable=true;return 0}return t.length}M.prototype.read=function(e){y("read",e);e=parseInt(e,10);var t=this._readableState;var r=e;if(e!==0)t.emittedReadable=false;if(e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended)){y("read: emitReadable",t.length,t.ended);if(t.length===0&&t.ended)G(this);else D(this);return null}e=C(e,t);if(e===0&&t.ended){if(t.length===0)G(this);return null}var n=t.needReadable;y("need readable",n);if(t.length===0||t.length-e<t.highWaterMark){n=true;y("length less than watermark",n)}if(t.ended||t.reading){n=false;y("reading or ended",n)}else if(n){y("do read");t.reading=true;t.sync=true;if(t.length===0)t.needReadable=true;this._read(t.highWaterMark);t.sync=false;if(!t.reading)e=C(r,t)}var i;if(e>0)i=z(e,t);else i=null;if(i===null){t.needReadable=t.length<=t.highWaterMark;e=0}else{t.length-=e;t.awaitDrain=0}if(t.length===0){if(!t.ended)t.needReadable=true;if(r!==e&&t.ended)G(this)}if(i!==null)this.emit("data",i);return i};function I(e,t){y("onEofChunk");if(t.ended)return;if(t.decoder){var r=t.decoder.end();if(r&&r.length){t.buffer.push(r);t.length+=t.objectMode?1:r.length}}t.ended=true;if(t.sync){D(e)}else{t.needReadable=false;if(!t.emittedReadable){t.emittedReadable=true;B(e)}}}function D(e){var t=e._readableState;y("emitReadable",t.needReadable,t.emittedReadable);t.needReadable=false;if(!t.emittedReadable){y("emitReadable",t.flowing);t.emittedReadable=true;g.nextTick(B,e)}}function B(e){var t=e._readableState;y("emitReadable_",t.destroyed,t.length,t.ended);if(!t.destroyed&&(t.length||t.ended)){e.emit("readable");t.emittedReadable=false}t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark;V(e)}function U(e,t){if(!t.readingMore){t.readingMore=true;g.nextTick(N,e,t)}}function N(e,t){while(!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0)){var r=t.length;y("maybeReadMore read 0");e.read(0);if(r===t.length)break}t.readingMore=false}M.prototype._read=function(e){R(this,new _("_read()"))};M.prototype.pipe=function(r,e){var n=this;var i=this._readableState;switch(i.pipesCount){case 0:i.pipes=r;break;case 1:i.pipes=[i.pipes,r];break;default:i.pipes.push(r);break}i.pipesCount+=1;y("pipe count=%d opts=%j",i.pipesCount,e);var t=(!e||e.end!==false)&&r!==g.stdout&&r!==g.stderr;var a=t?o:b;if(i.endEmitted)g.nextTick(a);else n.once("end",a);r.on("unpipe",s);function s(e,t){y("onunpipe");if(e===n){if(t&&t.hasUnpiped===false){t.hasUnpiped=true;l()}}}function o(){y("onend");r.end()}var f=W(n);r.on("drain",f);var u=false;function l(){y("cleanup");r.removeListener("close",h);r.removeListener("finish",p);r.removeListener("drain",f);r.removeListener("error",d);r.removeListener("unpipe",s);n.removeListener("end",o);n.removeListener("end",b);n.removeListener("data",c);u=true;if(i.awaitDrain&&(!r._writableState||r._writableState.needDrain))f()}n.on("data",c);function c(e){y("ondata");var t=r.write(e);y("dest.write",t);if(t===false){if((i.pipesCount===1&&i.pipes===r||i.pipesCount>1&&Y(i.pipes,r)!==-1)&&!u){y("false write response, pause",i.awaitDrain);i.awaitDrain++}n.pause()}}function d(e){y("onerror",e);b();r.removeListener("error",d);if(v(r,"error")===0)R(r,e)}x(r,"error",d);function h(){r.removeListener("finish",p);b()}r.once("close",h);function p(){y("onfinish");r.removeListener("close",h);b()}r.once("finish",p);function b(){y("unpipe");n.unpipe(r)}r.emit("pipe",n);if(!i.flowing){y("pipe resume");n.resume()}return r};function W(r){return function e(){var t=r._readableState;y("pipeOnDrain",t.awaitDrain);if(t.awaitDrain)t.awaitDrain--;if(t.awaitDrain===0&&v(r,"data")){t.flowing=true;V(r)}}}M.prototype.unpipe=function(e){var t=this._readableState;var r={hasUnpiped:false};if(t.pipesCount===0)return this;if(t.pipesCount===1){if(e&&e!==t.pipes)return this;if(!e)e=t.pipes;t.pipes=null;t.pipesCount=0;t.flowing=false;if(e)e.emit("unpipe",this,r);return this}if(!e){var n=t.pipes;var i=t.pipesCount;t.pipes=null;t.pipesCount=0;t.flowing=false;for(var a=0;a<i;a++){n[a].emit("unpipe",this,{hasUnpiped:false})}return this}var s=Y(t.pipes,e);if(s===-1)return this;t.pipes.splice(s,1);t.pipesCount-=1;if(t.pipesCount===1)t.pipes=t.pipes[0];e.emit("unpipe",this,r);return this};M.prototype.on=function(e,t){var r=i.prototype.on.call(this,e,t);var n=this._readableState;if(e==="data"){n.readableListening=this.listenerCount("readable")>0;if(n.flowing!==false)this.resume()}else if(e==="readable"){if(!n.endEmitted&&!n.readableListening){n.readableListening=n.needReadable=true;n.flowing=false;n.emittedReadable=false;y("on readable",n.length,n.reading);if(n.length){D(this)}else if(!n.reading){g.nextTick(H,this)}}}return r};M.prototype.addListener=M.prototype.on;M.prototype.removeListener=function(e,t){var r=i.prototype.removeListener.call(this,e,t);if(e==="readable"){g.nextTick(q,this)}return r};M.prototype.removeAllListeners=function(e){var t=i.prototype.removeAllListeners.apply(this,arguments);if(e==="readable"||e===undefined){g.nextTick(q,this)}return t};function q(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0;if(t.resumeScheduled&&!t.paused){t.flowing=true}else if(e.listenerCount("data")>0){e.resume()}}function H(e){y("readable nexttick read 0");e.read(0)}M.prototype.resume=function(){var e=this._readableState;if(!e.flowing){y("resume");e.flowing=!e.readableListening;F(this,e)}e.paused=false;return this};function F(e,t){if(!t.resumeScheduled){t.resumeScheduled=true;g.nextTick(K,e,t)}}function K(e,t){y("resume",t.reading);if(!t.reading){e.read(0)}t.resumeScheduled=false;e.emit("resume");V(e);if(t.flowing&&!t.reading)e.read(0)}M.prototype.pause=function(){y("call pause flowing=%j",this._readableState.flowing);if(this._readableState.flowing!==false){y("pause");this._readableState.flowing=false;this.emit("pause")}this._readableState.paused=true;return this};function V(e){var t=e._readableState;y("flow",t.flowing);while(t.flowing&&e.read()!==null){}}M.prototype.wrap=function(r){var n=this;var i=this._readableState;var a=false;r.on("end",function(){y("wrapped end");if(i.decoder&&!i.ended){var e=i.decoder.end();if(e&&e.length)n.push(e)}n.push(null)});r.on("data",function(e){y("wrapped data");if(i.decoder)e=i.decoder.write(e);if(i.objectMode&&(e===null||e===undefined))return;else if(!i.objectMode&&(!e||!e.length))return;var t=n.push(e);if(!t){a=true;r.pause()}});for(var e in r){if(this[e]===undefined&&typeof r[e]==="function"){this[e]=function e(t){return function e(){return r[t].apply(r,arguments)}}(e)}}for(var t=0;t<k.length;t++){r.on(k[t],this.emit.bind(this,k[t]))}this._read=function(e){y("wrapped _read",e);if(a){a=false;r.resume()}};return this};if(typeof Symbol==="function"){M.prototype[Symbol.asyncIterator]=function(){if(S===undefined){S=J(473)}return S(this)}}Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:false,get:function e(){return this._readableState.highWaterMark}});Object.defineProperty(M.prototype,"readableBuffer",{enumerable:false,get:function e(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(M.prototype,"readableFlowing",{enumerable:false,get:function e(){return this._readableState.flowing},set:function e(t){if(this._readableState){this._readableState.flowing=t}}});M._fromList=z;Object.defineProperty(M.prototype,"readableLength",{enumerable:false,get:function e(){return this._readableState.length}});function z(e,t){if(t.length===0)return null;var r;if(t.objectMode)r=t.buffer.shift();else if(!e||e>=t.length){if(t.decoder)r=t.buffer.join("");else if(t.buffer.length===1)r=t.buffer.first();else r=t.buffer.concat(t.length);t.buffer.clear()}else{r=t.buffer.consume(e,t.decoder)}return r}function G(e){var t=e._readableState;y("endReadable",t.endEmitted);if(!t.endEmitted){t.ended=true;g.nextTick($,t,e)}}function $(e,t){y("endReadableNT",e.endEmitted,e.length);if(!e.endEmitted&&e.length===0){e.endEmitted=true;t.readable=false;t.emit("end");if(e.autoDestroy){var r=t._writableState;if(!r||r.autoDestroy&&r.finished){t.destroy()}}}}if(typeof Symbol==="function"){M.from=function(e,t){if(E===undefined){E=J(474)}return E(M,e,t)}}function Y(e,t){for(var r=0,n=e.length;r<n;r++){if(e[r]===t)return r}return-1}}).call(this,J(19),J(74))},function(e,t,r){e.exports=r(159).EventEmitter},function(n,e,t){"use strict";(function(a){function e(e,t){var r=this;var n=this._readableState&&this._readableState.destroyed;var i=this._writableState&&this._writableState.destroyed;if(n||i){if(t){t(e)}else if(e){if(!this._writableState){a.nextTick(f,this,e)}else if(!this._writableState.errorEmitted){this._writableState.errorEmitted=true;a.nextTick(f,this,e)}}return this}if(this._readableState){this._readableState.destroyed=true}if(this._writableState){this._writableState.destroyed=true}this._destroy(e||null,function(e){if(!t&&e){if(!r._writableState){a.nextTick(s,r,e)}else if(!r._writableState.errorEmitted){r._writableState.errorEmitted=true;a.nextTick(s,r,e)}else{a.nextTick(o,r)}}else if(t){a.nextTick(o,r);t(e)}else{a.nextTick(o,r)}});return this}function s(e,t){f(e,t);o(e)}function o(e){if(e._writableState&&!e._writableState.emitClose)return;if(e._readableState&&!e._readableState.emitClose)return;e.emit("close")}function t(){if(this._readableState){this._readableState.destroyed=false;this._readableState.reading=false;this._readableState.ended=false;this._readableState.endEmitted=false}if(this._writableState){this._writableState.destroyed=false;this._writableState.ended=false;this._writableState.ending=false;this._writableState.finalCalled=false;this._writableState.prefinished=false;this._writableState.finished=false;this._writableState.errorEmitted=false}}function f(e,t){e.emit("error",t)}function r(e,t){var r=e._readableState;var n=e._writableState;if(r&&r.autoDestroy||n&&n.autoDestroy)e.destroy(t);else e.emit("error",t)}n.exports={destroy:e,undestroy:t,errorOrDestroy:r}}).call(this,t(74))},function(e,t,r){"use strict";var s=r(186).codes.ERR_INVALID_OPT_VALUE;function o(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function n(e,t,r,n){var i=o(t,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var a=n?r:"highWaterMark";throw new s(a,i)}return Math.floor(i)}return e.objectMode?16:16*1024}e.exports={getHighWaterMark:n}},function(V,e,z){"use strict";(function(e,s){V.exports=T;function t(e,t,r){this.chunk=e;this.encoding=t;this.callback=r;this.next=null}function d(e){var t=this;this.next=null;this.entry=null;this.finish=function(){K(t,e)}}var i;T.WritableState=k;var r={deprecate:z(163)};var n=z(310);var o=z(73).Buffer;var a=e.Uint8Array||function(){};function f(e){return o.from(e)}function u(e){return o.isBuffer(e)||e instanceof a}var l=z(311);var c=z(312),h=c.getHighWaterMark;var p=z(186).codes,b=p.ERR_INVALID_ARG_TYPE,g=p.ERR_METHOD_NOT_IMPLEMENTED,v=p.ERR_MULTIPLE_CALLBACK,y=p.ERR_STREAM_CANNOT_PIPE,_=p.ERR_STREAM_DESTROYED,m=p.ERR_STREAM_NULL_VALUES,w=p.ERR_STREAM_WRITE_AFTER_END,S=p.ERR_UNKNOWN_ENCODING;var E=l.errorOrDestroy;z(158)(T,n);function R(){}function k(e,t,r){i=i||z(187);e=e||{};if(typeof r!=="boolean")r=t instanceof i;this.objectMode=!!e.objectMode;if(r)this.objectMode=this.objectMode||!!e.writableObjectMode;this.highWaterMark=h(this,e,"writableHighWaterMark",r);this.finalCalled=false;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;this.destroyed=false;var n=e.decodeStrings===false;this.decodeStrings=!n;this.defaultEncoding=e.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){I(t,e)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.emitClose=e.emitClose!==false;this.autoDestroy=!!e.autoDestroy;this.bufferedRequestCount=0;this.corkedRequestsFree=new d(this)}k.prototype.getBuffer=function e(){var t=this.bufferedRequest;var r=[];while(t){r.push(t);t=t.next}return r};(function(){try{Object.defineProperty(k.prototype,"buffer",{get:r.deprecate(function e(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}})();var x;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"){x=Function.prototype[Symbol.hasInstance];Object.defineProperty(T,Symbol.hasInstance,{value:function e(t){if(x.call(this,t))return true;if(this!==T)return false;return t&&t._writableState instanceof k}})}else{x=function e(t){return t instanceof this}}function T(e){i=i||z(187);var t=this instanceof i;if(!t&&!x.call(T,this))return new T(e);this._writableState=new k(e,this,t);this.writable=true;if(e){if(typeof e.write==="function")this._write=e.write;if(typeof e.writev==="function")this._writev=e.writev;if(typeof e.destroy==="function")this._destroy=e.destroy;if(typeof e.final==="function")this._final=e.final}n.call(this)}T.prototype.pipe=function(){E(this,new y)};function M(e,t){var r=new w;E(e,r);s.nextTick(t,r)}function O(e,t,r,n){var i;if(r===null){i=new m}else if(typeof r!=="string"&&!t.objectMode){i=new b("chunk",["string","Buffer"],r)}if(i){E(e,i);s.nextTick(n,i);return false}return true}T.prototype.write=function(e,t,r){var n=this._writableState;var i=false;var a=!n.objectMode&&u(e);if(a&&!o.isBuffer(e)){e=f(e)}if(typeof t==="function"){r=t;t=null}if(a)t="buffer";else if(!t)t=n.defaultEncoding;if(typeof r!=="function")r=R;if(n.ending)M(this,r);else if(a||O(this,n,e,r)){n.pendingcb++;i=A(this,n,a,e,t,r)}return i};T.prototype.cork=function(){this._writableState.corked++};T.prototype.uncork=function(){var e=this._writableState;if(e.corked){e.corked--;if(!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest)U(this,e)}};T.prototype.setDefaultEncoding=function e(t){if(typeof t==="string")t=t.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new S(t);this._writableState.defaultEncoding=t;return this};Object.defineProperty(T.prototype,"writableBuffer",{enumerable:false,get:function e(){return this._writableState&&this._writableState.getBuffer()}});function L(e,t,r){if(!e.objectMode&&e.decodeStrings!==false&&typeof t==="string"){t=o.from(t,r)}return t}Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:false,get:function e(){return this._writableState.highWaterMark}});function A(e,t,r,n,i,a){if(!r){var s=L(t,n,i);if(n!==s){r=true;i="buffer";n=s}}var o=t.objectMode?1:n.length;t.length+=o;var f=t.length<t.highWaterMark;if(!f)t.needDrain=true;if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null};if(u){u.next=t.lastBufferedRequest}else{t.bufferedRequest=t.lastBufferedRequest}t.bufferedRequestCount+=1}else{P(e,t,false,o,n,i,a)}return f}function P(e,t,r,n,i,a,s){t.writelen=n;t.writecb=s;t.writing=true;t.sync=true;if(t.destroyed)t.onwrite(new _("write"));else if(r)e._writev(i,t.onwrite);else e._write(i,a,t.onwrite);t.sync=false}function j(e,t,r,n,i){--t.pendingcb;if(r){s.nextTick(i,n);s.nextTick(H,e,t);e._writableState.errorEmitted=true;E(e,n)}else{i(n);e._writableState.errorEmitted=true;E(e,n);H(e,t)}}function C(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function I(e,t){var r=e._writableState;var n=r.sync;var i=r.writecb;if(typeof i!=="function")throw new v;C(r);if(t)j(e,r,n,t,i);else{var a=N(r)||e.destroyed;if(!a&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest){U(e,r)}if(n){s.nextTick(D,e,r,a,i)}else{D(e,r,a,i)}}}function D(e,t,r,n){if(!r)B(e,t);t.pendingcb--;n();H(e,t)}function B(e,t){if(t.length===0&&t.needDrain){t.needDrain=false;e.emit("drain")}}function U(e,t){t.bufferProcessing=true;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount;var i=new Array(n);var a=t.corkedRequestsFree;a.entry=r;var s=0;var o=true;while(r){i[s]=r;if(!r.isBuf)o=false;r=r.next;s+=1}i.allBuffers=o;P(e,t,true,t.length,i,"",a.finish);t.pendingcb++;t.lastBufferedRequest=null;if(a.next){t.corkedRequestsFree=a.next;a.next=null}else{t.corkedRequestsFree=new d(t)}t.bufferedRequestCount=0}else{while(r){var f=r.chunk;var u=r.encoding;var l=r.callback;var c=t.objectMode?1:f.length;P(e,t,false,c,f,u,l);r=r.next;t.bufferedRequestCount--;if(t.writing){break}}if(r===null)t.lastBufferedRequest=null}t.bufferedRequest=r;t.bufferProcessing=false}T.prototype._write=function(e,t,r){r(new g("_write()"))};T.prototype._writev=null;T.prototype.end=function(e,t,r){var n=this._writableState;if(typeof e==="function"){r=e;e=null;t=null}else if(typeof t==="function"){r=t;t=null}if(e!==null&&e!==undefined)this.write(e,t);if(n.corked){n.corked=1;this.uncork()}if(!n.ending)F(this,n,r);return this};Object.defineProperty(T.prototype,"writableLength",{enumerable:false,get:function e(){return this._writableState.length}});function N(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function W(t,r){t._final(function(e){r.pendingcb--;if(e){E(t,e)}r.prefinished=true;t.emit("prefinish");H(t,r)})}function q(e,t){if(!t.prefinished&&!t.finalCalled){if(typeof e._final==="function"&&!t.destroyed){t.pendingcb++;t.finalCalled=true;s.nextTick(W,e,t)}else{t.prefinished=true;e.emit("prefinish")}}}function H(e,t){var r=N(t);if(r){q(e,t);if(t.pendingcb===0){t.finished=true;e.emit("finish");if(t.autoDestroy){var n=e._readableState;if(!n||n.autoDestroy&&n.endEmitted){e.destroy()}}}}return r}function F(e,t,r){t.ending=true;H(e,t);if(r){if(t.finished)s.nextTick(r);else e.once("finish",r)}t.ended=true;e.writable=false}function K(e,t,r){var n=e.entry;e.entry=null;while(n){var i=n.callback;t.pendingcb--;i(r);n=n.next}t.corkedRequestsFree.next=e}Object.defineProperty(T.prototype,"destroyed",{enumerable:false,get:function e(){if(this._writableState===undefined){return false}return this._writableState.destroyed},set:function e(t){if(!this._writableState){return}this._writableState.destroyed=t}});T.prototype.destroy=l.destroy;T.prototype._undestroy=l.undestroy;T.prototype._destroy=function(e,t){t(e)}}).call(this,z(19),z(74))},function(e,t,r){"use strict";e.exports=l;var n=r(186).codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,a=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=n.ERR_TRANSFORM_WITH_LENGTH_0;var f=r(187);r(158)(l,f);function u(e,t){var r=this._transformState;r.transforming=false;var n=r.writecb;if(n===null){return this.emit("error",new a)}r.writechunk=null;r.writecb=null;if(t!=null)this.push(t);n(e);var i=this._readableState;i.reading=false;if(i.needReadable||i.length<i.highWaterMark){this._read(i.highWaterMark)}}function l(e){if(!(this instanceof l))return new l(e);f.call(this,e);this._transformState={afterTransform:u.bind(this),needTransform:false,transforming:false,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=true;this._readableState.sync=false;if(e){if(typeof e.transform==="function")this._transform=e.transform;if(typeof e.flush==="function")this._flush=e.flush}this.on("prefinish",c)}function c(){var r=this;if(typeof this._flush==="function"&&!this._readableState.destroyed){this._flush(function(e,t){d(r,e,t)})}else{d(this,null,null)}}l.prototype.push=function(e,t){this._transformState.needTransform=false;return f.prototype.push.call(this,e,t)};l.prototype._transform=function(e,t,r){r(new i("_transform()"))};l.prototype._write=function(e,t,r){var n=this._transformState;n.writecb=r;n.writechunk=e;n.writeencoding=t;if(!n.transforming){var i=this._readableState;if(n.needTransform||i.needReadable||i.length<i.highWaterMark)this._read(i.highWaterMark)}};l.prototype._read=function(e){var t=this._transformState;if(t.writechunk!==null&&!t.transforming){t.transforming=true;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}else{t.needTransform=true}};l.prototype._destroy=function(e,t){f.prototype._destroy.call(this,e,function(e){t(e)})};function d(e,t,r){if(t)return e.emit("error",t);if(r!=null)e.push(r);if(e._writableState.length)throw new o;if(e._transformState.transforming)throw new s;return e.push(null)}},function(e,t,r){var a=r(478);var s=Math.pow(2,32);t.encodingLength=function(){return 8};t.encode=function(e,t,r){if(!t)t=a(8);if(!r)r=0;var n=Math.floor(e/s);var i=e-n*s;t.writeUInt32BE(n,r);t.writeUInt32BE(i,r+4);return t};t.decode=function(e,t){if(!t)t=0;var r=e.readUInt32BE(t);var n=e.readUInt32BE(t+4);return r*s+n};t.encode.bytes=8;t.decode.bytes=8},function(X,e,J){"use strict";(function(e,g){X.exports=M;var n;M.ReadableState=T;var t=J(159).EventEmitter;var v=function e(t,r){return t.listeners(r).length};var i=J(317);var o=J(73).Buffer;var r=e.Uint8Array||function(){};function f(e){return o.from(e)}function a(e){return o.isBuffer(e)||e instanceof r}var s=J(486);var y;if(s&&s.debuglog){y=s.debuglog("stream")}else{y=function e(){}}var u=J(487);var l=J(318);var c=J(319),d=c.getHighWaterMark;var h=J(188).codes,p=h.ERR_INVALID_ARG_TYPE,b=h.ERR_STREAM_PUSH_AFTER_EOF,_=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;var w;var S;var E;J(158)(M,i);var R=l.errorOrDestroy;var k=["error","close","destroy","pause","resume"];function x(e,t,r){if(typeof e.prependListener==="function")return e.prependListener(t,r);if(!e._events||!e._events[t])e.on(t,r);else if(Array.isArray(e._events[t]))e._events[t].unshift(r);else e._events[t]=[r,e._events[t]]}function T(e,t,r){n=n||J(189);e=e||{};if(typeof r!=="boolean")r=t instanceof n;this.objectMode=!!e.objectMode;if(r)this.objectMode=this.objectMode||!!e.readableObjectMode;this.highWaterMark=d(this,e,"readableHighWaterMark",r);this.buffer=new u;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.paused=true;this.emitClose=e.emitClose!==false;this.autoDestroy=!!e.autoDestroy;this.destroyed=false;this.defaultEncoding=e.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(e.encoding){if(!w)w=J(160).StringDecoder;this.decoder=new w(e.encoding);this.encoding=e.encoding}}function M(e){n=n||J(189);if(!(this instanceof M))return new M(e);var t=this instanceof n;this._readableState=new T(e,this,t);this.readable=true;if(e){if(typeof e.read==="function")this._read=e.read;if(typeof e.destroy==="function")this._destroy=e.destroy}i.call(this)}Object.defineProperty(M.prototype,"destroyed",{enumerable:false,get:function e(){if(this._readableState===undefined){return false}return this._readableState.destroyed},set:function e(t){if(!this._readableState){return}this._readableState.destroyed=t}});M.prototype.destroy=l.destroy;M.prototype._undestroy=l.undestroy;M.prototype._destroy=function(e,t){t(e)};M.prototype.push=function(e,t){var r=this._readableState;var n;if(!r.objectMode){if(typeof e==="string"){t=t||r.defaultEncoding;if(t!==r.encoding){e=o.from(e,t);t=""}n=true}}else{n=true}return O(this,e,t,false,n)};M.prototype.unshift=function(e){return O(this,e,null,true,false)};function O(e,t,r,n,i){y("readableAddChunk",t);var a=e._readableState;if(t===null){a.reading=false;I(e,a)}else{var s;if(!i)s=A(a,t);if(s){R(e,s)}else if(a.objectMode||t&&t.length>0){if(typeof t!=="string"&&!a.objectMode&&Object.getPrototypeOf(t)!==o.prototype){t=f(t)}if(n){if(a.endEmitted)R(e,new m);else L(e,a,t,true)}else if(a.ended){R(e,new b)}else if(a.destroyed){return false}else{a.reading=false;if(a.decoder&&!r){t=a.decoder.write(t);if(a.objectMode||t.length!==0)L(e,a,t,false);else U(e,a)}else{L(e,a,t,false)}}}else if(!n){a.reading=false;U(e,a)}}return!a.ended&&(a.length<a.highWaterMark||a.length===0)}function L(e,t,r,n){if(t.flowing&&t.length===0&&!t.sync){t.awaitDrain=0;e.emit("data",r)}else{t.length+=t.objectMode?1:r.length;if(n)t.buffer.unshift(r);else t.buffer.push(r);if(t.needReadable)D(e)}U(e,t)}function A(e,t){var r;if(!a(t)&&typeof t!=="string"&&t!==undefined&&!e.objectMode){r=new p("chunk",["string","Buffer","Uint8Array"],t)}return r}M.prototype.isPaused=function(){return this._readableState.flowing===false};M.prototype.setEncoding=function(e){if(!w)w=J(160).StringDecoder;var t=new w(e);this._readableState.decoder=t;this._readableState.encoding=this._readableState.decoder.encoding;var r=this._readableState.buffer.head;var n="";while(r!==null){n+=t.write(r.data);r=r.next}this._readableState.buffer.clear();if(n!=="")this._readableState.buffer.push(n);this._readableState.length=n.length;return this};var P=1073741824;function j(e){if(e>=P){e=P}else{e--;e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;e++}return e}function C(e,t){if(e<=0||t.length===0&&t.ended)return 0;if(t.objectMode)return 1;if(e!==e){if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length}if(e>t.highWaterMark)t.highWaterMark=j(e);if(e<=t.length)return e;if(!t.ended){t.needReadable=true;return 0}return t.length}M.prototype.read=function(e){y("read",e);e=parseInt(e,10);var t=this._readableState;var r=e;if(e!==0)t.emittedReadable=false;if(e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended)){y("read: emitReadable",t.length,t.ended);if(t.length===0&&t.ended)G(this);else D(this);return null}e=C(e,t);if(e===0&&t.ended){if(t.length===0)G(this);return null}var n=t.needReadable;y("need readable",n);if(t.length===0||t.length-e<t.highWaterMark){n=true;y("length less than watermark",n)}if(t.ended||t.reading){n=false;y("reading or ended",n)}else if(n){y("do read");t.reading=true;t.sync=true;if(t.length===0)t.needReadable=true;this._read(t.highWaterMark);t.sync=false;if(!t.reading)e=C(r,t)}var i;if(e>0)i=z(e,t);else i=null;if(i===null){t.needReadable=t.length<=t.highWaterMark;e=0}else{t.length-=e;t.awaitDrain=0}if(t.length===0){if(!t.ended)t.needReadable=true;if(r!==e&&t.ended)G(this)}if(i!==null)this.emit("data",i);return i};function I(e,t){y("onEofChunk");if(t.ended)return;if(t.decoder){var r=t.decoder.end();if(r&&r.length){t.buffer.push(r);t.length+=t.objectMode?1:r.length}}t.ended=true;if(t.sync){D(e)}else{t.needReadable=false;if(!t.emittedReadable){t.emittedReadable=true;B(e)}}}function D(e){var t=e._readableState;y("emitReadable",t.needReadable,t.emittedReadable);t.needReadable=false;if(!t.emittedReadable){y("emitReadable",t.flowing);t.emittedReadable=true;g.nextTick(B,e)}}function B(e){var t=e._readableState;y("emitReadable_",t.destroyed,t.length,t.ended);if(!t.destroyed&&(t.length||t.ended)){e.emit("readable");t.emittedReadable=false}t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark;V(e)}function U(e,t){if(!t.readingMore){t.readingMore=true;g.nextTick(N,e,t)}}function N(e,t){while(!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0)){var r=t.length;y("maybeReadMore read 0");e.read(0);if(r===t.length)break}t.readingMore=false}M.prototype._read=function(e){R(this,new _("_read()"))};M.prototype.pipe=function(r,e){var n=this;var i=this._readableState;switch(i.pipesCount){case 0:i.pipes=r;break;case 1:i.pipes=[i.pipes,r];break;default:i.pipes.push(r);break}i.pipesCount+=1;y("pipe count=%d opts=%j",i.pipesCount,e);var t=(!e||e.end!==false)&&r!==g.stdout&&r!==g.stderr;var a=t?o:b;if(i.endEmitted)g.nextTick(a);else n.once("end",a);r.on("unpipe",s);function s(e,t){y("onunpipe");if(e===n){if(t&&t.hasUnpiped===false){t.hasUnpiped=true;l()}}}function o(){y("onend");r.end()}var f=W(n);r.on("drain",f);var u=false;function l(){y("cleanup");r.removeListener("close",h);r.removeListener("finish",p);r.removeListener("drain",f);r.removeListener("error",d);r.removeListener("unpipe",s);n.removeListener("end",o);n.removeListener("end",b);n.removeListener("data",c);u=true;if(i.awaitDrain&&(!r._writableState||r._writableState.needDrain))f()}n.on("data",c);function c(e){y("ondata");var t=r.write(e);y("dest.write",t);if(t===false){if((i.pipesCount===1&&i.pipes===r||i.pipesCount>1&&Y(i.pipes,r)!==-1)&&!u){y("false write response, pause",i.awaitDrain);i.awaitDrain++}n.pause()}}function d(e){y("onerror",e);b();r.removeListener("error",d);if(v(r,"error")===0)R(r,e)}x(r,"error",d);function h(){r.removeListener("finish",p);b()}r.once("close",h);function p(){y("onfinish");r.removeListener("close",h);b()}r.once("finish",p);function b(){y("unpipe");n.unpipe(r)}r.emit("pipe",n);if(!i.flowing){y("pipe resume");n.resume()}return r};function W(r){return function e(){var t=r._readableState;y("pipeOnDrain",t.awaitDrain);if(t.awaitDrain)t.awaitDrain--;if(t.awaitDrain===0&&v(r,"data")){t.flowing=true;V(r)}}}M.prototype.unpipe=function(e){var t=this._readableState;var r={hasUnpiped:false};if(t.pipesCount===0)return this;if(t.pipesCount===1){if(e&&e!==t.pipes)return this;if(!e)e=t.pipes;t.pipes=null;t.pipesCount=0;t.flowing=false;if(e)e.emit("unpipe",this,r);return this}if(!e){var n=t.pipes;var i=t.pipesCount;t.pipes=null;t.pipesCount=0;t.flowing=false;for(var a=0;a<i;a++){n[a].emit("unpipe",this,{hasUnpiped:false})}return this}var s=Y(t.pipes,e);if(s===-1)return this;t.pipes.splice(s,1);t.pipesCount-=1;if(t.pipesCount===1)t.pipes=t.pipes[0];e.emit("unpipe",this,r);return this};M.prototype.on=function(e,t){var r=i.prototype.on.call(this,e,t);var n=this._readableState;if(e==="data"){n.readableListening=this.listenerCount("readable")>0;if(n.flowing!==false)this.resume()}else if(e==="readable"){if(!n.endEmitted&&!n.readableListening){n.readableListening=n.needReadable=true;n.flowing=false;n.emittedReadable=false;y("on readable",n.length,n.reading);if(n.length){D(this)}else if(!n.reading){g.nextTick(H,this)}}}return r};M.prototype.addListener=M.prototype.on;M.prototype.removeListener=function(e,t){var r=i.prototype.removeListener.call(this,e,t);if(e==="readable"){g.nextTick(q,this)}return r};M.prototype.removeAllListeners=function(e){var t=i.prototype.removeAllListeners.apply(this,arguments);if(e==="readable"||e===undefined){g.nextTick(q,this)}return t};function q(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0;if(t.resumeScheduled&&!t.paused){t.flowing=true}else if(e.listenerCount("data")>0){e.resume()}}function H(e){y("readable nexttick read 0");e.read(0)}M.prototype.resume=function(){var e=this._readableState;if(!e.flowing){y("resume");e.flowing=!e.readableListening;F(this,e)}e.paused=false;return this};function F(e,t){if(!t.resumeScheduled){t.resumeScheduled=true;g.nextTick(K,e,t)}}function K(e,t){y("resume",t.reading);if(!t.reading){e.read(0)}t.resumeScheduled=false;e.emit("resume");V(e);if(t.flowing&&!t.reading)e.read(0)}M.prototype.pause=function(){y("call pause flowing=%j",this._readableState.flowing);if(this._readableState.flowing!==false){y("pause");this._readableState.flowing=false;this.emit("pause")}this._readableState.paused=true;return this};function V(e){var t=e._readableState;y("flow",t.flowing);while(t.flowing&&e.read()!==null){}}M.prototype.wrap=function(r){var n=this;var i=this._readableState;var a=false;r.on("end",function(){y("wrapped end");if(i.decoder&&!i.ended){var e=i.decoder.end();if(e&&e.length)n.push(e)}n.push(null)});r.on("data",function(e){y("wrapped data");if(i.decoder)e=i.decoder.write(e);if(i.objectMode&&(e===null||e===undefined))return;else if(!i.objectMode&&(!e||!e.length))return;var t=n.push(e);if(!t){a=true;r.pause()}});for(var e in r){if(this[e]===undefined&&typeof r[e]==="function"){this[e]=function e(t){return function e(){return r[t].apply(r,arguments)}}(e)}}for(var t=0;t<k.length;t++){r.on(k[t],this.emit.bind(this,k[t]))}this._read=function(e){y("wrapped _read",e);if(a){a=false;r.resume()}};return this};if(typeof Symbol==="function"){M.prototype[Symbol.asyncIterator]=function(){if(S===undefined){S=J(489)}return S(this)}}Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:false,get:function e(){return this._readableState.highWaterMark}});Object.defineProperty(M.prototype,"readableBuffer",{enumerable:false,get:function e(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(M.prototype,"readableFlowing",{enumerable:false,get:function e(){return this._readableState.flowing},set:function e(t){if(this._readableState){this._readableState.flowing=t}}});M._fromList=z;Object.defineProperty(M.prototype,"readableLength",{enumerable:false,get:function e(){return this._readableState.length}});function z(e,t){if(t.length===0)return null;var r;if(t.objectMode)r=t.buffer.shift();else if(!e||e>=t.length){if(t.decoder)r=t.buffer.join("");else if(t.buffer.length===1)r=t.buffer.first();else r=t.buffer.concat(t.length);t.buffer.clear()}else{r=t.buffer.consume(e,t.decoder)}return r}function G(e){var t=e._readableState;y("endReadable",t.endEmitted);if(!t.endEmitted){t.ended=true;g.nextTick($,t,e)}}function $(e,t){y("endReadableNT",e.endEmitted,e.length);if(!e.endEmitted&&e.length===0){e.endEmitted=true;t.readable=false;t.emit("end");if(e.autoDestroy){var r=t._writableState;if(!r||r.autoDestroy&&r.finished){t.destroy()}}}}if(typeof Symbol==="function"){M.from=function(e,t){if(E===undefined){E=J(490)}return E(M,e,t)}}function Y(e,t){for(var r=0,n=e.length;r<n;r++){if(e[r]===t)return r}return-1}}).call(this,J(19),J(74))},function(e,t,r){e.exports=r(159).EventEmitter},function(n,e,t){"use strict";(function(a){function e(e,t){var r=this;var n=this._readableState&&this._readableState.destroyed;var i=this._writableState&&this._writableState.destroyed;if(n||i){if(t){t(e)}else if(e){if(!this._writableState){a.nextTick(f,this,e)}else if(!this._writableState.errorEmitted){this._writableState.errorEmitted=true;a.nextTick(f,this,e)}}return this}if(this._readableState){this._readableState.destroyed=true}if(this._writableState){this._writableState.destroyed=true}this._destroy(e||null,function(e){if(!t&&e){if(!r._writableState){a.nextTick(s,r,e)}else if(!r._writableState.errorEmitted){r._writableState.errorEmitted=true;a.nextTick(s,r,e)}else{a.nextTick(o,r)}}else if(t){a.nextTick(o,r);t(e)}else{a.nextTick(o,r)}});return this}function s(e,t){f(e,t);o(e)}function o(e){if(e._writableState&&!e._writableState.emitClose)return;if(e._readableState&&!e._readableState.emitClose)return;e.emit("close")}function t(){if(this._readableState){this._readableState.destroyed=false;this._readableState.reading=false;this._readableState.ended=false;this._readableState.endEmitted=false}if(this._writableState){this._writableState.destroyed=false;this._writableState.ended=false;this._writableState.ending=false;this._writableState.finalCalled=false;this._writableState.prefinished=false;this._writableState.finished=false;this._writableState.errorEmitted=false}}function f(e,t){e.emit("error",t)}function r(e,t){var r=e._readableState;var n=e._writableState;if(r&&r.autoDestroy||n&&n.autoDestroy)e.destroy(t);else e.emit("error",t)}n.exports={destroy:e,undestroy:t,errorOrDestroy:r}}).call(this,t(74))},function(e,t,r){"use strict";var s=r(188).codes.ERR_INVALID_OPT_VALUE;function o(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function n(e,t,r,n){var i=o(t,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var a=n?r:"highWaterMark";throw new s(a,i)}return Math.floor(i)}return e.objectMode?16:16*1024}e.exports={getHighWaterMark:n}},function(V,e,z){"use strict";(function(e,s){V.exports=T;function t(e,t,r){this.chunk=e;this.encoding=t;this.callback=r;this.next=null}function d(e){var t=this;this.next=null;this.entry=null;this.finish=function(){K(t,e)}}var i;T.WritableState=k;var r={deprecate:z(163)};var n=z(317);var o=z(73).Buffer;var a=e.Uint8Array||function(){};function f(e){return o.from(e)}function u(e){return o.isBuffer(e)||e instanceof a}var l=z(318);var c=z(319),h=c.getHighWaterMark;var p=z(188).codes,b=p.ERR_INVALID_ARG_TYPE,g=p.ERR_METHOD_NOT_IMPLEMENTED,v=p.ERR_MULTIPLE_CALLBACK,y=p.ERR_STREAM_CANNOT_PIPE,_=p.ERR_STREAM_DESTROYED,m=p.ERR_STREAM_NULL_VALUES,w=p.ERR_STREAM_WRITE_AFTER_END,S=p.ERR_UNKNOWN_ENCODING;var E=l.errorOrDestroy;z(158)(T,n);function R(){}function k(e,t,r){i=i||z(189);e=e||{};if(typeof r!=="boolean")r=t instanceof i;this.objectMode=!!e.objectMode;if(r)this.objectMode=this.objectMode||!!e.writableObjectMode;this.highWaterMark=h(this,e,"writableHighWaterMark",r);this.finalCalled=false;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;this.destroyed=false;var n=e.decodeStrings===false;this.decodeStrings=!n;this.defaultEncoding=e.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){I(t,e)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.emitClose=e.emitClose!==false;this.autoDestroy=!!e.autoDestroy;this.bufferedRequestCount=0;this.corkedRequestsFree=new d(this)}k.prototype.getBuffer=function e(){var t=this.bufferedRequest;var r=[];while(t){r.push(t);t=t.next}return r};(function(){try{Object.defineProperty(k.prototype,"buffer",{get:r.deprecate(function e(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}})();var x;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"){x=Function.prototype[Symbol.hasInstance];Object.defineProperty(T,Symbol.hasInstance,{value:function e(t){if(x.call(this,t))return true;if(this!==T)return false;return t&&t._writableState instanceof k}})}else{x=function e(t){return t instanceof this}}function T(e){i=i||z(189);var t=this instanceof i;if(!t&&!x.call(T,this))return new T(e);this._writableState=new k(e,this,t);this.writable=true;if(e){if(typeof e.write==="function")this._write=e.write;if(typeof e.writev==="function")this._writev=e.writev;if(typeof e.destroy==="function")this._destroy=e.destroy;if(typeof e.final==="function")this._final=e.final}n.call(this)}T.prototype.pipe=function(){E(this,new y)};function M(e,t){var r=new w;E(e,r);s.nextTick(t,r)}function O(e,t,r,n){var i;if(r===null){i=new m}else if(typeof r!=="string"&&!t.objectMode){i=new b("chunk",["string","Buffer"],r)}if(i){E(e,i);s.nextTick(n,i);return false}return true}T.prototype.write=function(e,t,r){var n=this._writableState;var i=false;var a=!n.objectMode&&u(e);if(a&&!o.isBuffer(e)){e=f(e)}if(typeof t==="function"){r=t;t=null}if(a)t="buffer";else if(!t)t=n.defaultEncoding;if(typeof r!=="function")r=R;if(n.ending)M(this,r);else if(a||O(this,n,e,r)){n.pendingcb++;i=A(this,n,a,e,t,r)}return i};T.prototype.cork=function(){this._writableState.corked++};T.prototype.uncork=function(){var e=this._writableState;if(e.corked){e.corked--;if(!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest)U(this,e)}};T.prototype.setDefaultEncoding=function e(t){if(typeof t==="string")t=t.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new S(t);this._writableState.defaultEncoding=t;return this};Object.defineProperty(T.prototype,"writableBuffer",{enumerable:false,get:function e(){return this._writableState&&this._writableState.getBuffer()}});function L(e,t,r){if(!e.objectMode&&e.decodeStrings!==false&&typeof t==="string"){t=o.from(t,r)}return t}Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:false,get:function e(){return this._writableState.highWaterMark}});function A(e,t,r,n,i,a){if(!r){var s=L(t,n,i);if(n!==s){r=true;i="buffer";n=s}}var o=t.objectMode?1:n.length;t.length+=o;var f=t.length<t.highWaterMark;if(!f)t.needDrain=true;if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null};if(u){u.next=t.lastBufferedRequest}else{t.bufferedRequest=t.lastBufferedRequest}t.bufferedRequestCount+=1}else{P(e,t,false,o,n,i,a)}return f}function P(e,t,r,n,i,a,s){t.writelen=n;t.writecb=s;t.writing=true;t.sync=true;if(t.destroyed)t.onwrite(new _("write"));else if(r)e._writev(i,t.onwrite);else e._write(i,a,t.onwrite);t.sync=false}function j(e,t,r,n,i){--t.pendingcb;if(r){s.nextTick(i,n);s.nextTick(H,e,t);e._writableState.errorEmitted=true;E(e,n)}else{i(n);e._writableState.errorEmitted=true;E(e,n);H(e,t)}}function C(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function I(e,t){var r=e._writableState;var n=r.sync;var i=r.writecb;if(typeof i!=="function")throw new v;C(r);if(t)j(e,r,n,t,i);else{var a=N(r)||e.destroyed;if(!a&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest){U(e,r)}if(n){s.nextTick(D,e,r,a,i)}else{D(e,r,a,i)}}}function D(e,t,r,n){if(!r)B(e,t);t.pendingcb--;n();H(e,t)}function B(e,t){if(t.length===0&&t.needDrain){t.needDrain=false;e.emit("drain")}}function U(e,t){t.bufferProcessing=true;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount;var i=new Array(n);var a=t.corkedRequestsFree;a.entry=r;var s=0;var o=true;while(r){i[s]=r;if(!r.isBuf)o=false;r=r.next;s+=1}i.allBuffers=o;P(e,t,true,t.length,i,"",a.finish);t.pendingcb++;t.lastBufferedRequest=null;if(a.next){t.corkedRequestsFree=a.next;a.next=null}else{t.corkedRequestsFree=new d(t)}t.bufferedRequestCount=0}else{while(r){var f=r.chunk;var u=r.encoding;var l=r.callback;var c=t.objectMode?1:f.length;P(e,t,false,c,f,u,l);r=r.next;t.bufferedRequestCount--;if(t.writing){break}}if(r===null)t.lastBufferedRequest=null}t.bufferedRequest=r;t.bufferProcessing=false}T.prototype._write=function(e,t,r){r(new g("_write()"))};T.prototype._writev=null;T.prototype.end=function(e,t,r){var n=this._writableState;if(typeof e==="function"){r=e;e=null;t=null}else if(typeof t==="function"){r=t;t=null}if(e!==null&&e!==undefined)this.write(e,t);if(n.corked){n.corked=1;this.uncork()}if(!n.ending)F(this,n,r);return this};Object.defineProperty(T.prototype,"writableLength",{enumerable:false,get:function e(){return this._writableState.length}});function N(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function W(t,r){t._final(function(e){r.pendingcb--;if(e){E(t,e)}r.prefinished=true;t.emit("prefinish");H(t,r)})}function q(e,t){if(!t.prefinished&&!t.finalCalled){if(typeof e._final==="function"&&!t.destroyed){t.pendingcb++;t.finalCalled=true;s.nextTick(W,e,t)}else{t.prefinished=true;e.emit("prefinish")}}}function H(e,t){var r=N(t);if(r){q(e,t);if(t.pendingcb===0){t.finished=true;e.emit("finish");if(t.autoDestroy){var n=e._readableState;if(!n||n.autoDestroy&&n.endEmitted){e.destroy()}}}}return r}function F(e,t,r){t.ending=true;H(e,t);if(r){if(t.finished)s.nextTick(r);else e.once("finish",r)}t.ended=true;e.writable=false}function K(e,t,r){var n=e.entry;e.entry=null;while(n){var i=n.callback;t.pendingcb--;i(r);n=n.next}t.corkedRequestsFree.next=e}Object.defineProperty(T.prototype,"destroyed",{enumerable:false,get:function e(){if(this._writableState===undefined){return false}return this._writableState.destroyed},set:function e(t){if(!this._writableState){return}this._writableState.destroyed=t}});T.prototype.destroy=l.destroy;T.prototype._undestroy=l.undestroy;T.prototype._destroy=function(e,t){t(e)}}).call(this,z(19),z(74))},function(e,t,r){"use strict";e.exports=l;var n=r(188).codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,a=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=n.ERR_TRANSFORM_WITH_LENGTH_0;var f=r(189);r(158)(l,f);function u(e,t){var r=this._transformState;r.transforming=false;var n=r.writecb;if(n===null){return this.emit("error",new a)}r.writechunk=null;r.writecb=null;if(t!=null)this.push(t);n(e);var i=this._readableState;i.reading=false;if(i.needReadable||i.length<i.highWaterMark){this._read(i.highWaterMark)}}function l(e){if(!(this instanceof l))return new l(e);f.call(this,e);this._transformState={afterTransform:u.bind(this),needTransform:false,transforming:false,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=true;this._readableState.sync=false;if(e){if(typeof e.transform==="function")this._transform=e.transform;if(typeof e.flush==="function")this._flush=e.flush}this.on("prefinish",c)}function c(){var r=this;if(typeof this._flush==="function"&&!this._readableState.destroyed){this._flush(function(e,t){d(r,e,t)})}else{d(this,null,null)}}l.prototype.push=function(e,t){this._transformState.needTransform=false;return f.prototype.push.call(this,e,t)};l.prototype._transform=function(e,t,r){r(new i("_transform()"))};l.prototype._write=function(e,t,r){var n=this._transformState;n.writecb=r;n.writechunk=e;n.writeencoding=t;if(!n.transforming){var i=this._readableState;if(n.needTransform||i.needReadable||i.length<i.highWaterMark)this._read(i.highWaterMark)}};l.prototype._read=function(e){var t=this._transformState;if(t.writechunk!==null&&!t.transforming){t.transforming=true;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}else{t.needTransform=true}};l.prototype._destroy=function(e,t){f.prototype._destroy.call(this,e,function(e){t(e)})};function d(e,t,r){if(t)return e.emit("error",t);if(r!=null)e.push(r);if(e._writableState.length)throw new o;if(e._transformState.transforming)throw new s;return e.push(null)}},function(e,t){e.exports=r;function r(e,t){if(t>=e.length||t<0)return;var r=e.pop();if(t<e.length){var n=e[t];e[t]=r;return n}return r}},function(m,e,w){(function(s){/*! bittorrent-protocol. MIT License. WebTorrent LLC <https://webtorrent.io/opensource> */
const o=w(322);const i=w(196);const t=w(199).default;const r=w(161)("bittorrent-protocol");const e=w(195);const n=w(209);const a=w(496);const f=4e5;const u=55e3;const l=s.from("BitTorrent protocol");const c=s.from([0,0,0,0]);const d=s.from([0,0,0,1,0]);const h=s.from([0,0,0,1,1]);const p=s.from([0,0,0,1,2]);const b=s.from([0,0,0,1,3]);const g=[0,0,0,0,0,0,0,0];const v=[0,0,0,3,9,0,0];class y{constructor(e,t,r,n){this.piece=e;this.offset=t;this.length=r;this.callback=n}}class _ extends a.Duplex{constructor(){super();this._debugId=e(4).toString("hex");this._debug("new wire");this.peerId=null;this.peerIdBuffer=null;this.type=null;this.amChoking=true;this.amInterested=false;this.peerChoking=true;this.peerInterested=false;this.peerPieces=new t(0,{grow:f});this.peerExtensions={};this.requests=[];this.peerRequests=[];this.extendedMapping={};this.peerExtendedMapping={};this.extendedHandshake={};this.peerExtendedHandshake={};this._ext={};this._nextExt=1;this.uploaded=0;this.downloaded=0;this.uploadSpeed=n();this.downloadSpeed=n();this._keepAliveInterval=null;this._timeout=null;this._timeoutMs=0;this._timeoutExpiresAt=null;this.destroyed=false;this._finished=false;this._parserSize=0;this._parser=null;this._buffer=[];this._bufferSize=0;this.once("finish",()=>this._onFinish());this._parseHandshake()}setKeepAlive(e){this._debug("setKeepAlive %s",e);clearInterval(this._keepAliveInterval);if(e===false)return;this._keepAliveInterval=setInterval(()=>{this.keepAlive()},u)}setTimeout(e,t){this._debug("setTimeout ms=%d unref=%s",e,t);this._timeoutMs=e;this._timeoutUnref=!!t;this._resetTimeout(true)}destroy(){if(this.destroyed)return;this.destroyed=true;this._debug("destroy");this.emit("close");this.end()}end(...e){this._debug("end");this._onUninterested();this._onChoke();super.end(...e)}use(e){const t=e.prototype.name;if(!t){throw new Error('Extension class requires a "name" property on the prototype')}this._debug("use extension.name=%s",t);const r=this._nextExt;const n=new e(this);function i(){}if(typeof n.onHandshake!=="function"){n.onHandshake=i}if(typeof n.onExtendedHandshake!=="function"){n.onExtendedHandshake=i}if(typeof n.onMessage!=="function"){n.onMessage=i}this.extendedMapping[r]=t;this._ext[t]=n;this[t]=n;this._nextExt+=1}keepAlive(){this._debug("keep-alive");this._push(c)}handshake(e,t,r){let n;let i;if(typeof e==="string"){e=e.toLowerCase();n=s.from(e,"hex")}else{n=e;e=n.toString("hex")}if(typeof t==="string"){i=s.from(t,"hex")}else{i=t;t=i.toString("hex")}if(n.length!==20||i.length!==20){throw new Error("infoHash and peerId MUST have length 20")}this._debug("handshake i=%s p=%s exts=%o",e,t,r);const a=s.from(g);a[5]|=16;if(r&&r.dht)a[7]|=1;this._push(s.concat([l,a,n,i]));this._handshakeSent=true;if(this.peerExtensions.extended&&!this._extendedHandshakeSent){this._sendExtendedHandshake()}}_sendExtendedHandshake(){const e=Object.assign({},this.extendedHandshake);e.m={};for(const t in this.extendedMapping){const r=this.extendedMapping[t];e.m[r]=Number(t)}this.extended(0,i.encode(e));this._extendedHandshakeSent=true}choke(){if(this.amChoking)return;this.amChoking=true;this._debug("choke");while(this.peerRequests.length){this.peerRequests.pop()}this._push(d)}unchoke(){if(!this.amChoking)return;this.amChoking=false;this._debug("unchoke");this._push(h)}interested(){if(this.amInterested)return;this.amInterested=true;this._debug("interested");this._push(p)}uninterested(){if(!this.amInterested)return;this.amInterested=false;this._debug("uninterested");this._push(b)}have(e){this._debug("have %d",e);this._message(4,[e],null)}bitfield(e){this._debug("bitfield");if(!s.isBuffer(e))e=e.buffer;this._message(5,[],e)}request(e,t,r,n){if(!n)n=()=>{};if(this._finished)return n(new Error("wire is closed"));if(this.peerChoking)return n(new Error("peer is choking"));this._debug("request index=%d offset=%d length=%d",e,t,r);this.requests.push(new y(e,t,r,n));if(!this._timeout){this._resetTimeout(true)}this._message(6,[e,t,r],null)}piece(e,t,r){this._debug("piece index=%d offset=%d",e,t);this.uploaded+=r.length;this.uploadSpeed(r.length);this.emit("upload",r.length);this._message(7,[e,t],r)}cancel(e,t,r){this._debug("cancel index=%d offset=%d length=%d",e,t,r);this._callback(this._pull(this.requests,e,t,r),new Error("request was cancelled"),null);this._message(8,[e,t,r],null)}port(e){this._debug("port %d",e);const t=s.from(v);t.writeUInt16BE(e,5);this._push(t)}extended(e,t){this._debug("extended ext=%s",e);if(typeof e==="string"&&this.peerExtendedMapping[e]){e=this.peerExtendedMapping[e]}if(typeof e==="number"){const r=s.from([e]);const n=s.isBuffer(t)?t:i.encode(t);this._message(20,[],s.concat([r,n]))}else{throw new Error(`Unrecognized extension: ${e}`)}}_read(){}_message(e,t,r){const n=r?r.length:0;const i=s.allocUnsafe(5+4*t.length);i.writeUInt32BE(i.length+n-4,0);i[4]=e;for(let e=0;e<t.length;e++){i.writeUInt32BE(t[e],5+4*e)}this._push(i);if(r)this._push(r)}_push(e){if(this._finished)return;return this.push(e)}_onKeepAlive(){this._debug("got keep-alive");this.emit("keep-alive")}_onHandshake(e,t,r){const n=e.toString("hex");const i=t.toString("hex");this._debug("got handshake i=%s p=%s exts=%o",n,i,r);this.peerId=i;this.peerIdBuffer=t;this.peerExtensions=r;this.emit("handshake",n,i,r);let a;for(a in this._ext){this._ext[a].onHandshake(n,i,r)}if(r.extended&&this._handshakeSent&&!this._extendedHandshakeSent){this._sendExtendedHandshake()}}_onChoke(){this.peerChoking=true;this._debug("got choke");this.emit("choke");while(this.requests.length){this._callback(this.requests.pop(),new Error("peer is choking"),null)}}_onUnchoke(){this.peerChoking=false;this._debug("got unchoke");this.emit("unchoke")}_onInterested(){this.peerInterested=true;this._debug("got interested");this.emit("interested")}_onUninterested(){this.peerInterested=false;this._debug("got uninterested");this.emit("uninterested")}_onHave(e){if(this.peerPieces.get(e))return;this._debug("got have %d",e);this.peerPieces.set(e,true);this.emit("have",e)}_onBitField(e){this.peerPieces=new t(e);this._debug("got bitfield");this.emit("bitfield",this.peerPieces)}_onRequest(r,n,i){if(this.amChoking)return;this._debug("got request index=%d offset=%d length=%d",r,n,i);const e=(e,t)=>{if(a!==this._pull(this.peerRequests,r,n,i))return;if(e)return this._debug("error satisfying request index=%d offset=%d length=%d (%s)",r,n,i,e.message);this.piece(r,n,t)};const a=new y(r,n,i,e);this.peerRequests.push(a);this.emit("request",r,n,i,e)}_onPiece(e,t,r){this._debug("got piece index=%d offset=%d",e,t);this._callback(this._pull(this.requests,e,t,r.length),null,r);this.downloaded+=r.length;this.downloadSpeed(r.length);this.emit("download",r.length);this.emit("piece",e,t,r)}_onCancel(e,t,r){this._debug("got cancel index=%d offset=%d length=%d",e,t,r);this._pull(this.peerRequests,e,t,r);this.emit("cancel",e,t,r)}_onPort(e){this._debug("got port %d",e);this.emit("port",e)}_onExtended(e,r){if(e===0){let e;try{e=i.decode(r)}catch(e){this._debug("ignoring invalid extended handshake: %s",e.message||e)}if(!e)return;this.peerExtendedHandshake=e;let t;if(typeof e.m==="object"){for(t in e.m){this.peerExtendedMapping[t]=Number(e.m[t].toString())}}for(t in this._ext){if(this.peerExtendedMapping[t]){this._ext[t].onExtendedHandshake(this.peerExtendedHandshake)}}this._debug("got extended handshake");this.emit("extended","handshake",this.peerExtendedHandshake)}else{if(this.extendedMapping[e]){e=this.extendedMapping[e];if(this._ext[e]){this._ext[e].onMessage(r)}}this._debug("got extended message ext=%s",e);this.emit("extended",e,r)}}_onTimeout(){this._debug("request timed out");this._callback(this.requests.shift(),new Error("request has timed out"),null);this.emit("timeout")}_write(e,t,r){this._bufferSize+=e.length;this._buffer.push(e);while(this._bufferSize>=this._parserSize){const n=this._buffer.length===1?this._buffer[0]:s.concat(this._buffer,this._bufferSize);this._bufferSize-=this._parserSize;this._buffer=this._bufferSize?[n.slice(this._parserSize)]:[];this._parser(n.slice(0,this._parserSize))}r(null)}_callback(e,t,r){if(!e)return;this._resetTimeout(!this.peerChoking&&!this._finished);e.callback(t,r)}_resetTimeout(e){if(!e||!this._timeoutMs||!this.requests.length){clearTimeout(this._timeout);this._timeout=null;this._timeoutExpiresAt=null;return}const t=Date.now()+this._timeoutMs;if(this._timeout){if(t-this._timeoutExpiresAt<this._timeoutMs*.05){return}clearTimeout(this._timeout)}this._timeoutExpiresAt=t;this._timeout=setTimeout(()=>this._onTimeout(),this._timeoutMs);if(this._timeoutUnref&&this._timeout.unref)this._timeout.unref()}_parse(e,t){this._parserSize=e;this._parser=t}_onMessageLength(e){const t=e.readUInt32BE(0);if(t>0){this._parse(t,this._onMessage)}else{this._onKeepAlive();this._parse(4,this._onMessageLength)}}_onMessage(e){this._parse(4,this._onMessageLength);switch(e[0]){case 0:return this._onChoke();case 1:return this._onUnchoke();case 2:return this._onInterested();case 3:return this._onUninterested();case 4:return this._onHave(e.readUInt32BE(1));case 5:return this._onBitField(e.slice(1));case 6:return this._onRequest(e.readUInt32BE(1),e.readUInt32BE(5),e.readUInt32BE(9));case 7:return this._onPiece(e.readUInt32BE(1),e.readUInt32BE(5),e.slice(9));case 8:return this._onCancel(e.readUInt32BE(1),e.readUInt32BE(5),e.readUInt32BE(9));case 9:return this._onPort(e.readUInt16BE(1));case 20:return this._onExtended(e.readUInt8(1),e.slice(2));default:this._debug("got unknown message");return this.emit("unknownmessage",e)}}_parseHandshake(){this._parse(1,e=>{const r=e.readUInt8(0);this._parse(r+48,e=>{const t=e.slice(0,r);if(t.toString()!=="BitTorrent protocol"){this._debug("Error: wire not speaking BitTorrent protocol (%s)",t.toString());this.end();return}e=e.slice(r);this._onHandshake(e.slice(8,28),e.slice(28,48),{dht:!!(e[7]&1),extended:!!(e[5]&16)});this._parse(4,this._onMessageLength)})})}_onFinish(){this._finished=true;this.push(null);while(this.read()){}clearInterval(this._keepAliveInterval);this._parse(Number.MAX_VALUE,()=>{});while(this.peerRequests.length){this.peerRequests.pop()}while(this.requests.length){this._callback(this.requests.pop(),new Error("wire was closed"),null)}}_debug(...e){e[0]=`[${this._debugId}] ${e[0]}`;r(...e)}_pull(t,r,n,i){for(let e=0;e<t.length;e++){const a=t[e];if(a.piece===r&&a.offset===n&&a.length===i){o(t,e);return a}}return null}}m.exports=_}).call(this,w(73).Buffer)},function(X,e,J){"use strict";(function(e,g){X.exports=M;var n;M.ReadableState=T;var t=J(159).EventEmitter;var v=function e(t,r){return t.listeners(r).length};var i=J(325);var o=J(73).Buffer;var r=e.Uint8Array||function(){};function f(e){return o.from(e)}function a(e){return o.isBuffer(e)||e instanceof r}var s=J(497);var y;if(s&&s.debuglog){y=s.debuglog("stream")}else{y=function e(){}}var u=J(498);var l=J(326);var c=J(327),d=c.getHighWaterMark;var h=J(190).codes,p=h.ERR_INVALID_ARG_TYPE,b=h.ERR_STREAM_PUSH_AFTER_EOF,_=h.ERR_METHOD_NOT_IMPLEMENTED,m=h.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;var w;var S;var E;J(158)(M,i);var R=l.errorOrDestroy;var k=["error","close","destroy","pause","resume"];function x(e,t,r){if(typeof e.prependListener==="function")return e.prependListener(t,r);if(!e._events||!e._events[t])e.on(t,r);else if(Array.isArray(e._events[t]))e._events[t].unshift(r);else e._events[t]=[r,e._events[t]]}function T(e,t,r){n=n||J(191);e=e||{};if(typeof r!=="boolean")r=t instanceof n;this.objectMode=!!e.objectMode;if(r)this.objectMode=this.objectMode||!!e.readableObjectMode;this.highWaterMark=d(this,e,"readableHighWaterMark",r);this.buffer=new u;this.length=0;this.pipes=null;this.pipesCount=0;this.flowing=null;this.ended=false;this.endEmitted=false;this.reading=false;this.sync=true;this.needReadable=false;this.emittedReadable=false;this.readableListening=false;this.resumeScheduled=false;this.paused=true;this.emitClose=e.emitClose!==false;this.autoDestroy=!!e.autoDestroy;this.destroyed=false;this.defaultEncoding=e.defaultEncoding||"utf8";this.awaitDrain=0;this.readingMore=false;this.decoder=null;this.encoding=null;if(e.encoding){if(!w)w=J(160).StringDecoder;this.decoder=new w(e.encoding);this.encoding=e.encoding}}function M(e){n=n||J(191);if(!(this instanceof M))return new M(e);var t=this instanceof n;this._readableState=new T(e,this,t);this.readable=true;if(e){if(typeof e.read==="function")this._read=e.read;if(typeof e.destroy==="function")this._destroy=e.destroy}i.call(this)}Object.defineProperty(M.prototype,"destroyed",{enumerable:false,get:function e(){if(this._readableState===undefined){return false}return this._readableState.destroyed},set:function e(t){if(!this._readableState){return}this._readableState.destroyed=t}});M.prototype.destroy=l.destroy;M.prototype._undestroy=l.undestroy;M.prototype._destroy=function(e,t){t(e)};M.prototype.push=function(e,t){var r=this._readableState;var n;if(!r.objectMode){if(typeof e==="string"){t=t||r.defaultEncoding;if(t!==r.encoding){e=o.from(e,t);t=""}n=true}}else{n=true}return O(this,e,t,false,n)};M.prototype.unshift=function(e){return O(this,e,null,true,false)};function O(e,t,r,n,i){y("readableAddChunk",t);var a=e._readableState;if(t===null){a.reading=false;I(e,a)}else{var s;if(!i)s=A(a,t);if(s){R(e,s)}else if(a.objectMode||t&&t.length>0){if(typeof t!=="string"&&!a.objectMode&&Object.getPrototypeOf(t)!==o.prototype){t=f(t)}if(n){if(a.endEmitted)R(e,new m);else L(e,a,t,true)}else if(a.ended){R(e,new b)}else if(a.destroyed){return false}else{a.reading=false;if(a.decoder&&!r){t=a.decoder.write(t);if(a.objectMode||t.length!==0)L(e,a,t,false);else U(e,a)}else{L(e,a,t,false)}}}else if(!n){a.reading=false;U(e,a)}}return!a.ended&&(a.length<a.highWaterMark||a.length===0)}function L(e,t,r,n){if(t.flowing&&t.length===0&&!t.sync){t.awaitDrain=0;e.emit("data",r)}else{t.length+=t.objectMode?1:r.length;if(n)t.buffer.unshift(r);else t.buffer.push(r);if(t.needReadable)D(e)}U(e,t)}function A(e,t){var r;if(!a(t)&&typeof t!=="string"&&t!==undefined&&!e.objectMode){r=new p("chunk",["string","Buffer","Uint8Array"],t)}return r}M.prototype.isPaused=function(){return this._readableState.flowing===false};M.prototype.setEncoding=function(e){if(!w)w=J(160).StringDecoder;var t=new w(e);this._readableState.decoder=t;this._readableState.encoding=this._readableState.decoder.encoding;var r=this._readableState.buffer.head;var n="";while(r!==null){n+=t.write(r.data);r=r.next}this._readableState.buffer.clear();if(n!=="")this._readableState.buffer.push(n);this._readableState.length=n.length;return this};var P=1073741824;function j(e){if(e>=P){e=P}else{e--;e|=e>>>1;e|=e>>>2;e|=e>>>4;e|=e>>>8;e|=e>>>16;e++}return e}function C(e,t){if(e<=0||t.length===0&&t.ended)return 0;if(t.objectMode)return 1;if(e!==e){if(t.flowing&&t.length)return t.buffer.head.data.length;else return t.length}if(e>t.highWaterMark)t.highWaterMark=j(e);if(e<=t.length)return e;if(!t.ended){t.needReadable=true;return 0}return t.length}M.prototype.read=function(e){y("read",e);e=parseInt(e,10);var t=this._readableState;var r=e;if(e!==0)t.emittedReadable=false;if(e===0&&t.needReadable&&((t.highWaterMark!==0?t.length>=t.highWaterMark:t.length>0)||t.ended)){y("read: emitReadable",t.length,t.ended);if(t.length===0&&t.ended)G(this);else D(this);return null}e=C(e,t);if(e===0&&t.ended){if(t.length===0)G(this);return null}var n=t.needReadable;y("need readable",n);if(t.length===0||t.length-e<t.highWaterMark){n=true;y("length less than watermark",n)}if(t.ended||t.reading){n=false;y("reading or ended",n)}else if(n){y("do read");t.reading=true;t.sync=true;if(t.length===0)t.needReadable=true;this._read(t.highWaterMark);t.sync=false;if(!t.reading)e=C(r,t)}var i;if(e>0)i=z(e,t);else i=null;if(i===null){t.needReadable=t.length<=t.highWaterMark;e=0}else{t.length-=e;t.awaitDrain=0}if(t.length===0){if(!t.ended)t.needReadable=true;if(r!==e&&t.ended)G(this)}if(i!==null)this.emit("data",i);return i};function I(e,t){y("onEofChunk");if(t.ended)return;if(t.decoder){var r=t.decoder.end();if(r&&r.length){t.buffer.push(r);t.length+=t.objectMode?1:r.length}}t.ended=true;if(t.sync){D(e)}else{t.needReadable=false;if(!t.emittedReadable){t.emittedReadable=true;B(e)}}}function D(e){var t=e._readableState;y("emitReadable",t.needReadable,t.emittedReadable);t.needReadable=false;if(!t.emittedReadable){y("emitReadable",t.flowing);t.emittedReadable=true;g.nextTick(B,e)}}function B(e){var t=e._readableState;y("emitReadable_",t.destroyed,t.length,t.ended);if(!t.destroyed&&(t.length||t.ended)){e.emit("readable");t.emittedReadable=false}t.needReadable=!t.flowing&&!t.ended&&t.length<=t.highWaterMark;V(e)}function U(e,t){if(!t.readingMore){t.readingMore=true;g.nextTick(N,e,t)}}function N(e,t){while(!t.reading&&!t.ended&&(t.length<t.highWaterMark||t.flowing&&t.length===0)){var r=t.length;y("maybeReadMore read 0");e.read(0);if(r===t.length)break}t.readingMore=false}M.prototype._read=function(e){R(this,new _("_read()"))};M.prototype.pipe=function(r,e){var n=this;var i=this._readableState;switch(i.pipesCount){case 0:i.pipes=r;break;case 1:i.pipes=[i.pipes,r];break;default:i.pipes.push(r);break}i.pipesCount+=1;y("pipe count=%d opts=%j",i.pipesCount,e);var t=(!e||e.end!==false)&&r!==g.stdout&&r!==g.stderr;var a=t?o:b;if(i.endEmitted)g.nextTick(a);else n.once("end",a);r.on("unpipe",s);function s(e,t){y("onunpipe");if(e===n){if(t&&t.hasUnpiped===false){t.hasUnpiped=true;l()}}}function o(){y("onend");r.end()}var f=W(n);r.on("drain",f);var u=false;function l(){y("cleanup");r.removeListener("close",h);r.removeListener("finish",p);r.removeListener("drain",f);r.removeListener("error",d);r.removeListener("unpipe",s);n.removeListener("end",o);n.removeListener("end",b);n.removeListener("data",c);u=true;if(i.awaitDrain&&(!r._writableState||r._writableState.needDrain))f()}n.on("data",c);function c(e){y("ondata");var t=r.write(e);y("dest.write",t);if(t===false){if((i.pipesCount===1&&i.pipes===r||i.pipesCount>1&&Y(i.pipes,r)!==-1)&&!u){y("false write response, pause",i.awaitDrain);i.awaitDrain++}n.pause()}}function d(e){y("onerror",e);b();r.removeListener("error",d);if(v(r,"error")===0)R(r,e)}x(r,"error",d);function h(){r.removeListener("finish",p);b()}r.once("close",h);function p(){y("onfinish");r.removeListener("close",h);b()}r.once("finish",p);function b(){y("unpipe");n.unpipe(r)}r.emit("pipe",n);if(!i.flowing){y("pipe resume");n.resume()}return r};function W(r){return function e(){var t=r._readableState;y("pipeOnDrain",t.awaitDrain);if(t.awaitDrain)t.awaitDrain--;if(t.awaitDrain===0&&v(r,"data")){t.flowing=true;V(r)}}}M.prototype.unpipe=function(e){var t=this._readableState;var r={hasUnpiped:false};if(t.pipesCount===0)return this;if(t.pipesCount===1){if(e&&e!==t.pipes)return this;if(!e)e=t.pipes;t.pipes=null;t.pipesCount=0;t.flowing=false;if(e)e.emit("unpipe",this,r);return this}if(!e){var n=t.pipes;var i=t.pipesCount;t.pipes=null;t.pipesCount=0;t.flowing=false;for(var a=0;a<i;a++){n[a].emit("unpipe",this,{hasUnpiped:false})}return this}var s=Y(t.pipes,e);if(s===-1)return this;t.pipes.splice(s,1);t.pipesCount-=1;if(t.pipesCount===1)t.pipes=t.pipes[0];e.emit("unpipe",this,r);return this};M.prototype.on=function(e,t){var r=i.prototype.on.call(this,e,t);var n=this._readableState;if(e==="data"){n.readableListening=this.listenerCount("readable")>0;if(n.flowing!==false)this.resume()}else if(e==="readable"){if(!n.endEmitted&&!n.readableListening){n.readableListening=n.needReadable=true;n.flowing=false;n.emittedReadable=false;y("on readable",n.length,n.reading);if(n.length){D(this)}else if(!n.reading){g.nextTick(H,this)}}}return r};M.prototype.addListener=M.prototype.on;M.prototype.removeListener=function(e,t){var r=i.prototype.removeListener.call(this,e,t);if(e==="readable"){g.nextTick(q,this)}return r};M.prototype.removeAllListeners=function(e){var t=i.prototype.removeAllListeners.apply(this,arguments);if(e==="readable"||e===undefined){g.nextTick(q,this)}return t};function q(e){var t=e._readableState;t.readableListening=e.listenerCount("readable")>0;if(t.resumeScheduled&&!t.paused){t.flowing=true}else if(e.listenerCount("data")>0){e.resume()}}function H(e){y("readable nexttick read 0");e.read(0)}M.prototype.resume=function(){var e=this._readableState;if(!e.flowing){y("resume");e.flowing=!e.readableListening;F(this,e)}e.paused=false;return this};function F(e,t){if(!t.resumeScheduled){t.resumeScheduled=true;g.nextTick(K,e,t)}}function K(e,t){y("resume",t.reading);if(!t.reading){e.read(0)}t.resumeScheduled=false;e.emit("resume");V(e);if(t.flowing&&!t.reading)e.read(0)}M.prototype.pause=function(){y("call pause flowing=%j",this._readableState.flowing);if(this._readableState.flowing!==false){y("pause");this._readableState.flowing=false;this.emit("pause")}this._readableState.paused=true;return this};function V(e){var t=e._readableState;y("flow",t.flowing);while(t.flowing&&e.read()!==null){}}M.prototype.wrap=function(r){var n=this;var i=this._readableState;var a=false;r.on("end",function(){y("wrapped end");if(i.decoder&&!i.ended){var e=i.decoder.end();if(e&&e.length)n.push(e)}n.push(null)});r.on("data",function(e){y("wrapped data");if(i.decoder)e=i.decoder.write(e);if(i.objectMode&&(e===null||e===undefined))return;else if(!i.objectMode&&(!e||!e.length))return;var t=n.push(e);if(!t){a=true;r.pause()}});for(var e in r){if(this[e]===undefined&&typeof r[e]==="function"){this[e]=function e(t){return function e(){return r[t].apply(r,arguments)}}(e)}}for(var t=0;t<k.length;t++){r.on(k[t],this.emit.bind(this,k[t]))}this._read=function(e){y("wrapped _read",e);if(a){a=false;r.resume()}};return this};if(typeof Symbol==="function"){M.prototype[Symbol.asyncIterator]=function(){if(S===undefined){S=J(500)}return S(this)}}Object.defineProperty(M.prototype,"readableHighWaterMark",{enumerable:false,get:function e(){return this._readableState.highWaterMark}});Object.defineProperty(M.prototype,"readableBuffer",{enumerable:false,get:function e(){return this._readableState&&this._readableState.buffer}});Object.defineProperty(M.prototype,"readableFlowing",{enumerable:false,get:function e(){return this._readableState.flowing},set:function e(t){if(this._readableState){this._readableState.flowing=t}}});M._fromList=z;Object.defineProperty(M.prototype,"readableLength",{enumerable:false,get:function e(){return this._readableState.length}});function z(e,t){if(t.length===0)return null;var r;if(t.objectMode)r=t.buffer.shift();else if(!e||e>=t.length){if(t.decoder)r=t.buffer.join("");else if(t.buffer.length===1)r=t.buffer.first();else r=t.buffer.concat(t.length);t.buffer.clear()}else{r=t.buffer.consume(e,t.decoder)}return r}function G(e){var t=e._readableState;y("endReadable",t.endEmitted);if(!t.endEmitted){t.ended=true;g.nextTick($,t,e)}}function $(e,t){y("endReadableNT",e.endEmitted,e.length);if(!e.endEmitted&&e.length===0){e.endEmitted=true;t.readable=false;t.emit("end");if(e.autoDestroy){var r=t._writableState;if(!r||r.autoDestroy&&r.finished){t.destroy()}}}}if(typeof Symbol==="function"){M.from=function(e,t){if(E===undefined){E=J(501)}return E(M,e,t)}}function Y(e,t){for(var r=0,n=e.length;r<n;r++){if(e[r]===t)return r}return-1}}).call(this,J(19),J(74))},function(e,t,r){e.exports=r(159).EventEmitter},function(n,e,t){"use strict";(function(a){function e(e,t){var r=this;var n=this._readableState&&this._readableState.destroyed;var i=this._writableState&&this._writableState.destroyed;if(n||i){if(t){t(e)}else if(e){if(!this._writableState){a.nextTick(f,this,e)}else if(!this._writableState.errorEmitted){this._writableState.errorEmitted=true;a.nextTick(f,this,e)}}return this}if(this._readableState){this._readableState.destroyed=true}if(this._writableState){this._writableState.destroyed=true}this._destroy(e||null,function(e){if(!t&&e){if(!r._writableState){a.nextTick(s,r,e)}else if(!r._writableState.errorEmitted){r._writableState.errorEmitted=true;a.nextTick(s,r,e)}else{a.nextTick(o,r)}}else if(t){a.nextTick(o,r);t(e)}else{a.nextTick(o,r)}});return this}function s(e,t){f(e,t);o(e)}function o(e){if(e._writableState&&!e._writableState.emitClose)return;if(e._readableState&&!e._readableState.emitClose)return;e.emit("close")}function t(){if(this._readableState){this._readableState.destroyed=false;this._readableState.reading=false;this._readableState.ended=false;this._readableState.endEmitted=false}if(this._writableState){this._writableState.destroyed=false;this._writableState.ended=false;this._writableState.ending=false;this._writableState.finalCalled=false;this._writableState.prefinished=false;this._writableState.finished=false;this._writableState.errorEmitted=false}}function f(e,t){e.emit("error",t)}function r(e,t){var r=e._readableState;var n=e._writableState;if(r&&r.autoDestroy||n&&n.autoDestroy)e.destroy(t);else e.emit("error",t)}n.exports={destroy:e,undestroy:t,errorOrDestroy:r}}).call(this,t(74))},function(e,t,r){"use strict";var s=r(190).codes.ERR_INVALID_OPT_VALUE;function o(e,t,r){return e.highWaterMark!=null?e.highWaterMark:t?e[r]:null}function n(e,t,r,n){var i=o(t,n,r);if(i!=null){if(!(isFinite(i)&&Math.floor(i)===i)||i<0){var a=n?r:"highWaterMark";throw new s(a,i)}return Math.floor(i)}return e.objectMode?16:16*1024}e.exports={getHighWaterMark:n}},function(V,e,z){"use strict";(function(e,s){V.exports=T;function t(e,t,r){this.chunk=e;this.encoding=t;this.callback=r;this.next=null}function d(e){var t=this;this.next=null;this.entry=null;this.finish=function(){K(t,e)}}var i;T.WritableState=k;var r={deprecate:z(163)};var n=z(325);var o=z(73).Buffer;var a=e.Uint8Array||function(){};function f(e){return o.from(e)}function u(e){return o.isBuffer(e)||e instanceof a}var l=z(326);var c=z(327),h=c.getHighWaterMark;var p=z(190).codes,b=p.ERR_INVALID_ARG_TYPE,g=p.ERR_METHOD_NOT_IMPLEMENTED,v=p.ERR_MULTIPLE_CALLBACK,y=p.ERR_STREAM_CANNOT_PIPE,_=p.ERR_STREAM_DESTROYED,m=p.ERR_STREAM_NULL_VALUES,w=p.ERR_STREAM_WRITE_AFTER_END,S=p.ERR_UNKNOWN_ENCODING;var E=l.errorOrDestroy;z(158)(T,n);function R(){}function k(e,t,r){i=i||z(191);e=e||{};if(typeof r!=="boolean")r=t instanceof i;this.objectMode=!!e.objectMode;if(r)this.objectMode=this.objectMode||!!e.writableObjectMode;this.highWaterMark=h(this,e,"writableHighWaterMark",r);this.finalCalled=false;this.needDrain=false;this.ending=false;this.ended=false;this.finished=false;this.destroyed=false;var n=e.decodeStrings===false;this.decodeStrings=!n;this.defaultEncoding=e.defaultEncoding||"utf8";this.length=0;this.writing=false;this.corked=0;this.sync=true;this.bufferProcessing=false;this.onwrite=function(e){I(t,e)};this.writecb=null;this.writelen=0;this.bufferedRequest=null;this.lastBufferedRequest=null;this.pendingcb=0;this.prefinished=false;this.errorEmitted=false;this.emitClose=e.emitClose!==false;this.autoDestroy=!!e.autoDestroy;this.bufferedRequestCount=0;this.corkedRequestsFree=new d(this)}k.prototype.getBuffer=function e(){var t=this.bufferedRequest;var r=[];while(t){r.push(t);t=t.next}return r};(function(){try{Object.defineProperty(k.prototype,"buffer",{get:r.deprecate(function e(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer "+"instead.","DEP0003")})}catch(e){}})();var x;if(typeof Symbol==="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]==="function"){x=Function.prototype[Symbol.hasInstance];Object.defineProperty(T,Symbol.hasInstance,{value:function e(t){if(x.call(this,t))return true;if(this!==T)return false;return t&&t._writableState instanceof k}})}else{x=function e(t){return t instanceof this}}function T(e){i=i||z(191);var t=this instanceof i;if(!t&&!x.call(T,this))return new T(e);this._writableState=new k(e,this,t);this.writable=true;if(e){if(typeof e.write==="function")this._write=e.write;if(typeof e.writev==="function")this._writev=e.writev;if(typeof e.destroy==="function")this._destroy=e.destroy;if(typeof e.final==="function")this._final=e.final}n.call(this)}T.prototype.pipe=function(){E(this,new y)};function M(e,t){var r=new w;E(e,r);s.nextTick(t,r)}function O(e,t,r,n){var i;if(r===null){i=new m}else if(typeof r!=="string"&&!t.objectMode){i=new b("chunk",["string","Buffer"],r)}if(i){E(e,i);s.nextTick(n,i);return false}return true}T.prototype.write=function(e,t,r){var n=this._writableState;var i=false;var a=!n.objectMode&&u(e);if(a&&!o.isBuffer(e)){e=f(e)}if(typeof t==="function"){r=t;t=null}if(a)t="buffer";else if(!t)t=n.defaultEncoding;if(typeof r!=="function")r=R;if(n.ending)M(this,r);else if(a||O(this,n,e,r)){n.pendingcb++;i=A(this,n,a,e,t,r)}return i};T.prototype.cork=function(){this._writableState.corked++};T.prototype.uncork=function(){var e=this._writableState;if(e.corked){e.corked--;if(!e.writing&&!e.corked&&!e.bufferProcessing&&e.bufferedRequest)U(this,e)}};T.prototype.setDefaultEncoding=function e(t){if(typeof t==="string")t=t.toLowerCase();if(!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new S(t);this._writableState.defaultEncoding=t;return this};Object.defineProperty(T.prototype,"writableBuffer",{enumerable:false,get:function e(){return this._writableState&&this._writableState.getBuffer()}});function L(e,t,r){if(!e.objectMode&&e.decodeStrings!==false&&typeof t==="string"){t=o.from(t,r)}return t}Object.defineProperty(T.prototype,"writableHighWaterMark",{enumerable:false,get:function e(){return this._writableState.highWaterMark}});function A(e,t,r,n,i,a){if(!r){var s=L(t,n,i);if(n!==s){r=true;i="buffer";n=s}}var o=t.objectMode?1:n.length;t.length+=o;var f=t.length<t.highWaterMark;if(!f)t.needDrain=true;if(t.writing||t.corked){var u=t.lastBufferedRequest;t.lastBufferedRequest={chunk:n,encoding:i,isBuf:r,callback:a,next:null};if(u){u.next=t.lastBufferedRequest}else{t.bufferedRequest=t.lastBufferedRequest}t.bufferedRequestCount+=1}else{P(e,t,false,o,n,i,a)}return f}function P(e,t,r,n,i,a,s){t.writelen=n;t.writecb=s;t.writing=true;t.sync=true;if(t.destroyed)t.onwrite(new _("write"));else if(r)e._writev(i,t.onwrite);else e._write(i,a,t.onwrite);t.sync=false}function j(e,t,r,n,i){--t.pendingcb;if(r){s.nextTick(i,n);s.nextTick(H,e,t);e._writableState.errorEmitted=true;E(e,n)}else{i(n);e._writableState.errorEmitted=true;E(e,n);H(e,t)}}function C(e){e.writing=false;e.writecb=null;e.length-=e.writelen;e.writelen=0}function I(e,t){var r=e._writableState;var n=r.sync;var i=r.writecb;if(typeof i!=="function")throw new v;C(r);if(t)j(e,r,n,t,i);else{var a=N(r)||e.destroyed;if(!a&&!r.corked&&!r.bufferProcessing&&r.bufferedRequest){U(e,r)}if(n){s.nextTick(D,e,r,a,i)}else{D(e,r,a,i)}}}function D(e,t,r,n){if(!r)B(e,t);t.pendingcb--;n();H(e,t)}function B(e,t){if(t.length===0&&t.needDrain){t.needDrain=false;e.emit("drain")}}function U(e,t){t.bufferProcessing=true;var r=t.bufferedRequest;if(e._writev&&r&&r.next){var n=t.bufferedRequestCount;var i=new Array(n);var a=t.corkedRequestsFree;a.entry=r;var s=0;var o=true;while(r){i[s]=r;if(!r.isBuf)o=false;r=r.next;s+=1}i.allBuffers=o;P(e,t,true,t.length,i,"",a.finish);t.pendingcb++;t.lastBufferedRequest=null;if(a.next){t.corkedRequestsFree=a.next;a.next=null}else{t.corkedRequestsFree=new d(t)}t.bufferedRequestCount=0}else{while(r){var f=r.chunk;var u=r.encoding;var l=r.callback;var c=t.objectMode?1:f.length;P(e,t,false,c,f,u,l);r=r.next;t.bufferedRequestCount--;if(t.writing){break}}if(r===null)t.lastBufferedRequest=null}t.bufferedRequest=r;t.bufferProcessing=false}T.prototype._write=function(e,t,r){r(new g("_write()"))};T.prototype._writev=null;T.prototype.end=function(e,t,r){var n=this._writableState;if(typeof e==="function"){r=e;e=null;t=null}else if(typeof t==="function"){r=t;t=null}if(e!==null&&e!==undefined)this.write(e,t);if(n.corked){n.corked=1;this.uncork()}if(!n.ending)F(this,n,r);return this};Object.defineProperty(T.prototype,"writableLength",{enumerable:false,get:function e(){return this._writableState.length}});function N(e){return e.ending&&e.length===0&&e.bufferedRequest===null&&!e.finished&&!e.writing}function W(t,r){t._final(function(e){r.pendingcb--;if(e){E(t,e)}r.prefinished=true;t.emit("prefinish");H(t,r)})}function q(e,t){if(!t.prefinished&&!t.finalCalled){if(typeof e._final==="function"&&!t.destroyed){t.pendingcb++;t.finalCalled=true;s.nextTick(W,e,t)}else{t.prefinished=true;e.emit("prefinish")}}}function H(e,t){var r=N(t);if(r){q(e,t);if(t.pendingcb===0){t.finished=true;e.emit("finish");if(t.autoDestroy){var n=e._readableState;if(!n||n.autoDestroy&&n.endEmitted){e.destroy()}}}}return r}function F(e,t,r){t.ending=true;H(e,t);if(r){if(t.finished)s.nextTick(r);else e.once("finish",r)}t.ended=true;e.writable=false}function K(e,t,r){var n=e.entry;e.entry=null;while(n){var i=n.callback;t.pendingcb--;i(r);n=n.next}t.corkedRequestsFree.next=e}Object.defineProperty(T.prototype,"destroyed",{enumerable:false,get:function e(){if(this._writableState===undefined){return false}return this._writableState.destroyed},set:function e(t){if(!this._writableState){return}this._writableState.destroyed=t}});T.prototype.destroy=l.destroy;T.prototype._undestroy=l.undestroy;T.prototype._destroy=function(e,t){t(e)}}).call(this,z(19),z(74))},function(e,t,r){"use strict";e.exports=l;var n=r(190).codes,i=n.ERR_METHOD_NOT_IMPLEMENTED,a=n.ERR_MULTIPLE_CALLBACK,s=n.ERR_TRANSFORM_ALREADY_TRANSFORMING,o=n.ERR_TRANSFORM_WITH_LENGTH_0;var f=r(191);r(158)(l,f);function u(e,t){var r=this._transformState;r.transforming=false;var n=r.writecb;if(n===null){return this.emit("error",new a)}r.writechunk=null;r.writecb=null;if(t!=null)this.push(t);n(e);var i=this._readableState;i.reading=false;if(i.needReadable||i.length<i.highWaterMark){this._read(i.highWaterMark)}}function l(e){if(!(this instanceof l))return new l(e);f.call(this,e);this._transformState={afterTransform:u.bind(this),needTransform:false,transforming:false,writecb:null,writechunk:null,writeencoding:null};this._readableState.needReadable=true;this._readableState.sync=false;if(e){if(typeof e.transform==="function")this._transform=e.transform;if(typeof e.flush==="function")this._flush=e.flush}this.on("prefinish",c)}function c(){var r=this;if(typeof this._flush==="function"&&!this._readableState.destroyed){this._flush(function(e,t){d(r,e,t)})}else{d(this,null,null)}}l.prototype.push=function(e,t){this._transformState.needTransform=false;return f.prototype.push.call(this,e,t)};l.prototype._transform=function(e,t,r){r(new i("_transform()"))};l.prototype._write=function(e,t,r){var n=this._transformState;n.writecb=r;n.writechunk=e;n.writeencoding=t;if(!n.transforming){var i=this._readableState;if(n.needTransform||i.needReadable||i.length<i.highWaterMark)this._read(i.highWaterMark)}};l.prototype._read=function(e){var t=this._transformState;if(t.writechunk!==null&&!t.transforming){t.transforming=true;this._transform(t.writechunk,t.writeencoding,t.afterTransform)}else{t.needTransform=true}};l.prototype._destroy=function(e,t){f.prototype._destroy.call(this,e,function(e){t(e)})};function d(e,t,r){if(t)return e.emit("error",t);if(r!=null)e.push(r);if(e._writableState.length)throw new o;if(e._transformState.transforming)throw new s;return e.push(null)}},,,,function(E,e,R){(function(t,n){/*! webtorrent. MIT License. WebTorrent LLC <https://webtorrent.io/opensource> */
const{EventEmitter:e}=R(159);const f=R(221);const u=R(334);const r=R(161)("webtorrent");const i=R(380);const a=R(381);const l=R(192);const s=R(249);const c=R(22);const o=R(198);const d=R(195);const h=R(209);const p=R(164);const b=R(410);const g=R(411);const v=R(218).version;const y=v.replace(/\d*./g,e=>`0${e%100}`.slice(-2)).slice(0,4);const _=`-WW${y}-`;class m extends e{constructor(e={}){super();if(typeof e.peerId==="string"){this.peerId=e.peerId}else if(t.isBuffer(e.peerId)){this.peerId=e.peerId.toString("hex")}else{this.peerId=t.from(_+d(9).toString("base64")).toString("hex")}this.peerIdBuffer=t.from(this.peerId,"hex");if(typeof e.nodeId==="string"){this.nodeId=e.nodeId}else if(t.isBuffer(e.nodeId)){this.nodeId=e.nodeId.toString("hex")}else{this.nodeId=d(20).toString("hex")}this.nodeIdBuffer=t.from(this.nodeId,"hex");this._debugId=this.peerId.toString("hex").substring(0,7);this.destroyed=false;this.listening=false;this.torrentPort=e.torrentPort||0;this.dhtPort=e.dhtPort||0;this.tracker=e.tracker!==undefined?e.tracker:{};this.lsd=e.lsd!==false;this.torrents=[];this.maxConns=Number(e.maxConns)||55;this.utp=e.utp===true;this._debug("new webtorrent (peerId %s, nodeId %s, port %s)",this.peerId,this.nodeId,this.torrentPort);if(this.tracker){if(typeof this.tracker!=="object")this.tracker={};if(e.rtcConfig){console.warn("WebTorrent: opts.rtcConfig is deprecated. Use opts.tracker.rtcConfig instead");this.tracker.rtcConfig=e.rtcConfig}if(e.wrtc){console.warn("WebTorrent: opts.wrtc is deprecated. Use opts.tracker.wrtc instead");this.tracker.wrtc=e.wrtc}if(n.WRTC&&!this.tracker.wrtc){this.tracker.wrtc=n.WRTC}}if(typeof b==="function"){this._connPool=new b(this)}else{p(()=>{this._onListening()})}this._downloadSpeed=h();this._uploadSpeed=h();if(e.dht!==false&&typeof i==="function"){this.dht=new i(Object.assign({},{nodeId:this.nodeId},e.dht));this.dht.once("error",e=>{this._destroy(e)});this.dht.once("listening",()=>{const e=this.dht.address();if(e)this.dhtPort=e.port});this.dht.setMaxListeners(0);this.dht.listen(this.dhtPort)}else{this.dht=false}this.enableWebSeeds=e.webSeeds!==false;const r=()=>{if(this.destroyed)return;this.ready=true;this.emit("ready")};if(typeof a==="function"&&e.blocklist!=null){a(e.blocklist,{headers:{"user-agent":`WebTorrent/${v} (https://webtorrent.io)`}},(e,t)=>{if(e)return this.error(`Failed to load blocklist: ${e.message}`);this.blocked=t;r()})}else{p(r)}}get downloadSpeed(){return this._downloadSpeed()}get uploadSpeed(){return this._uploadSpeed()}get progress(){const e=this.torrents.filter(e=>e.progress!==1);const t=e.reduce((e,t)=>e+t.downloaded,0);const r=e.reduce((e,t)=>e+(t.length||0),0)||1;return t/r}get ratio(){const e=this.torrents.reduce((e,t)=>e+t.uploaded,0);const t=this.torrents.reduce((e,t)=>e+t.received,0)||1;return e/t}get(t){if(t instanceof g){if(this.torrents.includes(t))return t}else{let e;try{e=s(t)}catch(e){}if(!e)return null;if(!e.infoHash)throw new Error("Invalid torrent identifier");for(const r of this.torrents){if(r.infoHash===e.infoHash)return r}}return null}download(e,t,r){console.warn("WebTorrent: client.download() is deprecated. Use client.add() instead");return this.add(e,t,r)}add(e,t={},r=()=>{}){if(this.destroyed)throw new Error("client is destroyed");if(typeof t==="function")[t,r]=[{},t];const n=()=>{if(this.destroyed)return;for(const e of this.torrents){if(e.infoHash===s.infoHash&&e!==s){s._destroy(new Error(`Cannot add duplicate torrent ${s.infoHash}`));return}}};const i=()=>{if(this.destroyed)return;r(s);this.emit("torrent",s)};function a(){s.removeListener("_infoHash",n);s.removeListener("ready",i);s.removeListener("close",a)}this._debug("add");t=t?Object.assign({},t):{};const s=new g(e,this,t);this.torrents.push(s);s.once("_infoHash",n);s.once("ready",i);s.once("close",a);return s}seed(e,i,t){if(this.destroyed)throw new Error("client is destroyed");if(typeof i==="function")[i,t]=[{},i];this._debug("seed");i=i?Object.assign({},i):{};i.skipVerify=true;const r=typeof e==="string";if(r)i.path=c.dirname(e);if(!i.createdBy)i.createdBy=`WebTorrent/${y}`;const n=t=>{const e=[e=>{if(r||i.preloadedStore)return e();t.load(o,e)}];if(this.dht){e.push(e=>{t.once("dhtAnnounce",e)})}l(e,e=>{if(this.destroyed)return;if(e)return t._destroy(e);a(t)})};const a=e=>{this._debug("on seed");if(typeof t==="function")t(e);e.emit("seed");this.emit("seed",e)};const s=this.add(null,i,n);let o;if(S(e))e=Array.from(e);else if(!Array.isArray(e))e=[e];l(e.map(n=>r=>{if(!i.preloadedStore&&w(n)){f(n,(e,t)=>{if(e)return r(e);t.name=n.name;r(null,t)})}else{r(null,n)}}),(e,r)=>{if(this.destroyed)return;if(e)return s._destroy(e);u.parseInput(r,i,(e,t)=>{if(this.destroyed)return;if(e)return s._destroy(e);o=t.map(e=>e.getStream);u(r,i,(e,t)=>{if(this.destroyed)return;if(e)return s._destroy(e);const r=this.get(t);if(r){s._destroy(new Error(`Cannot add duplicate torrent ${r.infoHash}`))}else{s._onTorrentId(t)}})})});return s}remove(e,t,r){if(typeof t==="function")return this.remove(e,null,t);this._debug("remove");const n=this.get(e);if(!n)throw new Error(`No torrent with id ${e}`);this._remove(e,t,r)}_remove(e,t,r){if(typeof t==="function")return this._remove(e,null,t);const n=this.get(e);if(!n)return;this.torrents.splice(this.torrents.indexOf(n),1);n.destroy(t,r)}address(){if(!this.listening)return null;return this._connPool?this._connPool.tcpServer.address():{address:"0.0.0.0",family:"IPv4",port:0}}destroy(e){if(this.destroyed)throw new Error("client already destroyed");this._destroy(null,e)}_destroy(e,t){this._debug("client destroy");this.destroyed=true;const r=this.torrents.map(t=>e=>{t.destroy(e)});if(this._connPool){r.push(e=>{this._connPool.destroy(e)})}if(this.dht){r.push(e=>{this.dht.destroy(e)})}l(r,t);if(e)this.emit("error",e);this.torrents=[];this._connPool=null;this.dht=null}_onListening(){this._debug("listening");this.listening=true;if(this._connPool){const e=this._connPool.tcpServer.address();if(e)this.torrentPort=e.port}this.emit("listening")}_debug(){const e=[].slice.call(arguments);e[0]=`[${this._debugId}] ${e[0]}`;r(...e)}}m.WEBRTC_SUPPORT=o.WEBRTC_SUPPORT;m.VERSION=v;function w(e){return typeof e==="object"&&e!=null&&typeof e.pipe==="function"}function S(e){return typeof FileList!=="undefined"&&e instanceof FileList}E.exports=m}).call(this,R(73).Buffer,R(19))},function(P,e,j){(function(_,o){/*! create-torrent. MIT License. WebTorrent LLC <https://webtorrent.io/opensource> */
const f=j(196);const m=j(222);const u=j(345);const l=j(22);const t=j(346);const c=j(357);const r=j(358);const w=j(235);const S=j(166);const d=j(192);const h=j(164);const E=j(193);const i=j(369);const p=j(377);function b(e){return e.reduce((e,t)=>Array.isArray(t)?e.concat(b(t)):e.concat(t),[])}const e=[["udp://tracker.leechers-paradise.org:6969"],["udp://tracker.coppersurfer.tk:6969"],["udp://tracker.opentrackr.org:1337"],["udp://explodie.org:6969"],["udp://tracker.empire-js.us:1337"],["wss://tracker.btorrent.xyz"],["wss://tracker.openwebtorrent.com"]];function n(e,n,i){if(typeof n==="function")[n,i]=[i,n];n=n?Object.assign({},n):{};s(e,n,(e,t,r)=>{if(e)return i(e);n.singleFileTorrent=r;v(t,n,i)})}function a(e,t,r){if(typeof t==="function")[t,r]=[r,t];t=t?Object.assign({},t):{};s(e,t,r)}function s(n,t,r){if(T(n))n=Array.from(n);if(!Array.isArray(n))n=[n];if(n.length===0)throw new Error("invalid input type");n.forEach(e=>{if(e==null)throw new Error(`invalid input type: ${e}`)});n=n.map(e=>{if(x(e)&&typeof e.path==="string"&&typeof p==="function")return e.path;return e});if(n.length===1&&typeof n[0]!=="string"&&!n[0].name)n[0].name=t.name;let i=null;n.forEach((e,t)=>{if(typeof e==="string"){return}let r=e.fullPath||e.name;if(!r){r=`Unknown File ${t+1}`;e.unknownName=true}e.path=r.split("/");if(!e.path[0]){e.path.shift()}if(e.path.length<2){i=null}else if(t===0&&n.length>1){i=e.path[0]}else if(e.path[0]!==i){i=null}});const e=t.filterJunkFiles===undefined?true:t.filterJunkFiles;if(e){n=n.filter(e=>{if(typeof e==="string"){return true}return!y(e.path)})}if(i){n.forEach(e=>{const t=(_.isBuffer(e)||M(e))&&!e.path;if(typeof e==="string"||t)return;e.path.shift()})}if(!t.name&&i){t.name=i}if(!t.name){n.some(e=>{if(typeof e==="string"){t.name=l.basename(e);return true}else if(!e.unknownName){t.name=e.path[e.path.length-1];return true}return false})}if(!t.name){t.name=`Unnamed Torrent ${Date.now()}`}const a=n.reduce((e,t)=>e+Number(typeof t==="string"),0);let s=n.length===1;if(n.length===1&&typeof n[0]==="string"){if(typeof p!=="function"){throw new Error("filesystem paths do not work in the browser")}c(n[0],(e,t)=>{if(e)return r(e);s=t;o()})}else{h(o)}function o(){d(n.map(n=>e=>{const t={};if(x(n)){t.getStream=O(n);t.length=n.size}else if(_.isBuffer(n)){t.getStream=L(n);t.length=n.length}else if(M(n)){t.getStream=A(n,t);t.length=0}else if(typeof n==="string"){if(typeof p!=="function"){throw new Error("filesystem paths do not work in the browser")}const r=a>1||s;p(n,r,e);return}else{throw new Error("invalid input type")}t.path=n.path;e(null,t)}),(e,t)=>{if(e)return r(e);t=b(t);r(null,t,s)})}}const R=5;function g(e,t,n,i,r){r=S(r);const a=[];let s=0;let o=0;const f=e.map(e=>e.getStream);let u=0;let l=0;let c=false;const d=new w(f);const h=new m(t,{zeroPadding:false});d.on("error",g);d.pipe(h).on("data",p).on("end",b).on("error",g);function p(t){s+=t.length;const r=l;E(t,e=>{a[r]=e;u-=1;if(u<R){h.resume()}o+=t.length;if(i.onProgress)i.onProgress(o,n);y()});u+=1;if(u>=R){h.pause()}l+=1}function b(){c=true;y()}function g(e){v();r(e)}function v(){d.removeListener("error",g);h.removeListener("data",p);h.removeListener("end",b);h.removeListener("error",g)}function y(){if(c&&u===0){v();r(null,_.from(a.join(""),"hex"),s)}}}function v(n,i,a){let e=i.announceList;if(!e){if(typeof i.announce==="string")e=[[i.announce]];else if(Array.isArray(i.announce)){e=i.announce.map(e=>[e])}}if(!e)e=[];if(o.WEBTORRENT_ANNOUNCE){if(typeof o.WEBTORRENT_ANNOUNCE==="string"){e.push([[o.WEBTORRENT_ANNOUNCE]])}else if(Array.isArray(o.WEBTORRENT_ANNOUNCE)){e=e.concat(o.WEBTORRENT_ANNOUNCE.map(e=>[e]))}}if(i.announce===undefined&&i.announceList===undefined){e=e.concat(P.exports.announceList)}if(typeof i.urlList==="string")i.urlList=[i.urlList];const s={info:{name:i.name},"creation date":Math.ceil((Number(i.creationDate)||Date.now())/1e3),encoding:"UTF-8"};if(e.length!==0){s.announce=e[0][0];s["announce-list"]=e}if(i.comment!==undefined)s.comment=i.comment;if(i.createdBy!==undefined)s["created by"]=i.createdBy;if(i.private!==undefined)s.info.private=Number(i.private);if(i.info!==undefined)Object.assign(s.info,i.info);if(i.sslCert!==undefined)s.info["ssl-cert"]=i.sslCert;if(i.urlList!==undefined)s["url-list"]=i.urlList;const t=n.reduce(k,0);const r=i.pieceLength||u(t);s.info["piece length"]=r;g(n,r,t,i,(e,t,r)=>{if(e)return a(e);s.info.pieces=t;n.forEach(e=>{delete e.getStream});if(i.singleFileTorrent){s.info.length=r}else{s.info.files=n}a(null,f.encode(s))})}function y(e){const t=e[e.length-1];return t[0]==="."&&r.is(t)}function k(e,t){return e+t.length}function x(e){return typeof Blob!=="undefined"&&e instanceof Blob}function T(e){return typeof FileList!=="undefined"&&e instanceof FileList}function M(e){return typeof e==="object"&&e!=null&&typeof e.pipe==="function"}function O(e){return()=>new t(e)}function L(t){return()=>{const e=new i.PassThrough;e.end(t);return e}}function A(t,n){return()=>{const e=new i.Transform;e._transform=function(e,t,r){n.length+=e.length;this.push(e);r()};t.pipe(e);return e}}P.exports=n;P.exports.parseInput=a;P.exports.announceList=e;P.exports.isJunkPath=y}).call(this,j(73).Buffer,j(19))},function(e,t,r){var s=r(162).Buffer;function o(e,t,r){var n=[];var i=null;o._encode(n,e);i=s.concat(n);o.bytes=i.length;if(s.isBuffer(t)){i.copy(t,r);return t}return i}o.bytes=-1;o._floatConversionDetected=false;o.getType=function(e){if(s.isBuffer(e))return"buffer";if(Array.isArray(e))return"array";if(ArrayBuffer.isView(e))return"arraybufferview";if(e instanceof Number)return"number";if(e instanceof Boolean)return"boolean";if(e instanceof ArrayBuffer)return"arraybuffer";return typeof e};o._encode=function(e,t){if(t==null){return}switch(o.getType(t)){case"buffer":o.buffer(e,t);break;case"object":o.dict(e,t);break;case"array":o.list(e,t);break;case"string":o.string(e,t);break;case"number":o.number(e,t);break;case"boolean":o.number(e,t);break;case"arraybufferview":o.buffer(e,s.from(t.buffer,t.byteOffset,t.byteLength));break;case"arraybuffer":o.buffer(e,s.from(t));break}};var f=s.from("e");var u=s.from("d");var i=s.from("l");o.buffer=function(e,t){e.push(s.from(t.length+":"),t)};o.string=function(e,t){e.push(s.from(s.byteLength(t)+":"+t))};o.number=function(e,t){var r=2147483648;var n=t/r<<0;var i=t%r<<0;var a=n*r+i;e.push(s.from("i"+a+"e"));if(a!==t&&!o._floatConversionDetected){o._floatConversionDetected=true;console.warn('WARNING: Possible data corruption detected with value "'+t+'":','Bencoding only defines support for integers, value was converted to "'+a+'"');console.trace()}};o.dict=function(e,t){e.push(u);var r=0;var n;var i=Object.keys(t).sort();var a=i.length;for(;r<a;r++){n=i[r];if(t[n]==null)continue;o.string(e,n);o._encode(e,t[n])}e.push(f)};o.list=function(e,t){var r=0;var n=t.length;e.push(i);for(;r<n;r++){if(t[r]==null)continue;o._encode(e,t[r])}e.push(f)};e.exports=o},function(e,t,r){var i=r(162).Buffer;const n=105;const a=58;const s=100;const o=108;const f=101;function u(e,t,r){var n=0;var i=1;for(var a=t;a<r;a++){var s=e[a];if(s<58&&s>=48){n=n*10+(s-48);continue}if(a===t&&s===43){continue}if(a===t&&s===45){i=-1;continue}if(s===46){break}throw new Error("not a number: buffer["+a+"] = "+s)}return n*i}function l(e,t,r,n){if(e==null||e.length===0){return null}if(typeof t!=="number"&&n==null){n=t;t=undefined}if(typeof r!=="number"&&n==null){n=r;r=undefined}l.position=0;l.encoding=n||null;l.data=!i.isBuffer(e)?i.from(e):e.slice(t,r);l.bytes=l.data.length;return l.next()}l.bytes=0;l.position=0;l.data=null;l.encoding=null;l.next=function(){switch(l.data[l.position]){case s:return l.dictionary();case o:return l.list();case n:return l.integer();default:return l.buffer()}};l.find=function(e){var t=l.position;var r=l.data.length;var n=l.data;while(t<r){if(n[t]===e)return t;t++}throw new Error('Invalid data: Missing delimiter "'+String.fromCharCode(e)+'" [0x'+e.toString(16)+"]")};l.dictionary=function(){l.position++;var e={};while(l.data[l.position]!==f){e[l.buffer()]=l.next()}l.position++;return e};l.list=function(){l.position++;var e=[];while(l.data[l.position]!==f){e.push(l.next())}l.position++;return e};l.integer=function(){var e=l.find(f);var t=u(l.data,l.position+1,e);l.position+=e+1-l.position;return t};l.buffer=function(){var e=l.find(a);var t=u(l.data,l.position,e);var r=++e+t;l.position=r;return l.encoding?l.data.toString(l.encoding,e,r):l.data.slice(e,r)};e.exports=l},function(e,t,r){t=e.exports=r(223);t.Stream=t;t.Readable=t;t.Writable=r(227);t.Duplex=r(168);t.Transform=r(228);t.PassThrough=r(343);t.finished=r(201);t.pipeline=r(344)},,function(e,t,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);if(e)n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable});r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};if(e%2){n(Object(r),true).forEach(function(e){a(t,e,r[e])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))}else{n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}}return t}function a(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function f(e,t,r){if(t)o(e.prototype,t);if(r)o(e,r);return e}var u=r(73),l=u.Buffer;var c=r(340),d=c.inspect;var h=d&&d.custom||"inspect";function p(e,t,r){l.prototype.copy.call(e,t,r)}e.exports=function(){function e(){s(this,e);this.head=null;this.tail=null;this.length=0}f(e,[{key:"push",value:function e(t){var r={data:t,next:null};if(this.length>0)this.tail.next=r;else this.head=r;this.tail=r;++this.length}},{key:"unshift",value:function e(t){var r={data:t,next:this.head};if(this.length===0)this.tail=r;this.head=r;++this.length}},{key:"shift",value:function e(){if(this.length===0)return;var t=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return t}},{key:"clear",value:function e(){this.head=this.tail=null;this.length=0}},{key:"join",value:function e(t){if(this.length===0)return"";var r=this.head;var n=""+r.data;while(r=r.next){n+=t+r.data}return n}},{key:"concat",value:function e(t){if(this.length===0)return l.alloc(0);var r=l.allocUnsafe(t>>>0);var n=this.head;var i=0;while(n){p(n.data,r,i);i+=n.data.length;n=n.next}return r}},{key:"consume",value:function e(t,r){var n;if(t<this.head.data.length){n=this.head.data.slice(0,t);this.head.data=this.head.data.slice(t)}else if(t===this.head.data.length){n=this.shift()}else{n=r?this._getString(t):this._getBuffer(t)}return n}},{key:"first",value:function e(){return this.head.data}},{key:"_getString",value:function e(t){var r=this.head;var n=1;var i=r.data;t-=i.length;while(r=r.next){var a=r.data;var s=t>a.length?a.length:t;if(s===a.length)i+=a;else i+=a.slice(0,t);t-=s;if(t===0){if(s===a.length){++n;if(r.next)this.head=r.next;else this.head=this.tail=null}else{this.head=r;r.data=a.slice(s)}break}++n}this.length-=n;return i}},{key:"_getBuffer",value:function e(t){var r=l.allocUnsafe(t);var n=this.head;var i=1;n.data.copy(r);t-=n.data.length;while(n=n.next){var a=n.data;var s=t>a.length?a.length:t;a.copy(r,r.length-t,0,s);t-=s;if(t===0){if(s===a.length){++i;if(n.next)this.head=n.next;else this.head=this.tail=null}else{this.head=n;n.data=a.slice(s)}break}++i}this.length-=i;return r}},{key:h,value:function e(t,r){return d(this,i({},r,{depth:0,customInspect:false}))}}]);return e}()},,function(y,e,_){"use strict";(function(s){var e;function n(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var a=_(201);var o=Symbol("lastResolve");var f=Symbol("lastReject");var u=Symbol("error");var l=Symbol("ended");var c=Symbol("lastPromise");var d=Symbol("handlePromise");var h=Symbol("stream");function p(e,t){return{value:e,done:t}}function t(e){var t=e[o];if(t!==null){var r=e[h].read();if(r!==null){e[c]=null;e[o]=null;e[f]=null;t(p(r,false))}}}function b(e){s.nextTick(t,e)}function g(r,n){return function(e,t){r.then(function(){if(n[l]){e(p(undefined,true));return}n[d](e,t)},t)}}var r=Object.getPrototypeOf(function(){});var v=Object.setPrototypeOf((e={get stream(){return this[h]},next:function e(){var r=this;var t=this[u];if(t!==null){return Promise.reject(t)}if(this[l]){return Promise.resolve(p(undefined,true))}if(this[h].destroyed){return new Promise(function(e,t){s.nextTick(function(){if(r[u]){t(r[u])}else{e(p(undefined,true))}})})}var n=this[c];var i;if(n){i=new Promise(g(n,this))}else{var a=this[h].read();if(a!==null){return Promise.resolve(p(a,false))}i=new Promise(this[d])}this[c]=i;return i}},n(e,Symbol.asyncIterator,function(){return this}),n(e,"return",function e(){var n=this;return new Promise(function(t,r){n[h].destroy(null,function(e){if(e){r(e);return}t(p(undefined,true))})})}),e),r);var i=function e(t){var r;var i=Object.create(v,(r={},n(r,h,{value:t,writable:true}),n(r,o,{value:null,writable:true}),n(r,f,{value:null,writable:true}),n(r,u,{value:null,writable:true}),n(r,l,{value:t._readableState.endEmitted,writable:true}),n(r,d,{value:function e(t,r){var n=i[h].read();if(n){i[c]=null;i[o]=null;i[f]=null;t(p(n,false))}else{i[o]=t;i[f]=r}},writable:true}),r));i[c]=null;a(t,function(e){if(e&&e.code!=="ERR_STREAM_PREMATURE_CLOSE"){var t=i[f];if(t!==null){i[c]=null;i[o]=null;i[f]=null;t(e)}i[u]=e;return}var r=i[o];if(r!==null){i[c]=null;i[o]=null;i[f]=null;r(p(undefined,true))}i[l]=true});t.on("readable",b.bind(null,i));return i};y.exports=i}).call(this,_(74))},function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(e,t,r){"use strict";e.exports=i;var n=r(228);r(158)(i,n);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}i.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,s){"use strict";var o;function f(e){var t=false;return function(){if(t)return;t=true;e.apply(void 0,arguments)}}var r=s(167).codes,n=r.ERR_MISSING_ARGS,u=r.ERR_STREAM_DESTROYED;function i(e){if(e)throw e}function l(e){return e.setHeader&&typeof e.abort==="function"}function c(t,e,r,n){n=f(n);var i=false;t.on("close",function(){i=true});if(o===undefined)o=s(201);o(t,{readable:e,writable:r},function(e){if(e)return n(e);i=true;n()});var a=false;return function(e){if(i)return;if(a)return;a=true;if(l(t))return t.abort();if(typeof t.destroy==="function")return t.destroy();n(e||new u("pipe"))}}function d(e){e()}function h(e,t){return e.pipe(t)}function p(e){if(!e.length)return i;if(typeof e[e.length-1]!=="function")return i;return e.pop()}function a(){for(var e=arguments.length,i=new Array(e),t=0;t<e;t++){i[t]=arguments[t]}var a=p(i);if(Array.isArray(i[0]))i=i[0];if(i.length<2){throw new n("streams")}var s;var o=i.map(function(e,t){var r=t<i.length-1;var n=t>0;return c(e,r,n,function(e){if(!s)s=e;if(e)o.forEach(d);if(r)return;o.forEach(d);a(s)})});return i.reduce(h)}e.exports=a},function(e,t){e.exports=r;function r(e){return Math.max(16384,1<<Math.log2(e<1024?1:e/1024)+.5|0)}},function(e,t,r){const{Readable:n}=r(347);const i=r(355);class a extends n{constructor(e,t={}){super(t);this._offset=0;this._ready=false;this._file=e;this._size=e.size;this._chunkSize=t.chunkSize||Math.max(this._size/1e3,200*1024);const r=new FileReader;r.onload=()=>{this.push(i(r.result))};r.onerror=()=>{this.emit("error",r.error)};this.reader=r;this._generateHeaderBlocks(e,t,(e,t)=>{if(e){return this.emit("error",e)}if(Array.isArray(t)){t.forEach(e=>this.push(e))}this._ready=true;this.emit("_ready")})}_generateHeaderBlocks(e,t,r){r(null,[])}_read(){if(!this._ready){this.once("_ready",this._read.bind(this));return}const e=this._offset;let t=this._offset+this._chunkSize;if(t>this._size)t=this._size;if(e===this._size){this.destroy();this.push(null);return}this.reader.readAsArrayBuffer(this._file.slice(e,t));this._offset=t}destroy(){this._file=null;if(this.reader){this.reader.onload=null;this.reader.onerror=null;try{this.reader.abort()}catch(e){}}this.reader=null}}e.exports=a},function(e,t,r){t=e.exports=r(229);t.Stream=t;t.Readable=t;t.Writable=r(233);t.Duplex=r(170);t.Transform=r(234);t.PassThrough=r(353);t.finished=r(202);t.pipeline=r(354)},,function(e,t,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);if(e)n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable});r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};if(e%2){n(Object(r),true).forEach(function(e){a(t,e,r[e])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))}else{n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}}return t}function a(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function f(e,t,r){if(t)o(e.prototype,t);if(r)o(e,r);return e}var u=r(73),l=u.Buffer;var c=r(350),d=c.inspect;var h=d&&d.custom||"inspect";function p(e,t,r){l.prototype.copy.call(e,t,r)}e.exports=function(){function e(){s(this,e);this.head=null;this.tail=null;this.length=0}f(e,[{key:"push",value:function e(t){var r={data:t,next:null};if(this.length>0)this.tail.next=r;else this.head=r;this.tail=r;++this.length}},{key:"unshift",value:function e(t){var r={data:t,next:this.head};if(this.length===0)this.tail=r;this.head=r;++this.length}},{key:"shift",value:function e(){if(this.length===0)return;var t=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return t}},{key:"clear",value:function e(){this.head=this.tail=null;this.length=0}},{key:"join",value:function e(t){if(this.length===0)return"";var r=this.head;var n=""+r.data;while(r=r.next){n+=t+r.data}return n}},{key:"concat",value:function e(t){if(this.length===0)return l.alloc(0);var r=l.allocUnsafe(t>>>0);var n=this.head;var i=0;while(n){p(n.data,r,i);i+=n.data.length;n=n.next}return r}},{key:"consume",value:function e(t,r){var n;if(t<this.head.data.length){n=this.head.data.slice(0,t);this.head.data=this.head.data.slice(t)}else if(t===this.head.data.length){n=this.shift()}else{n=r?this._getString(t):this._getBuffer(t)}return n}},{key:"first",value:function e(){return this.head.data}},{key:"_getString",value:function e(t){var r=this.head;var n=1;var i=r.data;t-=i.length;while(r=r.next){var a=r.data;var s=t>a.length?a.length:t;if(s===a.length)i+=a;else i+=a.slice(0,t);t-=s;if(t===0){if(s===a.length){++n;if(r.next)this.head=r.next;else this.head=this.tail=null}else{this.head=r;r.data=a.slice(s)}break}++n}this.length-=n;return i}},{key:"_getBuffer",value:function e(t){var r=l.allocUnsafe(t);var n=this.head;var i=1;n.data.copy(r);t-=n.data.length;while(n=n.next){var a=n.data;var s=t>a.length?a.length:t;a.copy(r,r.length-t,0,s);t-=s;if(t===0){if(s===a.length){++i;if(n.next)this.head=n.next;else this.head=this.tail=null}else{this.head=n;n.data=a.slice(s)}break}++i}this.length-=i;return r}},{key:h,value:function e(t,r){return d(this,i({},r,{depth:0,customInspect:false}))}}]);return e}()},,function(y,e,_){"use strict";(function(s){var e;function n(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var a=_(202);var o=Symbol("lastResolve");var f=Symbol("lastReject");var u=Symbol("error");var l=Symbol("ended");var c=Symbol("lastPromise");var d=Symbol("handlePromise");var h=Symbol("stream");function p(e,t){return{value:e,done:t}}function t(e){var t=e[o];if(t!==null){var r=e[h].read();if(r!==null){e[c]=null;e[o]=null;e[f]=null;t(p(r,false))}}}function b(e){s.nextTick(t,e)}function g(r,n){return function(e,t){r.then(function(){if(n[l]){e(p(undefined,true));return}n[d](e,t)},t)}}var r=Object.getPrototypeOf(function(){});var v=Object.setPrototypeOf((e={get stream(){return this[h]},next:function e(){var r=this;var t=this[u];if(t!==null){return Promise.reject(t)}if(this[l]){return Promise.resolve(p(undefined,true))}if(this[h].destroyed){return new Promise(function(e,t){s.nextTick(function(){if(r[u]){t(r[u])}else{e(p(undefined,true))}})})}var n=this[c];var i;if(n){i=new Promise(g(n,this))}else{var a=this[h].read();if(a!==null){return Promise.resolve(p(a,false))}i=new Promise(this[d])}this[c]=i;return i}},n(e,Symbol.asyncIterator,function(){return this}),n(e,"return",function e(){var n=this;return new Promise(function(t,r){n[h].destroy(null,function(e){if(e){r(e);return}t(p(undefined,true))})})}),e),r);var i=function e(t){var r;var i=Object.create(v,(r={},n(r,h,{value:t,writable:true}),n(r,o,{value:null,writable:true}),n(r,f,{value:null,writable:true}),n(r,u,{value:null,writable:true}),n(r,l,{value:t._readableState.endEmitted,writable:true}),n(r,d,{value:function e(t,r){var n=i[h].read();if(n){i[c]=null;i[o]=null;i[f]=null;t(p(n,false))}else{i[o]=t;i[f]=r}},writable:true}),r));i[c]=null;a(t,function(e){if(e&&e.code!=="ERR_STREAM_PREMATURE_CLOSE"){var t=i[f];if(t!==null){i[c]=null;i[o]=null;i[f]=null;t(e)}i[u]=e;return}var r=i[o];if(r!==null){i[c]=null;i[o]=null;i[f]=null;r(p(undefined,true))}i[l]=true});t.on("readable",b.bind(null,i));return i};y.exports=i}).call(this,_(74))},function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(e,t,r){"use strict";e.exports=i;var n=r(234);r(158)(i,n);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}i.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,s){"use strict";var o;function f(e){var t=false;return function(){if(t)return;t=true;e.apply(void 0,arguments)}}var r=s(169).codes,n=r.ERR_MISSING_ARGS,u=r.ERR_STREAM_DESTROYED;function i(e){if(e)throw e}function l(e){return e.setHeader&&typeof e.abort==="function"}function c(t,e,r,n){n=f(n);var i=false;t.on("close",function(){i=true});if(o===undefined)o=s(202);o(t,{readable:e,writable:r},function(e){if(e)return n(e);i=true;n()});var a=false;return function(e){if(i)return;if(a)return;a=true;if(l(t))return t.abort();if(typeof t.destroy==="function")return t.destroy();n(e||new u("pipe"))}}function d(e){e()}function h(e,t){return e.pipe(t)}function p(e){if(!e.length)return i;if(typeof e[e.length-1]!=="function")return i;return e.pop()}function a(){for(var e=arguments.length,i=new Array(e),t=0;t<e;t++){i[t]=arguments[t]}var a=p(i);if(Array.isArray(i[0]))i=i[0];if(i.length<2){throw new n("streams")}var s;var o=i.map(function(e,t){var r=t<i.length-1;var n=t>0;return c(e,r,n,function(e){if(!s)s=e;if(e)o.forEach(d);if(r)return;o.forEach(d);a(s)})});return i.reduce(h)}e.exports=a},function(e,t,r){(function(n){var i=r(356).strict;e.exports=function e(t){if(i(t)){var r=n.from(t.buffer);if(t.byteLength!==t.buffer.byteLength){r=r.slice(t.byteOffset,t.byteOffset+t.byteLength)}return r}else{return n.from(t)}}}).call(this,r(73).Buffer)},function(e,t){e.exports=i;i.strict=a;i.loose=s;var r=Object.prototype.toString;var n={"[object Int8Array]":true,"[object Int16Array]":true,"[object Int32Array]":true,"[object Uint8Array]":true,"[object Uint8ClampedArray]":true,"[object Uint16Array]":true,"[object Uint32Array]":true,"[object Float32Array]":true,"[object Float64Array]":true};function i(e){return a(e)||s(e)}function a(e){return e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function s(e){return n[r.call(e)]}},,function(e,t,r){"use strict";const n=["^npm-debug\\.log$","^\\..*\\.swp$","^\\.DS_Store$","^\\.AppleDouble$","^\\.LSOverride$","^Icon\\r$","^\\._.*","^\\.Spotlight-V100(?:$|\\/)","\\.Trashes","^__MACOSX$","~$","^Thumbs\\.db$","^ehthumbs\\.db$","^Desktop\\.ini$","@eaDir$"];t.re=()=>{throw new Error("`junk.re` was renamed to `junk.regex`")};t.regex=new RegExp(n.join("|"));t.is=e=>t.regex.test(e);t.not=e=>!t.is(e);t.default=e.exports},function(e,t,r){t=e.exports=r(236);t.Stream=t;t.Readable=t;t.Writable=r(240);t.Duplex=r(172);t.Transform=r(241);t.PassThrough=r(365);t.finished=r(203);t.pipeline=r(366)},,function(e,t,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);if(e)n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable});r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};if(e%2){n(Object(r),true).forEach(function(e){a(t,e,r[e])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))}else{n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}}return t}function a(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function f(e,t,r){if(t)o(e.prototype,t);if(r)o(e,r);return e}var u=r(73),l=u.Buffer;var c=r(362),d=c.inspect;var h=d&&d.custom||"inspect";function p(e,t,r){l.prototype.copy.call(e,t,r)}e.exports=function(){function e(){s(this,e);this.head=null;this.tail=null;this.length=0}f(e,[{key:"push",value:function e(t){var r={data:t,next:null};if(this.length>0)this.tail.next=r;else this.head=r;this.tail=r;++this.length}},{key:"unshift",value:function e(t){var r={data:t,next:this.head};if(this.length===0)this.tail=r;this.head=r;++this.length}},{key:"shift",value:function e(){if(this.length===0)return;var t=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return t}},{key:"clear",value:function e(){this.head=this.tail=null;this.length=0}},{key:"join",value:function e(t){if(this.length===0)return"";var r=this.head;var n=""+r.data;while(r=r.next){n+=t+r.data}return n}},{key:"concat",value:function e(t){if(this.length===0)return l.alloc(0);var r=l.allocUnsafe(t>>>0);var n=this.head;var i=0;while(n){p(n.data,r,i);i+=n.data.length;n=n.next}return r}},{key:"consume",value:function e(t,r){var n;if(t<this.head.data.length){n=this.head.data.slice(0,t);this.head.data=this.head.data.slice(t)}else if(t===this.head.data.length){n=this.shift()}else{n=r?this._getString(t):this._getBuffer(t)}return n}},{key:"first",value:function e(){return this.head.data}},{key:"_getString",value:function e(t){var r=this.head;var n=1;var i=r.data;t-=i.length;while(r=r.next){var a=r.data;var s=t>a.length?a.length:t;if(s===a.length)i+=a;else i+=a.slice(0,t);t-=s;if(t===0){if(s===a.length){++n;if(r.next)this.head=r.next;else this.head=this.tail=null}else{this.head=r;r.data=a.slice(s)}break}++n}this.length-=n;return i}},{key:"_getBuffer",value:function e(t){var r=l.allocUnsafe(t);var n=this.head;var i=1;n.data.copy(r);t-=n.data.length;while(n=n.next){var a=n.data;var s=t>a.length?a.length:t;a.copy(r,r.length-t,0,s);t-=s;if(t===0){if(s===a.length){++i;if(n.next)this.head=n.next;else this.head=this.tail=null}else{this.head=n;n.data=a.slice(s)}break}++i}this.length-=i;return r}},{key:h,value:function e(t,r){return d(this,i({},r,{depth:0,customInspect:false}))}}]);return e}()},,function(y,e,_){"use strict";(function(s){var e;function n(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var a=_(203);var o=Symbol("lastResolve");var f=Symbol("lastReject");var u=Symbol("error");var l=Symbol("ended");var c=Symbol("lastPromise");var d=Symbol("handlePromise");var h=Symbol("stream");function p(e,t){return{value:e,done:t}}function t(e){var t=e[o];if(t!==null){var r=e[h].read();if(r!==null){e[c]=null;e[o]=null;e[f]=null;t(p(r,false))}}}function b(e){s.nextTick(t,e)}function g(r,n){return function(e,t){r.then(function(){if(n[l]){e(p(undefined,true));return}n[d](e,t)},t)}}var r=Object.getPrototypeOf(function(){});var v=Object.setPrototypeOf((e={get stream(){return this[h]},next:function e(){var r=this;var t=this[u];if(t!==null){return Promise.reject(t)}if(this[l]){return Promise.resolve(p(undefined,true))}if(this[h].destroyed){return new Promise(function(e,t){s.nextTick(function(){if(r[u]){t(r[u])}else{e(p(undefined,true))}})})}var n=this[c];var i;if(n){i=new Promise(g(n,this))}else{var a=this[h].read();if(a!==null){return Promise.resolve(p(a,false))}i=new Promise(this[d])}this[c]=i;return i}},n(e,Symbol.asyncIterator,function(){return this}),n(e,"return",function e(){var n=this;return new Promise(function(t,r){n[h].destroy(null,function(e){if(e){r(e);return}t(p(undefined,true))})})}),e),r);var i=function e(t){var r;var i=Object.create(v,(r={},n(r,h,{value:t,writable:true}),n(r,o,{value:null,writable:true}),n(r,f,{value:null,writable:true}),n(r,u,{value:null,writable:true}),n(r,l,{value:t._readableState.endEmitted,writable:true}),n(r,d,{value:function e(t,r){var n=i[h].read();if(n){i[c]=null;i[o]=null;i[f]=null;t(p(n,false))}else{i[o]=t;i[f]=r}},writable:true}),r));i[c]=null;a(t,function(e){if(e&&e.code!=="ERR_STREAM_PREMATURE_CLOSE"){var t=i[f];if(t!==null){i[c]=null;i[o]=null;i[f]=null;t(e)}i[u]=e;return}var r=i[o];if(r!==null){i[c]=null;i[o]=null;i[f]=null;r(p(undefined,true))}i[l]=true});t.on("readable",b.bind(null,i));return i};y.exports=i}).call(this,_(74))},function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(e,t,r){"use strict";e.exports=i;var n=r(241);r(158)(i,n);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}i.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,s){"use strict";var o;function f(e){var t=false;return function(){if(t)return;t=true;e.apply(void 0,arguments)}}var r=s(171).codes,n=r.ERR_MISSING_ARGS,u=r.ERR_STREAM_DESTROYED;function i(e){if(e)throw e}function l(e){return e.setHeader&&typeof e.abort==="function"}function c(t,e,r,n){n=f(n);var i=false;t.on("close",function(){i=true});if(o===undefined)o=s(203);o(t,{readable:e,writable:r},function(e){if(e)return n(e);i=true;n()});var a=false;return function(e){if(i)return;if(a)return;a=true;if(l(t))return t.abort();if(typeof t.destroy==="function")return t.destroy();n(e||new u("pipe"))}}function d(e){e()}function h(e,t){return e.pipe(t)}function p(e){if(!e.length)return i;if(typeof e[e.length-1]!=="function")return i;return e.pop()}function a(){for(var e=arguments.length,i=new Array(e),t=0;t<e;t++){i[t]=arguments[t]}var a=p(i);if(Array.isArray(i[0]))i=i[0];if(i.length<2){throw new n("streams")}var s;var o=i.map(function(e,t){var r=t<i.length-1;var n=t>0;return c(e,r,n,function(e){if(!s)s=e;if(e)o.forEach(d);if(r)return;o.forEach(d);a(s)})});return i.reduce(h)}e.exports=a},,function(e,t,r){const n=r(242);let i;let a;let s;function o(){i=n.createWorker();a=1;s={};i.onmessage=function e(t){const r=t.data.id;const n=s[r];delete s[r];if(t.data.error!=null){n(new Error("Rusha worker error: "+t.data.error))}else{n(null,t.data.hash)}}}function f(e,t){if(!i)o();s[a]=t;i.postMessage({id:a,data:e});a+=1}e.exports=f},function(e,t,r){t=e.exports=r(243);t.Stream=t;t.Readable=t;t.Writable=r(247);t.Duplex=r(174);t.Transform=r(248);t.PassThrough=r(375);t.finished=r(204);t.pipeline=r(376)},,function(e,t,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);if(e)n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable});r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};if(e%2){n(Object(r),true).forEach(function(e){a(t,e,r[e])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))}else{n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}}return t}function a(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function f(e,t,r){if(t)o(e.prototype,t);if(r)o(e,r);return e}var u=r(73),l=u.Buffer;var c=r(372),d=c.inspect;var h=d&&d.custom||"inspect";function p(e,t,r){l.prototype.copy.call(e,t,r)}e.exports=function(){function e(){s(this,e);this.head=null;this.tail=null;this.length=0}f(e,[{key:"push",value:function e(t){var r={data:t,next:null};if(this.length>0)this.tail.next=r;else this.head=r;this.tail=r;++this.length}},{key:"unshift",value:function e(t){var r={data:t,next:this.head};if(this.length===0)this.tail=r;this.head=r;++this.length}},{key:"shift",value:function e(){if(this.length===0)return;var t=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return t}},{key:"clear",value:function e(){this.head=this.tail=null;this.length=0}},{key:"join",value:function e(t){if(this.length===0)return"";var r=this.head;var n=""+r.data;while(r=r.next){n+=t+r.data}return n}},{key:"concat",value:function e(t){if(this.length===0)return l.alloc(0);var r=l.allocUnsafe(t>>>0);var n=this.head;var i=0;while(n){p(n.data,r,i);i+=n.data.length;n=n.next}return r}},{key:"consume",value:function e(t,r){var n;if(t<this.head.data.length){n=this.head.data.slice(0,t);this.head.data=this.head.data.slice(t)}else if(t===this.head.data.length){n=this.shift()}else{n=r?this._getString(t):this._getBuffer(t)}return n}},{key:"first",value:function e(){return this.head.data}},{key:"_getString",value:function e(t){var r=this.head;var n=1;var i=r.data;t-=i.length;while(r=r.next){var a=r.data;var s=t>a.length?a.length:t;if(s===a.length)i+=a;else i+=a.slice(0,t);t-=s;if(t===0){if(s===a.length){++n;if(r.next)this.head=r.next;else this.head=this.tail=null}else{this.head=r;r.data=a.slice(s)}break}++n}this.length-=n;return i}},{key:"_getBuffer",value:function e(t){var r=l.allocUnsafe(t);var n=this.head;var i=1;n.data.copy(r);t-=n.data.length;while(n=n.next){var a=n.data;var s=t>a.length?a.length:t;a.copy(r,r.length-t,0,s);t-=s;if(t===0){if(s===a.length){++i;if(n.next)this.head=n.next;else this.head=this.tail=null}else{this.head=n;n.data=a.slice(s)}break}++i}this.length-=i;return r}},{key:h,value:function e(t,r){return d(this,i({},r,{depth:0,customInspect:false}))}}]);return e}()},,function(y,e,_){"use strict";(function(s){var e;function n(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var a=_(204);var o=Symbol("lastResolve");var f=Symbol("lastReject");var u=Symbol("error");var l=Symbol("ended");var c=Symbol("lastPromise");var d=Symbol("handlePromise");var h=Symbol("stream");function p(e,t){return{value:e,done:t}}function t(e){var t=e[o];if(t!==null){var r=e[h].read();if(r!==null){e[c]=null;e[o]=null;e[f]=null;t(p(r,false))}}}function b(e){s.nextTick(t,e)}function g(r,n){return function(e,t){r.then(function(){if(n[l]){e(p(undefined,true));return}n[d](e,t)},t)}}var r=Object.getPrototypeOf(function(){});var v=Object.setPrototypeOf((e={get stream(){return this[h]},next:function e(){var r=this;var t=this[u];if(t!==null){return Promise.reject(t)}if(this[l]){return Promise.resolve(p(undefined,true))}if(this[h].destroyed){return new Promise(function(e,t){s.nextTick(function(){if(r[u]){t(r[u])}else{e(p(undefined,true))}})})}var n=this[c];var i;if(n){i=new Promise(g(n,this))}else{var a=this[h].read();if(a!==null){return Promise.resolve(p(a,false))}i=new Promise(this[d])}this[c]=i;return i}},n(e,Symbol.asyncIterator,function(){return this}),n(e,"return",function e(){var n=this;return new Promise(function(t,r){n[h].destroy(null,function(e){if(e){r(e);return}t(p(undefined,true))})})}),e),r);var i=function e(t){var r;var i=Object.create(v,(r={},n(r,h,{value:t,writable:true}),n(r,o,{value:null,writable:true}),n(r,f,{value:null,writable:true}),n(r,u,{value:null,writable:true}),n(r,l,{value:t._readableState.endEmitted,writable:true}),n(r,d,{value:function e(t,r){var n=i[h].read();if(n){i[c]=null;i[o]=null;i[f]=null;t(p(n,false))}else{i[o]=t;i[f]=r}},writable:true}),r));i[c]=null;a(t,function(e){if(e&&e.code!=="ERR_STREAM_PREMATURE_CLOSE"){var t=i[f];if(t!==null){i[c]=null;i[o]=null;i[f]=null;t(e)}i[u]=e;return}var r=i[o];if(r!==null){i[c]=null;i[o]=null;i[f]=null;r(p(undefined,true))}i[l]=true});t.on("readable",b.bind(null,i));return i};y.exports=i}).call(this,_(74))},function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(e,t,r){"use strict";e.exports=i;var n=r(248);r(158)(i,n);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}i.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,s){"use strict";var o;function f(e){var t=false;return function(){if(t)return;t=true;e.apply(void 0,arguments)}}var r=s(173).codes,n=r.ERR_MISSING_ARGS,u=r.ERR_STREAM_DESTROYED;function i(e){if(e)throw e}function l(e){return e.setHeader&&typeof e.abort==="function"}function c(t,e,r,n){n=f(n);var i=false;t.on("close",function(){i=true});if(o===undefined)o=s(204);o(t,{readable:e,writable:r},function(e){if(e)return n(e);i=true;n()});var a=false;return function(e){if(i)return;if(a)return;a=true;if(l(t))return t.abort();if(typeof t.destroy==="function")return t.destroy();n(e||new u("pipe"))}}function d(e){e()}function h(e,t){return e.pipe(t)}function p(e){if(!e.length)return i;if(typeof e[e.length-1]!=="function")return i;return e.pop()}function a(){for(var e=arguments.length,i=new Array(e),t=0;t<e;t++){i[t]=arguments[t]}var a=p(i);if(Array.isArray(i[0]))i=i[0];if(i.length<2){throw new n("streams")}var s;var o=i.map(function(e,t){var r=t<i.length-1;var n=t>0;return c(e,r,n,function(e){if(!s)s=e;if(e)o.forEach(d);if(r)return;o.forEach(d);a(s)})});return i.reduce(h)}e.exports=a},,,,,,function(e,t,r){(function(a){/*! blob-to-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.exports=function e(t,r){if(typeof Blob==="undefined"||!(t instanceof Blob)){throw new Error("first argument must be a Blob")}if(typeof r!=="function"){throw new Error("second argument must be a function")}const n=new FileReader;function i(e){n.removeEventListener("loadend",i,false);if(e.error)r(e.error);else r(null,a.from(n.result))}n.addEventListener("loadend",i,false);n.readAsArrayBuffer(t)}}).call(this,r(73).Buffer)},,,function(f,e,b){(function(u,l,c){var d=b(251);var e=b(252);var t=b(253);var i=b(254);var h=b(260);var r=t.IncomingMessage;var p=t.readyStates;function a(e,t){if(d.fetch&&t){return"fetch"}else if(d.mozchunkedarraybuffer){return"moz-chunked-arraybuffer"}else if(d.msstream){return"ms-stream"}else if(d.arraybuffer&&e){return"arraybuffer"}else if(d.vbArray&&e){return"text:vbarray"}else{return"text"}}var n=f.exports=function(t){var r=this;i.Writable.call(r);r._opts=t;r._body=[];r._headers={};if(t.auth)r.setHeader("Authorization","Basic "+new u(t.auth).toString("base64"));Object.keys(t.headers).forEach(function(e){r.setHeader(e,t.headers[e])});var e;var n=true;if(t.mode==="disable-fetch"||"requestTimeout"in t&&!d.abortController){n=false;e=true}else if(t.mode==="prefer-streaming"){e=false}else if(t.mode==="allow-wrong-content-type"){e=!d.overrideMimeType}else if(!t.mode||t.mode==="default"||t.mode==="prefer-fast"){e=true}else{throw new Error("Invalid value for opts.mode")}r._mode=a(e,n);r._fetchTimer=null;r.on("finish",function(){r._onFinish()})};e(n,i.Writable);n.prototype.setHeader=function(e,t){var r=this;var n=e.toLowerCase();if(o.indexOf(n)!==-1)return;r._headers[n]={name:e,value:t}};n.prototype.getHeader=function(e){var t=this._headers[e.toLowerCase()];if(t)return t.value;return null};n.prototype.removeHeader=function(e){var t=this;delete t._headers[e.toLowerCase()]};n.prototype._onFinish=function(){var t=this;if(t._destroyed)return;var e=t._opts;var n=t._headers;var r=null;if(e.method!=="GET"&&e.method!=="HEAD"){if(d.arraybuffer){r=h(u.concat(t._body))}else if(d.blobConstructor){r=new l.Blob(t._body.map(function(e){return h(e)}),{type:(n["content-type"]||{}).value||""})}else{r=u.concat(t._body).toString()}}var i=[];Object.keys(n).forEach(function(e){var t=n[e].name;var r=n[e].value;if(Array.isArray(r)){r.forEach(function(e){i.push([t,e])})}else{i.push([t,r])}});if(t._mode==="fetch"){var a=null;var s=null;if(d.abortController){var o=new AbortController;a=o.signal;t._fetchAbortController=o;if("requestTimeout"in e&&e.requestTimeout!==0){t._fetchTimer=l.setTimeout(function(){t.emit("requestTimeout");if(t._fetchAbortController)t._fetchAbortController.abort()},e.requestTimeout)}}l.fetch(t._opts.url,{method:t._opts.method,headers:i,body:r||undefined,mode:"cors",credentials:e.withCredentials?"include":"same-origin",signal:a}).then(function(e){t._fetchResponse=e;t._connect()},function(e){l.clearTimeout(t._fetchTimer);if(!t._destroyed)t.emit("error",e)})}else{var f=t._xhr=new l.XMLHttpRequest;try{f.open(t._opts.method,t._opts.url,true)}catch(e){c.nextTick(function(){t.emit("error",e)});return}if("responseType"in f)f.responseType=t._mode.split(":")[0];if("withCredentials"in f)f.withCredentials=!!e.withCredentials;if(t._mode==="text"&&"overrideMimeType"in f)f.overrideMimeType("text/plain; charset=x-user-defined");if("requestTimeout"in e){f.timeout=e.requestTimeout;f.ontimeout=function(){t.emit("requestTimeout")}}i.forEach(function(e){f.setRequestHeader(e[0],e[1])});t._response=null;f.onreadystatechange=function(){switch(f.readyState){case p.LOADING:case p.DONE:t._onXHRProgress();break}};if(t._mode==="moz-chunked-arraybuffer"){f.onprogress=function(){t._onXHRProgress()}}f.onerror=function(){if(t._destroyed)return;t.emit("error",new Error("XHR error"))};try{f.send(r)}catch(e){c.nextTick(function(){t.emit("error",e)});return}}};function s(e){try{var t=e.status;return t!==null&&t!==0}catch(e){return false}}n.prototype._onXHRProgress=function(){var e=this;if(!s(e._xhr)||e._destroyed)return;if(!e._response)e._connect();e._response._onXHRProgress()};n.prototype._connect=function(){var t=this;if(t._destroyed)return;t._response=new r(t._xhr,t._fetchResponse,t._mode,t._fetchTimer);t._response.on("error",function(e){t.emit("error",e)});t.emit("response",t._response)};n.prototype._write=function(e,t,r){var n=this;n._body.push(e);r()};n.prototype.abort=n.prototype.destroy=function(){var e=this;e._destroyed=true;l.clearTimeout(e._fetchTimer);if(e._response)e._response._destroyed=true;if(e._xhr)e._xhr.abort();else if(e._fetchAbortController)e._fetchAbortController.abort()};n.prototype.end=function(e,t,r){var n=this;if(typeof e==="function"){r=e;e=undefined}i.Writable.prototype.end.call(n,e,t,r)};n.prototype.flushHeaders=function(){};n.prototype.setTimeout=function(){};n.prototype.setNoDelay=function(){};n.prototype.setSocketKeepAlive=function(){};var o=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","date","dnt","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","via"]}).call(this,b(73).Buffer,b(19),b(74))},,function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var a=r(206).Buffer;var i=r(388);function s(e,t,r){e.copy(t,r)}e.exports=function(){function e(){n(this,e);this.head=null;this.tail=null;this.length=0}e.prototype.push=function e(t){var r={data:t,next:null};if(this.length>0)this.tail.next=r;else this.head=r;this.tail=r;++this.length};e.prototype.unshift=function e(t){var r={data:t,next:this.head};if(this.length===0)this.tail=r;this.head=r;++this.length};e.prototype.shift=function e(){if(this.length===0)return;var t=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return t};e.prototype.clear=function e(){this.head=this.tail=null;this.length=0};e.prototype.join=function e(t){if(this.length===0)return"";var r=this.head;var n=""+r.data;while(r=r.next){n+=t+r.data}return n};e.prototype.concat=function e(t){if(this.length===0)return a.alloc(0);if(this.length===1)return this.head.data;var r=a.allocUnsafe(t>>>0);var n=this.head;var i=0;while(n){s(n.data,r,i);i+=n.data.length;n=n.next}return r};return e}();if(i&&i.inspect&&i.inspect.custom){e.exports.prototype[i.inspect.custom]=function(){var e=i.inspect({length:this.length});return this.constructor.name+" "+e}}},,function(e,t,r){"use strict";e.exports=a;var n=r(259);var i=Object.create(r(194));i.inherits=r(158);i.inherits(a,n);function a(e){if(!(this instanceof a))return new a(e);n.call(this,e)}a.prototype._transform=function(e,t,r){r(null,e)}},function(e,t){e.exports=r;var i=Object.prototype.hasOwnProperty;function r(){var e={};for(var t=0;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(i.call(r,n)){e[n]=r[n]}}}return e}},function(e,t){e.exports={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",208:"Already Reported",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",307:"Temporary Redirect",308:"Permanent Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Payload Too Large",414:"URI Too Long",415:"Unsupported Media Type",416:"Range Not Satisfiable",417:"Expectation Failed",418:"I'm a teapot",421:"Misdirected Request",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",425:"Unordered Collection",426:"Upgrade Required",428:"Precondition Required",429:"Too Many Requests",431:"Request Header Fields Too Large",451:"Unavailable For Legal Reasons",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",508:"Loop Detected",509:"Bandwidth Limit Exceeded",510:"Not Extended",511:"Network Authentication Required"}},function(e,B,U){(function(C,I){var D;/*! https://mths.be/punycode v1.4.1 by @mathias */(function(e){var t=true&&B&&!B.nodeType&&B;var r=true&&C&&!C.nodeType&&C;var n=typeof I=="object"&&I;if(n.global===n||n.window===n||n.self===n){e=n}var i,v=2147483647,y=36,_=1,m=26,a=38,s=700,w=72,S=128,E="-",o=/^xn--/,f=/[^\x20-\x7E]/,u=/[\x2E\u3002\uFF0E\uFF61]/g,l={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},c=y-_,R=Math.floor,k=String.fromCharCode,d;function x(e){throw new RangeError(l[e])}function h(e,t){var r=e.length;var n=[];while(r--){n[r]=t(e[r])}return n}function p(e,t){var r=e.split("@");var n="";if(r.length>1){n=r[0]+"@";e=r[1]}e=e.replace(u,".");var i=e.split(".");var a=h(i,t).join(".");return n+a}function T(e){var t=[],r=0,n=e.length,i,a;while(r<n){i=e.charCodeAt(r++);if(i>=55296&&i<=56319&&r<n){a=e.charCodeAt(r++);if((a&64512)==56320){t.push(((i&1023)<<10)+(a&1023)+65536)}else{t.push(i);r--}}else{t.push(i)}}return t}function g(e){return h(e,function(e){var t="";if(e>65535){e-=65536;t+=k(e>>>10&1023|55296);e=56320|e&1023}t+=k(e);return t}).join("")}function M(e){if(e-48<10){return e-22}if(e-65<26){return e-65}if(e-97<26){return e-97}return y}function O(e,t){return e+22+75*(e<26)-((t!=0)<<5)}function L(e,t,r){var n=0;e=r?R(e/s):e>>1;e+=R(e/t);for(;e>c*m>>1;n+=y){e=R(e/c)}return R(n+(c+1)*e/(e+a))}function b(e){var t=[],r=e.length,n,i=0,a=S,s=w,o,f,u,l,c,d,h,p,b;o=e.lastIndexOf(E);if(o<0){o=0}for(f=0;f<o;++f){if(e.charCodeAt(f)>=128){x("not-basic")}t.push(e.charCodeAt(f))}for(u=o>0?o+1:0;u<r;){for(l=i,c=1,d=y;;d+=y){if(u>=r){x("invalid-input")}h=M(e.charCodeAt(u++));if(h>=y||h>R((v-i)/c)){x("overflow")}i+=h*c;p=d<=s?_:d>=s+m?m:d-s;if(h<p){break}b=y-p;if(c>R(v/b)){x("overflow")}c*=b}n=t.length+1;s=L(i-l,n,l==0);if(R(i/n)>v-a){x("overflow")}a+=R(i/n);i%=n;t.splice(i++,0,a)}return g(t)}function A(e){var t,r,n,i,a,s,o,f,u,l,c,d=[],h,p,b,g;e=T(e);h=e.length;t=S;r=0;a=w;for(s=0;s<h;++s){c=e[s];if(c<128){d.push(k(c))}}n=i=d.length;if(i){d.push(E)}while(n<h){for(o=v,s=0;s<h;++s){c=e[s];if(c>=t&&c<o){o=c}}p=n+1;if(o-t>R((v-r)/p)){x("overflow")}r+=(o-t)*p;t=o;for(s=0;s<h;++s){c=e[s];if(c<t&&++r>v){x("overflow")}if(c==t){for(f=r,u=y;;u+=y){l=u<=a?_:u>=a+m?m:u-a;if(f<l){break}g=f-l;b=y-l;d.push(k(O(l+g%b,0)));f=R(g/b)}d.push(k(O(f,0)));a=L(r,p,n==i);r=0;++n}}++r;++t}return d.join("")}function P(e){return p(e,function(e){return o.test(e)?b(e.slice(4).toLowerCase()):e})}function j(e){return p(e,function(e){return f.test(e)?"xn--"+A(e):e})}i={version:"1.4.1",ucs2:{decode:T,encode:g},decode:b,encode:A,toASCII:j,toUnicode:P};if(true){!(D=function(){return i}.call(B,U,B,C),D!==undefined&&(C.exports=D))}else{}})(this)}).call(this,U(393)(e),U(19))},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){e.deprecate=function(){};e.paths=[];if(!e.children)e.children=[];Object.defineProperty(e,"loaded",{enumerable:true,get:function(){return e.l}});Object.defineProperty(e,"id",{enumerable:true,get:function(){return e.i}});e.webpackPolyfill=1}return e}},function(e,t,r){"use strict";e.exports={isString:function(e){return typeof e==="string"},isObject:function(e){return typeof e==="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}}},function(e,t,r){"use strict";function b(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,r,n){t=t||"&";r=r||"=";var i={};if(typeof e!=="string"||e.length===0){return i}var a=/\+/g;e=e.split(t);var s=1e3;if(n&&typeof n.maxKeys==="number"){s=n.maxKeys}var o=e.length;if(s>0&&o>s){o=s}for(var f=0;f<o;++f){var u=e[f].replace(a,"%20"),l=u.indexOf(r),c,d,h,p;if(l>=0){c=u.substr(0,l);d=u.substr(l+1)}else{c=u;d=""}h=decodeURIComponent(c);p=decodeURIComponent(d);if(!b(i,h)){i[h]=p}else if(g(i[h])){i[h].push(p)}else{i[h]=[i[h],p]}}return i};var g=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}},function(e,t,r){"use strict";var a=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(r,n,i,e){n=n||"&";i=i||"=";if(r===null){r=undefined}if(typeof r==="object"){return o(f(r),function(e){var t=encodeURIComponent(a(e))+i;if(s(r[e])){return o(r[e],function(e){return t+encodeURIComponent(a(e))}).join(n)}else{return t+encodeURIComponent(a(r[e]))}}).join(n)}if(!e)return"";return encodeURIComponent(a(e))+i+encodeURIComponent(a(r))};var s=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function o(e,t){if(e.map)return e.map(t);var r=[];for(var n=0;n<e.length;n++){r.push(t(e[n],n))}return r}var f=Object.keys||function(e){var t=[];for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t.push(r)}return t}},function(e,t,r){var n=r(250);var i=r(207);var a=e.exports;for(var s in n){if(n.hasOwnProperty(s))a[s]=n[s]}a.request=function(e,t){e=o(e);return n.request.call(this,e,t)};a.get=function(e,t){e=o(e);return n.get.call(this,e,t)};function o(e){if(typeof e==="string"){e=i.parse(e)}if(!e.protocol){e.protocol="https:"}if(e.protocol!=="https:"){throw new Error('Protocol "'+e.protocol+'" not supported. Expected "https:"')}return e}},function(r,e,n){(function(o){/*! magnet-uri. MIT License. WebTorrent LLC <https://webtorrent.io/opensource> */
r.exports=e;r.exports.decode=e;r.exports.encode=t;const f=n(399);const u=n(401);function e(e){const i={};const t=e.split("magnet:?")[1];const r=t&&t.length>=0?t.split("&"):[];r.forEach(e=>{const t=e.split("=");if(t.length!==2)return;const r=t[0];let n=t[1];if(r==="dn")n=decodeURIComponent(n).replace(/\+/g," ");if(r==="tr"||r==="xs"||r==="as"||r==="ws"){n=decodeURIComponent(n)}if(r==="kt")n=decodeURIComponent(n).split("+");if(r==="ix")n=Number(n);if(r==="so")n=u.parse(decodeURIComponent(n).split(","));if(i[r]){if(!Array.isArray(i[r])){i[r]=[i[r]]}i[r].push(n)}else{i[r]=n}});let n;if(i.xt){const a=Array.isArray(i.xt)?i.xt:[i.xt];a.forEach(e=>{if(n=e.match(/^urn:btih:(.{40})/)){i.infoHash=n[1].toLowerCase()}else if(n=e.match(/^urn:btih:(.{32})/)){const t=f.decode(n[1]);i.infoHash=o.from(t,"binary").toString("hex")}})}if(i.xs){const s=Array.isArray(i.xs)?i.xs:[i.xs];s.forEach(e=>{if(n=e.match(/^urn:btpk:(.{64})/)){i.publicKey=n[1].toLowerCase()}})}if(i.infoHash)i.infoHashBuffer=o.from(i.infoHash,"hex");if(i.publicKey)i.publicKeyBuffer=o.from(i.publicKey,"hex");if(i.dn)i.name=i.dn;if(i.kt)i.keywords=i.kt;i.announce=[];if(typeof i.tr==="string"||Array.isArray(i.tr)){i.announce=i.announce.concat(i.tr)}i.urlList=[];if(typeof i.as==="string"||Array.isArray(i.as)){i.urlList=i.urlList.concat(i.as)}if(typeof i.ws==="string"||Array.isArray(i.ws)){i.urlList=i.urlList.concat(i.ws)}i.peerAddresses=[];if(typeof i["x.pe"]==="string"||Array.isArray(i["x.pe"])){i.peerAddresses=i.peerAddresses.concat(i["x.pe"])}i.announce=Array.from(new Set(i.announce));i.urlList=Array.from(new Set(i.urlList));i.peerAddresses=Array.from(new Set(i.peerAddresses));return i}function t(t){t=Object.assign({},t);if(t.infoHashBuffer)t.xt=`urn:btih:${t.infoHashBuffer.toString("hex")}`;if(t.infoHash)t.xt=`urn:btih:${t.infoHash}`;if(t.publicKeyBuffer)t.xs=`urn:btpk:${t.publicKeyBuffer.toString("hex")}`;if(t.publicKey)t.xs=`urn:btpk:${t.publicKey}`;if(t.name)t.dn=t.name;if(t.keywords)t.kt=t.keywords;if(t.announce)t.tr=t.announce;if(t.urlList){t.ws=t.urlList;delete t.as}if(t.peerAddresses)t["x.pe"]=t.peerAddresses;let i="magnet:?";Object.keys(t).filter(e=>e.length===2||e==="x.pe").forEach((r,n)=>{const e=Array.isArray(t[r])?t[r]:[t[r]];e.forEach((e,t)=>{if((n>0||t>0)&&(r!=="kt"&&r!=="so"||t===0))i+="&";if(r==="dn")e=encodeURIComponent(e).replace(/%20/g,"+");if(r==="tr"||r==="as"||r==="ws"){e=encodeURIComponent(e)}if(r==="xs"&&!e.startsWith("urn:btpk:")){e=encodeURIComponent(e)}if(r==="kt")e=encodeURIComponent(e);if(r==="so")return;if(r==="kt"&&t>0)i+=`+${e}`;else i+=`${r}=${e}`});if(r==="so")i+=`${r}=${u.compose(e)}`});return i}}).call(this,n(73).Buffer)},function(e,t,r){var n=r(400);t.encode=n.encode;t.decode=n.decode},function(e,t,r){"use strict";(function(f){var o="ABCDEFGHIJKLMNOPQRSTUVWXYZ234567";var u=[255,255,26,27,28,29,30,31,255,255,255,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255,255,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,255,255,255,255,255];function l(e){var t=Math.floor(e.length/5);return e.length%5===0?t:t+1}t.encode=function(e){if(!f.isBuffer(e)){e=new f(e)}var t=0;var r=0;var n=0;var i=0;var a=new f(l(e)*8);while(t<e.length){var s=e[t];if(n>3){i=s&255>>n;n=(n+5)%8;i=i<<n|(t+1<e.length?e[t+1]:0)>>8-n;t++}else{i=s>>8-(n+5)&31;n=(n+5)%8;if(n===0)t++}a[r]=o.charCodeAt(i);r++}for(t=r;t<a.length;t++){a[t]=61}return a};t.decode=function(e){var t=0;var r=0;var n;var i=0;if(!f.isBuffer(e)){e=new f(e)}var a=new f(Math.ceil(e.length*5/8));for(var s=0;s<e.length;s++){if(e[s]===61){break}var o=e[s]-48;if(o<u.length){r=u[o];if(t<=3){t=(t+5)%8;if(t===0){n|=r;a[i]=n;i++;n=0}else{n|=255&r<<8-t}}else{t=(t+5)%8;n|=255&r>>>t;a[i]=n;i++;n=255&r<<8-t}}else{throw new Error("Invalid input - it is not base32 encoded string")}}return a.slice(0,i)}}).call(this,r(73).Buffer)},function(e,t){e.exports=n;e.exports.parse=n;e.exports.compose=r;function r(e){return e.reduce((e,t,r,n)=>{if(r===0||t!==n[r-1]+1)e.push([]);e[e.length-1].push(t);return e},[]).map(e=>{return e.length>1?`${e[0]}-${e[e.length-1]}`:`${e[0]}`})}function n(e){const a=(r,e=r)=>Array.from({length:e-r+1},(e,t)=>t+r);return e.reduce((e,t,r,n)=>{const i=t.split("-").map(e=>parseInt(e));return e.concat(a(...i))},[])}},,,,,,,,,,function(Q,e,Z){(function(e,t){const i=Z(412);const r=Z(199).default;const a=Z(413);const n=Z(422);const s=Z(161)("webtorrent:torrent");const o=Z(423);const f=Z(159).EventEmitter;const u=Z(435);const l=Z(436);const c=Z(205);const d=Z(437);const h=Z(235);const p=Z(438);const b=Z(439);const g=Z(192);const v=Z(440);const y=Z(249);const _=Z(22);const m=Z(441);const w=Z(290);const S=Z(164);const E=Z(443);const R=Z(193);const k=Z(209);const x=Z(444);const T=Z(445);const M=Z(446);const O=Z(447);const L=Z(495);const A=Z(504);const P=Z(505);const j=Z(506);const C=128*1024;const I=3e4;const D=5e3;const B=3*m.BLOCK_LENGTH;const U=.5;const N=1;const W=1e4;const q=2;const H=e.browser?n().length:2;const F=[1e3,5e3,15e3];const K=Z(218).version;const V=`WebTorrent/${K} (https://webtorrent.io)`;let z;try{z=_.join(u.statSync("/tmp")&&"/tmp","webtorrent")}catch(e){z=_.join(typeof b.tmpdir==="function"?b.tmpdir():"/","webtorrent")}class G extends f{constructor(e,t,r){super();this._debugId="unknown infohash";this.client=t;this.announce=r.announce;this.urlList=r.urlList;this.path=r.path;this.skipVerify=!!r.skipVerify;this._store=r.store||l;this._preloadedStore=r.preloadedStore||null;this._destroyStoreOnDestroy=r.destroyStoreOnDestroy||false;this._getAnnounceOpts=r.getAnnounceOpts;if(typeof r.private==="boolean")this.private=r.private;this.strategy=r.strategy||"sequential";this.maxWebConns=r.maxWebConns||4;this._rechokeNumSlots=r.uploads===false||r.uploads===0?0:+r.uploads||10;this._rechokeOptimisticWire=null;this._rechokeOptimisticTime=0;this._rechokeIntervalId=null;this.ready=false;this.destroyed=false;this.paused=false;this.done=false;this.metadata=null;this.store=null;this.files=[];this.pieces=[];this._amInterested=false;this._selections=[];this._critical=[];this.wires=[];this._queue=[];this._peers={};this._peersLength=0;this.received=0;this.uploaded=0;this._downloadSpeed=k();this._uploadSpeed=k();this._servers=[];this._xsRequests=[];this._fileModtimes=r.fileModtimes;if(e!==null)this._onTorrentId(e);this._debug("new torrent")}get timeRemaining(){if(this.done)return 0;if(this.downloadSpeed===0)return Infinity;return(this.length-this.downloaded)/this.downloadSpeed*1e3}get downloaded(){if(!this.bitfield)return 0;let r=0;for(let e=0,t=this.pieces.length;e<t;++e){if(this.bitfield.get(e)){r+=e===t-1?this.lastPieceLength:this.pieceLength}else{const n=this.pieces[e];r+=n.length-n.missing}}return r}get downloadSpeed(){return this._downloadSpeed()}get uploadSpeed(){return this._uploadSpeed()}get progress(){return this.length?this.downloaded/this.length:0}get ratio(){return this.uploaded/(this.received||this.length)}get numPeers(){return this.wires.length}get torrentFileBlobURL(){if(typeof window==="undefined")throw new Error("browser-only property");if(!this.torrentFile)return null;return URL.createObjectURL(new Blob([this.torrentFile],{type:"application/x-bittorrent"}))}get _numQueued(){return this._queue.length+(this._peersLength-this._numConns)}get _numConns(){let e=0;for(const t in this._peers){if(this._peers[t].connected)e+=1}return e}get swarm(){console.warn("WebTorrent: `torrent.swarm` is deprecated. Use `torrent` directly instead.");return this}_onTorrentId(e){if(this.destroyed)return;let t;try{t=y(e)}catch(e){}if(t){this.infoHash=t.infoHash;this._debugId=t.infoHash.toString("hex").substring(0,7);S(()=>{if(this.destroyed)return;this._onParsedTorrent(t)})}else{y.remote(e,(e,t)=>{if(this.destroyed)return;if(e)return this._destroy(e);this._onParsedTorrent(t)})}}_onParsedTorrent(e){if(this.destroyed)return;this._processParsedTorrent(e);if(!this.infoHash){return this._destroy(new Error("Malformed torrent data: No info hash"))}if(!this.path)this.path=_.join(z,this.infoHash);this._rechokeIntervalId=setInterval(()=>{this._rechoke()},W);if(this._rechokeIntervalId.unref)this._rechokeIntervalId.unref();this.emit("_infoHash",this.infoHash);if(this.destroyed)return;this.emit("infoHash",this.infoHash);if(this.destroyed)return;if(this.client.listening){this._onListening()}else{this.client.once("listening",()=>{this._onListening()})}}_processParsedTorrent(e){this._debugId=e.infoHash.toString("hex").substring(0,7);if(typeof this.private!=="undefined"){e.private=this.private}if(this.announce){e.announce=e.announce.concat(this.announce)}if(this.client.tracker&&t.WEBTORRENT_ANNOUNCE&&!e.private){e.announce=e.announce.concat(t.WEBTORRENT_ANNOUNCE)}if(this.urlList){e.urlList=e.urlList.concat(this.urlList)}e.announce=Array.from(new Set(e.announce));e.urlList=Array.from(new Set(e.urlList));Object.assign(this,e);this.magnetURI=y.toMagnetURI(e);this.torrentFile=y.toTorrentFile(e)}_onListening(){if(this.destroyed)return;if(this.info){this._onMetadata(this)}else{if(this.xs)this._getMetadataFromServer();this._startDiscovery()}}_startDiscovery(){if(this.discovery||this.destroyed)return;let e=this.client.tracker;if(e){e=Object.assign({},this.client.tracker,{getAnnounceOpts:()=>{const e={uploaded:this.uploaded,downloaded:this.downloaded,left:Math.max(this.length-this.downloaded,0)};if(this.client.tracker.getAnnounceOpts){Object.assign(e,this.client.tracker.getAnnounceOpts())}if(this._getAnnounceOpts){Object.assign(e,this._getAnnounceOpts())}return e}})}if(this.peerAddresses){this.peerAddresses.forEach(e=>this.addPeer(e))}this.discovery=new o({infoHash:this.infoHash,announce:this.announce,peerId:this.client.peerId,dht:!this.private&&this.client.dht,tracker:e,port:this.client.torrentPort,userAgent:V,lsd:this.client.lsd});this.discovery.on("error",e=>{this._destroy(e)});this.discovery.on("peer",(e,t)=>{this._debug("peer %s discovered via %s",e,t);if(typeof e==="string"&&this.done)return;this.addPeer(e)});this.discovery.on("trackerAnnounce",()=>{this.emit("trackerAnnounce");if(this.numPeers===0)this.emit("noPeers","tracker")});this.discovery.on("dhtAnnounce",()=>{this.emit("dhtAnnounce");if(this.numPeers===0)this.emit("noPeers","dht")});this.discovery.on("warning",e=>{this.emit("warning",e)})}_getMetadataFromServer(){const s=this;const e=Array.isArray(this.xs)?this.xs:[this.xs];const t=e.map(t=>e=>{r(t,e)});g(t);function r(i,a){if(i.indexOf("http://")!==0&&i.indexOf("https://")!==0){s.emit("warning",new Error(`skipping non-http xs param: ${i}`));return a(null)}const e={url:i,method:"GET",headers:{"user-agent":V}};let t;try{t=c.concat(e,r)}catch(e){s.emit("warning",new Error(`skipping invalid url xs param: ${i}`));return a(null)}s._xsRequests.push(t);function r(e,t,r){if(s.destroyed)return a(null);if(s.metadata)return a(null);if(e){s.emit("warning",new Error(`http error from xs param: ${i}`));return a(null)}if(t.statusCode!==200){s.emit("warning",new Error(`non-200 status code ${t.statusCode} from xs param: ${i}`));return a(null)}let n;try{n=y(r)}catch(e){}if(!n){s.emit("warning",new Error(`got invalid torrent file from xs param: ${i}`));return a(null)}if(n.infoHash!==s.infoHash){s.emit("warning",new Error(`got torrent file with incorrect info hash from xs param: ${i}`));return a(null)}s._onMetadata(n);a(null)}}}_onMetadata(e){if(this.metadata||this.destroyed)return;this._debug("got metadata");this._xsRequests.forEach(e=>{e.abort()});this._xsRequests=[];let t;if(e&&e.infoHash){t=e}else{try{t=y(e)}catch(e){return this._destroy(e)}}this._processParsedTorrent(t);this.metadata=this.torrentFile;if(this.client.enableWebSeeds){this.urlList.forEach(e=>{this.addWebSeed(e)})}this._rarityMap=new A(this);this.store=new d(this._preloadedStore||new this._store(this.pieceLength,{torrent:{infoHash:this.infoHash},files:this.files.map(e=>({path:_.join(this.path,e.path),length:e.length,offset:e.offset})),length:this.length,name:this.infoHash}));this.files=this.files.map(e=>new O(this,e));if(this.so){this.files.forEach((e,t)=>{if(this.so.includes(t)){this.files[t].select()}else{this.files[t].deselect()}})}else{if(this.pieces.length!==0){this.select(0,this.pieces.length-1,false)}}this._hashes=this.pieces;this.pieces=this.pieces.map((e,t)=>{const r=t===this.pieces.length-1?this.lastPieceLength:this.pieceLength;return new m(r)});this._reservations=this.pieces.map(()=>[]);this.bitfield=new r(this.pieces.length);this.wires.forEach(e=>{if(e.ut_metadata)e.ut_metadata.setMetadata(this.metadata);this._onWireWithMetadata(e)});this.emit("metadata");if(this.destroyed)return;if(this.skipVerify){this._markAllVerified();this._onStore()}else{const n=e=>{if(e)return this._destroy(e);this._debug("done verifying");this._onStore()};this._debug("verifying existing torrent data");if(this._fileModtimes&&this._store===l){this.getFileModtimes((e,r)=>{if(e)return this._destroy(e);const t=this.files.map((e,t)=>r[t]===this._fileModtimes[t]).every(e=>e);if(t){this._markAllVerified();this._onStore()}else{this._verifyPieces(n)}})}else{this._verifyPieces(n)}}}getFileModtimes(t){const i=[];v(this.files.map((e,n)=>r=>{u.stat(_.join(this.path,e.path),(e,t)=>{if(e&&e.code!=="ENOENT")return r(e);i[n]=t&&t.mtime.getTime();r(null)})}),H,e=>{this._debug("done getting file modtimes");t(e,i)})}_verifyPieces(e){v(this.pieces.map((e,n)=>r=>{if(this.destroyed)return r(new Error("torrent is destroyed"));const e={};if(n===this.pieces.length-1){e.length=this.lastPieceLength}this.store.get(n,e,(e,t)=>{if(this.destroyed)return r(new Error("torrent is destroyed"));if(e)return S(()=>r(null));R(t,e=>{if(this.destroyed)return r(new Error("torrent is destroyed"));if(e===this._hashes[n]){this._debug("piece verified %s",n);this._markVerified(n)}else{this._debug("piece invalid %s",n)}r(null)})})}),H,e)}rescanFiles(t){if(this.destroyed)throw new Error("torrent is destroyed");if(!t)t=J;this._verifyPieces(e=>{if(e){this._destroy(e);return t(e)}this._checkDone();t(null)})}_markAllVerified(){for(let e=0;e<this.pieces.length;e++){this._markVerified(e)}}_markVerified(e){this.pieces[e]=null;this._reservations[e]=null;this.bitfield.set(e,true)}_onStore(){if(this.destroyed)return;this._debug("on store");this._startDiscovery();this.ready=true;this.emit("ready");this._checkDone();this._updateSelections()}destroy(e,t){if(typeof e==="function")return this.destroy(null,e);this._destroy(null,e,t)}_destroy(e,r,t){if(typeof r==="function")return this._destroy(e,null,r);if(this.destroyed)return;this.destroyed=true;this._debug("destroy");this.client._remove(this);clearInterval(this._rechokeIntervalId);this._xsRequests.forEach(e=>{e.abort()});if(this._rarityMap){this._rarityMap.destroy()}for(const i in this._peers){this.removePeer(i)}this.files.forEach(e=>{if(e instanceof O)e._destroy()});const n=this._servers.map(t=>e=>{t.destroy(e)});if(this.discovery){n.push(e=>{this.discovery.destroy(e)})}if(this.store){let t=this._destroyStoreOnDestroy;if(r&&r.destroyStore!==undefined){t=r.destroyStore}n.push(e=>{if(t){this.store.destroy(e)}else{this.store.close(e)}})}g(n,t);if(e){if(this.listenerCount("error")===0){this.client.emit("error",e)}else{this.emit("error",e)}}this.emit("close");this.client=null;this.files=[];this.discovery=null;this.store=null;this._rarityMap=null;this._peers=null;this._servers=null;this._xsRequests=null}addPeer(r){if(this.destroyed)throw new Error("torrent is destroyed");if(!this.infoHash)throw new Error("addPeer() must not be called before the `infoHash` event");if(this.client.blocked){let t;if(typeof r==="string"){let e;try{e=i(r)}catch(e){this._debug("ignoring peer: invalid %s",r);this.emit("invalidPeer",r);return false}t=e[0]}else if(typeof r.remoteAddress==="string"){t=r.remoteAddress}if(t&&this.client.blocked.contains(t)){this._debug("ignoring peer: blocked %s",r);if(typeof r!=="string")r.destroy();this.emit("blockedPeer",r);return false}}const e=!!this._addPeer(r,this.client.utp?"utp":"tcp");if(e){this.emit("peer",r)}else{this.emit("invalidPeer",r)}return e}_addPeer(e,t){if(this.destroyed){if(typeof e!=="string")e.destroy();return null}if(typeof e==="string"&&!this._validAddr(e)){this._debug("ignoring peer: invalid %s",e);return null}const r=e&&e.id||e;if(this._peers[r]){this._debug("ignoring peer: duplicate (%s)",r);if(typeof e!=="string")e.destroy();return null}if(this.paused){this._debug("ignoring peer: torrent is paused");if(typeof e!=="string")e.destroy();return null}this._debug("add peer %s",r);let n;if(typeof e==="string"){n=t==="utp"?L.createUTPOutgoingPeer(e,this):L.createTCPOutgoingPeer(e,this)}else{n=L.createWebRTCPeer(e,this)}this._peers[n.id]=n;this._peersLength+=1;if(typeof e==="string"){this._queue.push(n);this._drain()}return n}addWebSeed(e){if(this.destroyed)throw new Error("torrent is destroyed");let t;let r;if(typeof e==="string"){t=e;if(!/^https?:\/\/.+/.test(t)){this.emit("warning",new Error(`ignoring invalid web seed: ${t}`));this.emit("invalidPeer",t);return}if(this._peers[t]){this.emit("warning",new Error(`ignoring duplicate web seed: ${t}`));this.emit("invalidPeer",t);return}r=new j(t,this)}else if(e&&typeof e.connId==="string"){r=e;t=r.connId;if(this._peers[t]){this.emit("warning",new Error(`ignoring duplicate web seed: ${t}`));this.emit("invalidPeer",t);return}}else{this.emit("warning",new Error("addWebSeed must be passed a string or connection object with id property"));return}this._debug("add web seed %s",t);const n=L.createWebSeedPeer(r,t,this);this._peers[n.id]=n;this._peersLength+=1;this.emit("peer",t)}_addIncomingPeer(e){if(this.destroyed)return e.destroy(new Error("torrent is destroyed"));if(this.paused)return e.destroy(new Error("torrent is paused"));this._debug("add incoming peer %s",e.id);this._peers[e.id]=e;this._peersLength+=1}removePeer(e){const t=e&&e.id||e;e=this._peers[t];if(!e)return;this._debug("removePeer %s",t);delete this._peers[t];this._peersLength-=1;e.destroy();this._drain()}select(e,t,r,n){if(this.destroyed)throw new Error("torrent is destroyed");if(e<0||t<e||this.pieces.length<=t){throw new Error(`invalid selection ${e} : ${t}`)}r=Number(r)||0;this._debug("select %s-%s (priority %s)",e,t,r);this._selections.push({from:e,to:t,offset:0,priority:r,notify:n||J});this._selections.sort((e,t)=>t.priority-e.priority);this._updateSelections()}deselect(t,r,n){if(this.destroyed)throw new Error("torrent is destroyed");n=Number(n)||0;this._debug("deselect %s-%s (priority %s)",t,r,n);for(let e=0;e<this._selections.length;++e){const i=this._selections[e];if(i.from===t&&i.to===r&&i.priority===n){this._selections.splice(e,1);break}}this._updateSelections()}critical(t,r){if(this.destroyed)throw new Error("torrent is destroyed");this._debug("critical %s-%s",t,r);for(let e=t;e<=r;++e){this._critical[e]=true}this._updateSelections()}_onWire(t,r){this._debug("got wire %s (%s)",t._debugId,r||"Unknown");t.on("download",e=>{if(this.destroyed)return;this.received+=e;this._downloadSpeed(e);this.client._downloadSpeed(e);this.emit("download",e);if(this.destroyed)return;this.client.emit("download",e)});t.on("upload",e=>{if(this.destroyed)return;this.uploaded+=e;this._uploadSpeed(e);this.client._uploadSpeed(e);this.emit("upload",e);if(this.destroyed)return;this.client.emit("upload",e)});this.wires.push(t);if(r){const e=i(r);t.remoteAddress=e[0];t.remotePort=e[1]}if(this.client.dht&&this.client.dht.listening){t.on("port",e=>{if(this.destroyed||this.client.dht.destroyed){return}if(!t.remoteAddress){return this._debug("ignoring PORT from peer with no address")}if(e===0||e>65536){return this._debug("ignoring invalid PORT from peer")}this._debug("port: %s (from %s)",e,r);this.client.dht.addNode({host:t.remoteAddress,port:e})})}t.on("timeout",()=>{this._debug("wire timeout (%s)",r);t.destroy()});t.setTimeout(I,true);t.setKeepAlive(true);t.use(x(this.metadata));t.ut_metadata.on("warning",e=>{this._debug("ut_metadata warning: %s",e.message)});if(!this.metadata){t.ut_metadata.on("metadata",e=>{this._debug("got metadata via ut_metadata");this._onMetadata(e)});t.ut_metadata.fetch()}if(typeof M==="function"&&!this.private){t.use(M());t.ut_pex.on("peer",e=>{if(this.done)return;this._debug("ut_pex: got peer: %s (from %s)",e,r);this.addPeer(e)});t.ut_pex.on("dropped",e=>{const t=this._peers[e];if(t&&!t.connected){this._debug("ut_pex: dropped peer: %s (from %s)",e,r);this.removePeer(e)}});t.once("close",()=>{t.ut_pex.reset()})}this.emit("wire",t,r);if(this.metadata){S(()=>{this._onWireWithMetadata(t)})}}_onWireWithMetadata(i){let e=null;const t=()=>{if(this.destroyed||i.destroyed)return;if(this._numQueued>2*(this._numConns-this.numPeers)&&i.amInterested){i.destroy()}else{e=setTimeout(t,D);if(e.unref)e.unref()}};let r;const n=()=>{if(i.peerPieces.buffer.length!==this.bitfield.buffer.length)return;for(r=0;r<this.pieces.length;++r){if(!i.peerPieces.get(r))return}i.isSeeder=true;i.choke()};i.on("bitfield",()=>{n();this._update();this._updateWireInterest(i)});i.on("have",()=>{n();this._update();this._updateWireInterest(i)});i.once("interested",()=>{i.unchoke()});i.once("close",()=>{clearTimeout(e)});i.on("choke",()=>{clearTimeout(e);e=setTimeout(t,D);if(e.unref)e.unref()});i.on("unchoke",()=>{clearTimeout(e);this._update()});i.on("request",(e,t,r,n)=>{if(r>C){return i.destroy()}if(this.pieces[e])return;this.store.get(e,{offset:t,length:r},n)});i.bitfield(this.bitfield);this._updateWireInterest(i);if(i.peerExtensions.dht&&this.client.dht&&this.client.dht.listening){i.port(this.client.dht.address().port)}if(i.type!=="webSeed"){e=setTimeout(t,D);if(e.unref)e.unref()}i.isSeeder=false;n()}_updateSelections(){if(!this.ready||this.destroyed)return;S(()=>{this._gcSelections()});this._updateInterest();this._update()}_gcSelections(){for(let e=0;e<this._selections.length;++e){const t=this._selections[e];const r=t.offset;while(this.bitfield.get(t.from+t.offset)&&t.from+t.offset<t.to){t.offset+=1}if(r!==t.offset)t.notify();if(t.to!==t.from+t.offset)continue;if(!this.bitfield.get(t.from+t.offset))continue;this._selections.splice(e,1);e-=1;t.notify();this._updateInterest()}if(!this._selections.length)this.emit("idle")}_updateInterest(){const e=this._amInterested;this._amInterested=!!this._selections.length;this.wires.forEach(e=>this._updateWireInterest(e));if(e===this._amInterested)return;if(this._amInterested)this.emit("interested");else this.emit("uninterested")}_updateWireInterest(t){let r=false;for(let e=0;e<this.pieces.length;++e){if(this.pieces[e]&&t.peerPieces.get(e)){r=true;break}}if(r)t.interested();else t.uninterested()}_update(){if(this.destroyed)return;const e=E(this.wires);let t;while(t=e()){this._updateWireWrapper(t)}}_updateWireWrapper(e){const t=this;if(typeof window!=="undefined"&&typeof window.requestIdleCallback==="function"){window.requestIdleCallback(function(){t._updateWire(e)},{timeout:250})}else{t._updateWire(e)}}_updateWire(c){const d=this;if(c.peerChoking)return;if(!c.downloaded)return t();const e=$(c,U);if(c.requests.length>=e)return;const h=$(c,N);n(false)||n(true);function p(t,r,n,i){return e=>e>=t&&e<=r&&!(e in n)&&c.peerPieces.get(e)&&(!i||i(e))}function t(){if(c.requests.length)return;let e=d._selections.length;while(e--){const r=d._selections[e];let t;if(d.strategy==="rarest"){const n=r.from+r.offset;const i=r.to;const a=i-n+1;const s={};let e=0;const o=p(n,i,s);while(e<a){t=d._rarityMap.getRarestPiece(o);if(t<0)break;if(d._request(c,t,false))return;s[t]=true;e+=1}}else{for(t=r.to;t>=r.from+r.offset;--t){if(!c.peerPieces.get(t))continue;if(d._request(c,t,false))return}}}}function r(){const i=c.downloadSpeed()||1;if(i>B)return()=>true;const a=Math.max(1,c.requests.length)*m.BLOCK_LENGTH/i;let s=10;let o=0;return e=>{if(!s||d.bitfield.get(e))return true;let t=d.pieces[e].missing;for(;o<d.wires.length;o++){const r=d.wires[o];const n=r.downloadSpeed();if(n<B)continue;if(n<=i)continue;if(!r.peerPieces.get(e))continue;if((t-=n*a)>0)continue;s--;return false}return true}}function b(t){let r=t;for(let e=t;e<d._selections.length&&d._selections[e].priority;e++){r=e}const e=d._selections[t];d._selections[t]=d._selections[r];d._selections[r]=e}function n(n){if(c.requests.length>=h)return true;const i=r();for(let r=0;r<d._selections.length;r++){const a=d._selections[r];let t;if(d.strategy==="rarest"){const s=a.from+a.offset;const o=a.to;const f=o-s+1;const u={};let e=0;const l=p(s,o,u,i);while(e<f){t=d._rarityMap.getRarestPiece(l);if(t<0)break;while(d._request(c,t,d._critical[t]||n)){}if(c.requests.length<h){u[t]=true;e++;continue}if(a.priority)b(r);return true}}else{for(t=a.from+a.offset;t<=a.to;t++){if(!c.peerPieces.get(t)||!i(t))continue;while(d._request(c,t,d._critical[t]||n)){}if(c.requests.length<h)continue;if(a.priority)b(r);return true}}}return false}}_rechoke(){if(!this.ready)return;const e=this.wires.map(e=>({wire:e,random:Math.random()})).sort((e,t)=>{const r=e.wire;const n=t.wire;if(r.downloadSpeed()!==n.downloadSpeed()){return r.downloadSpeed()-n.downloadSpeed()}if(r.uploadSpeed()!==n.uploadSpeed()){return r.uploadSpeed()-n.uploadSpeed()}if(r.amChoking!==n.amChoking){return r.amChoking?-1:1}return e.random-t.random}).map(e=>e.wire);if(this._rechokeOptimisticTime<=0){this._rechokeOptimisticWire=null}else{this._rechokeOptimisticTime-=1}let t=0;while(e.length>0&&t<this._rechokeNumSlots-1){const r=e.pop();if(r.isSeeder||r===this._rechokeOptimisticWire){continue}r.unchoke();if(r.peerInterested){t++}}if(this._rechokeOptimisticWire===null&&this._rechokeNumSlots>0){const n=e.filter(e=>e.peerInterested);if(n.length>0){const i=n[X(n.length)];i.unchoke();this._rechokeOptimisticWire=i;this._rechokeOptimisticTime=q}}e.filter(e=>e!==this._rechokeOptimisticWire).forEach(e=>e.choke())}_hotswap(e,t){const r=e.downloadSpeed();if(r<m.BLOCK_LENGTH)return false;if(!this._reservations[t])return false;const n=this._reservations[t];if(!n){return false}let i=Infinity;let a;let s;for(s=0;s<n.length;s++){const o=n[s];if(!o||o===e)continue;const f=o.downloadSpeed();if(f>=B)continue;if(2*f>r||f>i)continue;a=o;i=f}if(!a)return false;for(s=0;s<n.length;s++){if(n[s]===a)n[s]=null}for(s=0;s<a.requests.length;s++){const u=a.requests[s];if(u.piece!==t)continue;this.pieces[t].cancel(u.offset/m.BLOCK_LENGTH|0)}this.emit("hotswap",a,e,t);return true}_request(i,a,e){const s=this;const t=i.requests.length;const o=i.type==="webSeed";if(s.bitfield.get(a))return false;const r=o?Math.min(Y(i,N,s.pieceLength),s.maxWebConns):$(i,N);if(t>=r)return false;const f=s.pieces[a];let u=o?f.reserveRemaining():f.reserve();if(u===-1&&e&&s._hotswap(i,a)){u=o?f.reserveRemaining():f.reserve()}if(u===-1)return false;let l=s._reservations[a];if(!l)l=s._reservations[a]=[];let c=l.indexOf(null);if(c===-1)c=l.length;l[c]=i;const d=f.chunkOffset(u);const h=o?f.chunkLengthRemaining(u):f.chunkLength(u);i.request(a,d,h,function e(t,r){if(s.destroyed)return;if(!s.ready)return s.once("ready",()=>{e(t,r)});if(l[c]===i)l[c]=null;if(f!==s.pieces[a])return p();if(t){s._debug("error getting piece %s (offset: %s length: %s) from %s: %s",a,d,h,`${i.remoteAddress}:${i.remotePort}`,t.message);o?f.cancelRemaining(u):f.cancel(u);p();return}s._debug("got piece %s (offset: %s length: %s) from %s",a,d,h,`${i.remoteAddress}:${i.remotePort}`);if(!f.set(u,r,i))return p();const n=f.flush();R(n,e=>{if(s.destroyed)return;if(e===s._hashes[a]){if(!s.pieces[a])return;s._debug("piece verified %s",a);s.pieces[a]=null;s._reservations[a]=null;s.bitfield.set(a,true);s.store.put(a,n,e=>{if(e)s._destroy(e)});s.wires.forEach(e=>{e.have(a)});if(s._checkDone()&&!s.destroyed)s.discovery.complete()}else{s.pieces[a]=new m(f.length);s.emit("warning",new Error(`Piece ${a} failed verification`))}p()})});function p(){S(()=>{s._update()})}return true}_checkDone(){if(this.destroyed)return;this.files.forEach(t=>{if(t.done)return;for(let e=t._startPiece;e<=t._endPiece;++e){if(!this.bitfield.get(e))return}t.done=true;t.emit("done");this._debug(`file done: ${t.name}`)});let t=true;for(let e=0;e<this._selections.length;e++){const r=this._selections[e];for(let e=r.from;e<=r.to;e++){if(!this.bitfield.get(e)){t=false;break}}if(!t)break}if(!this.done&&t){this.done=true;this._debug(`torrent done: ${this.infoHash}`);this.emit("done")}this._gcSelections();return t}load(e,t){if(this.destroyed)throw new Error("torrent is destroyed");if(!this.ready)return this.once("ready",()=>{this.load(e,t)});if(!Array.isArray(e))e=[e];if(!t)t=J;const r=new h(e);const n=new a(this.store,this.pieceLength);w(r,n,e=>{if(e)return t(e);this._markAllVerified();this._checkDone();t(null)})}createServer(e){if(typeof P!=="function")throw new Error("node.js-only method");if(this.destroyed)throw new Error("torrent is destroyed");const t=new P(this,e);this._servers.push(t);return t}pause(){if(this.destroyed)return;this._debug("pause");this.paused=true}resume(){if(this.destroyed)return;this._debug("resume");this.paused=false;this._drain()}_debug(){const e=[].slice.call(arguments);e[0]=`[${this.client?this.client._debugId:"No Client"}] [${this._debugId}] ${e[0]}`;s(...e)}_drain(){this._debug("_drain numConns %s maxConns %s",this._numConns,this.client.maxConns);if(typeof p.connect!=="function"||this.destroyed||this.paused||this._numConns>=this.client.maxConns){return}this._debug("drain (%s queued, %s/%s peers)",this._numQueued,this.numPeers,this.client.maxConns);const n=this._queue.shift();if(!n)return;this._debug("%s connect attempt to %s",n.type,n.addr);const e=i(n.addr);const t={host:e[0],port:e[1]};if(n.type==="utpOutgoing"){n.conn=T.connect(t.port,t.host)}else{n.conn=p.connect(t)}const r=n.conn;r.once("connect",()=>{n.onConnect()});r.once("error",e=>{n.destroy(e)});n.startConnectTimeout();r.on("close",()=>{if(this.destroyed)return;if(n.retries>=F.length){if(this.client.utp){const r=this._addPeer(n.addr,"tcp");if(r)r.retries=0}else{this._debug("conn %s closed: will not re-add (max %s attempts)",n.addr,F.length)}return}const e=F[n.retries];this._debug("conn %s closed: will re-add to queue in %sms (attempt %s)",n.addr,e,n.retries+1);const t=setTimeout(()=>{if(this.destroyed)return;const e=this._addPeer(n.addr,this.client.utp?"utp":"tcp");if(e)e.retries=n.retries+1},e);if(t.unref)t.unref()})}_validAddr(e){let t;try{t=i(e)}catch(e){return false}const r=t[0];const n=t[1];return n>0&&n<65535&&!(r==="127.0.0.1"&&n===this.client.torrentPort)}}function $(e,t){return 2+Math.ceil(t*e.downloadSpeed()/m.BLOCK_LENGTH)}function Y(e,t,r){return 1+Math.ceil(t*e.downloadSpeed()/r)}function X(e){return Math.random()*e|0}function J(){}Q.exports=G}).call(this,Z(74),Z(19))},function(n,e){const i=/^\[?([^\]]+)\]?:(\d+)$/;let a={};let s=0;n.exports=function e(t){if(s===1e5)n.exports.reset();if(!a[t]){const r=i.exec(t);if(!r)throw new Error(`invalid addr: ${t}`);a[t]=[r[1],Number(r[2])];s+=1}return a[t]};n.exports.reset=function e(){a={};s=0}},function(e,t,r){const s=r(222);const n=r(414);class i extends n.Writable{constructor(t,e,r={}){super(r);if(!t||!t.put||!t.get){throw new Error("First argument must be an abstract-chunk-store compliant store")}e=Number(e);if(!e)throw new Error("Second argument must be a chunk length");const n=r.zeroPadding===undefined?false:r.zeroPadding;this._blockstream=new s(e,{...r,zeroPadding:n});this._outstandingPuts=0;this._storeMaxOutstandingPuts=r.storeMaxOutstandingPuts||16;let i=0;const a=e=>{if(this.destroyed)return;this._outstandingPuts+=1;if(this._outstandingPuts>=this._storeMaxOutstandingPuts){this._blockstream.pause()}t.put(i,e,e=>{if(e)return this.destroy(e);this._outstandingPuts-=1;if(this._outstandingPuts<this._storeMaxOutstandingPuts){this._blockstream.resume()}if(this._outstandingPuts===0&&typeof this._finalCb==="function"){this._finalCb(null);this._finalCb=null}});i+=1};this._blockstream.on("data",a).on("error",e=>{this.destroy(e)})}_write(e,t,r){this._blockstream.write(e,t,r)}_final(e){this._blockstream.end();this._blockstream.once("end",()=>{if(this._outstandingPuts===0)e(null);else this._finalCb=e})}destroy(e){if(this.destroyed)return;this.destroyed=true;if(e)this.emit("error",e);this.emit("close")}}e.exports=i},function(e,t,r){t=e.exports=r(270);t.Stream=t;t.Readable=t;t.Writable=r(274);t.Duplex=r(179);t.Transform=r(275);t.PassThrough=r(420);t.finished=r(210);t.pipeline=r(421)},,function(e,t,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);if(e)n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable});r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};if(e%2){n(Object(r),true).forEach(function(e){a(t,e,r[e])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))}else{n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}}return t}function a(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function f(e,t,r){if(t)o(e.prototype,t);if(r)o(e,r);return e}var u=r(73),l=u.Buffer;var c=r(417),d=c.inspect;var h=d&&d.custom||"inspect";function p(e,t,r){l.prototype.copy.call(e,t,r)}e.exports=function(){function e(){s(this,e);this.head=null;this.tail=null;this.length=0}f(e,[{key:"push",value:function e(t){var r={data:t,next:null};if(this.length>0)this.tail.next=r;else this.head=r;this.tail=r;++this.length}},{key:"unshift",value:function e(t){var r={data:t,next:this.head};if(this.length===0)this.tail=r;this.head=r;++this.length}},{key:"shift",value:function e(){if(this.length===0)return;var t=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return t}},{key:"clear",value:function e(){this.head=this.tail=null;this.length=0}},{key:"join",value:function e(t){if(this.length===0)return"";var r=this.head;var n=""+r.data;while(r=r.next){n+=t+r.data}return n}},{key:"concat",value:function e(t){if(this.length===0)return l.alloc(0);var r=l.allocUnsafe(t>>>0);var n=this.head;var i=0;while(n){p(n.data,r,i);i+=n.data.length;n=n.next}return r}},{key:"consume",value:function e(t,r){var n;if(t<this.head.data.length){n=this.head.data.slice(0,t);this.head.data=this.head.data.slice(t)}else if(t===this.head.data.length){n=this.shift()}else{n=r?this._getString(t):this._getBuffer(t)}return n}},{key:"first",value:function e(){return this.head.data}},{key:"_getString",value:function e(t){var r=this.head;var n=1;var i=r.data;t-=i.length;while(r=r.next){var a=r.data;var s=t>a.length?a.length:t;if(s===a.length)i+=a;else i+=a.slice(0,t);t-=s;if(t===0){if(s===a.length){++n;if(r.next)this.head=r.next;else this.head=this.tail=null}else{this.head=r;r.data=a.slice(s)}break}++n}this.length-=n;return i}},{key:"_getBuffer",value:function e(t){var r=l.allocUnsafe(t);var n=this.head;var i=1;n.data.copy(r);t-=n.data.length;while(n=n.next){var a=n.data;var s=t>a.length?a.length:t;a.copy(r,r.length-t,0,s);t-=s;if(t===0){if(s===a.length){++i;if(n.next)this.head=n.next;else this.head=this.tail=null}else{this.head=n;n.data=a.slice(s)}break}++i}this.length-=i;return r}},{key:h,value:function e(t,r){return d(this,i({},r,{depth:0,customInspect:false}))}}]);return e}()},,function(y,e,_){"use strict";(function(s){var e;function n(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var a=_(210);var o=Symbol("lastResolve");var f=Symbol("lastReject");var u=Symbol("error");var l=Symbol("ended");var c=Symbol("lastPromise");var d=Symbol("handlePromise");var h=Symbol("stream");function p(e,t){return{value:e,done:t}}function t(e){var t=e[o];if(t!==null){var r=e[h].read();if(r!==null){e[c]=null;e[o]=null;e[f]=null;t(p(r,false))}}}function b(e){s.nextTick(t,e)}function g(r,n){return function(e,t){r.then(function(){if(n[l]){e(p(undefined,true));return}n[d](e,t)},t)}}var r=Object.getPrototypeOf(function(){});var v=Object.setPrototypeOf((e={get stream(){return this[h]},next:function e(){var r=this;var t=this[u];if(t!==null){return Promise.reject(t)}if(this[l]){return Promise.resolve(p(undefined,true))}if(this[h].destroyed){return new Promise(function(e,t){s.nextTick(function(){if(r[u]){t(r[u])}else{e(p(undefined,true))}})})}var n=this[c];var i;if(n){i=new Promise(g(n,this))}else{var a=this[h].read();if(a!==null){return Promise.resolve(p(a,false))}i=new Promise(this[d])}this[c]=i;return i}},n(e,Symbol.asyncIterator,function(){return this}),n(e,"return",function e(){var n=this;return new Promise(function(t,r){n[h].destroy(null,function(e){if(e){r(e);return}t(p(undefined,true))})})}),e),r);var i=function e(t){var r;var i=Object.create(v,(r={},n(r,h,{value:t,writable:true}),n(r,o,{value:null,writable:true}),n(r,f,{value:null,writable:true}),n(r,u,{value:null,writable:true}),n(r,l,{value:t._readableState.endEmitted,writable:true}),n(r,d,{value:function e(t,r){var n=i[h].read();if(n){i[c]=null;i[o]=null;i[f]=null;t(p(n,false))}else{i[o]=t;i[f]=r}},writable:true}),r));i[c]=null;a(t,function(e){if(e&&e.code!=="ERR_STREAM_PREMATURE_CLOSE"){var t=i[f];if(t!==null){i[c]=null;i[o]=null;i[f]=null;t(e)}i[u]=e;return}var r=i[o];if(r!==null){i[c]=null;i[o]=null;i[f]=null;r(p(undefined,true))}i[l]=true});t.on("readable",b.bind(null,i));return i};y.exports=i}).call(this,_(74))},function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(e,t,r){"use strict";e.exports=i;var n=r(275);r(158)(i,n);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}i.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,s){"use strict";var o;function f(e){var t=false;return function(){if(t)return;t=true;e.apply(void 0,arguments)}}var r=s(178).codes,n=r.ERR_MISSING_ARGS,u=r.ERR_STREAM_DESTROYED;function i(e){if(e)throw e}function l(e){return e.setHeader&&typeof e.abort==="function"}function c(t,e,r,n){n=f(n);var i=false;t.on("close",function(){i=true});if(o===undefined)o=s(210);o(t,{readable:e,writable:r},function(e){if(e)return n(e);i=true;n()});var a=false;return function(e){if(i)return;if(a)return;a=true;if(l(t))return t.abort();if(typeof t.destroy==="function")return t.destroy();n(e||new u("pipe"))}}function d(e){e()}function h(e,t){return e.pipe(t)}function p(e){if(!e.length)return i;if(typeof e[e.length-1]!=="function")return i;return e.pop()}function a(){for(var e=arguments.length,i=new Array(e),t=0;t<e;t++){i[t]=arguments[t]}var a=p(i);if(Array.isArray(i[0]))i=i[0];if(i.length<2){throw new n("streams")}var s;var o=i.map(function(e,t){var r=t<i.length-1;var n=t>0;return c(e,r,n,function(e){if(!s)s=e;if(e)o.forEach(d);if(r)return;o.forEach(d);a(s)})});return i.reduce(h)}e.exports=a},function(e,t){e.exports=function e(){var t=navigator.hardwareConcurrency||1;var e=[];for(var r=0;r<t;r++){e.push({model:"",speed:0,times:{user:0,nice:0,sys:0,idle:0,irq:0}})}return e}},function(f,e,u){(function(r){/*! torrent-discovery. MIT License. WebTorrent LLC <https://webtorrent.io/opensource> */
const t=u(161)("torrent-discovery");const n=u(424);const e=u(159).EventEmitter;const i=u(192);const a=u(276);const s=u(434);class o extends e{constructor(e){super();if(!e.peerId)throw new Error("Option `peerId` is required");if(!e.infoHash)throw new Error("Option `infoHash` is required");if(!r.browser&&!e.port)throw new Error("Option `port` is required");this.peerId=typeof e.peerId==="string"?e.peerId:e.peerId.toString("hex");this.infoHash=typeof e.infoHash==="string"?e.infoHash.toLowerCase():e.infoHash.toString("hex");this._port=e.port;this._userAgent=e.userAgent;this.destroyed=false;this._announce=e.announce||[];this._intervalMs=e.intervalMs||15*60*1e3;this._trackerOpts=null;this._dhtAnnouncing=false;this._dhtTimeout=false;this._internalDHT=false;this._onWarning=e=>{this.emit("warning",e)};this._onError=e=>{this.emit("error",e)};this._onDHTPeer=(e,t)=>{if(t.toString("hex")!==this.infoHash)return;this.emit("peer",`${e.host}:${e.port}`,"dht")};this._onTrackerPeer=e=>{this.emit("peer",e,"tracker")};this._onTrackerAnnounce=()=>{this.emit("trackerAnnounce")};this._onLSDPeer=(e,t)=>{this.emit("peer",e,"lsd")};const t=(e,t)=>{const r=new n(t);r.on("warning",this._onWarning);r.on("error",this._onError);r.listen(e);this._internalDHT=true;return r};if(e.tracker===false){this.tracker=null}else if(e.tracker&&typeof e.tracker==="object"){this._trackerOpts=Object.assign({},e.tracker);this.tracker=this._createTracker()}else{this.tracker=this._createTracker()}if(e.dht===false||typeof n!=="function"){this.dht=null}else if(e.dht&&typeof e.dht.addNode==="function"){this.dht=e.dht}else if(e.dht&&typeof e.dht==="object"){this.dht=t(e.dhtPort,e.dht)}else{this.dht=t(e.dhtPort)}if(this.dht){this.dht.on("peer",this._onDHTPeer);this._dhtAnnounce()}if(e.lsd===false||typeof s!=="function"){this.lsd=null}else{this.lsd=this._createLSD()}}updatePort(e){if(e===this._port)return;this._port=e;if(this.dht)this._dhtAnnounce();if(this.tracker){this.tracker.stop();this.tracker.destroy(()=>{this.tracker=this._createTracker()})}}complete(e){if(this.tracker){this.tracker.complete(e)}}destroy(e){if(this.destroyed)return;this.destroyed=true;clearTimeout(this._dhtTimeout);const t=[];if(this.tracker){this.tracker.stop();this.tracker.removeListener("warning",this._onWarning);this.tracker.removeListener("error",this._onError);this.tracker.removeListener("peer",this._onTrackerPeer);this.tracker.removeListener("update",this._onTrackerAnnounce);t.push(e=>{this.tracker.destroy(e)})}if(this.dht){this.dht.removeListener("peer",this._onDHTPeer)}if(this._internalDHT){this.dht.removeListener("warning",this._onWarning);this.dht.removeListener("error",this._onError);t.push(e=>{this.dht.destroy(e)})}if(this.lsd){this.lsd.removeListener("warning",this._onWarning);this.lsd.removeListener("error",this._onError);this.lsd.removeListener("peer",this._onLSDPeer);t.push(e=>{this.lsd.destroy(e)})}i(t,e);this.dht=null;this.tracker=null;this.lsd=null;this._announce=null}_createTracker(){const e=Object.assign({},this._trackerOpts,{infoHash:this.infoHash,announce:this._announce,peerId:this.peerId,port:this._port,userAgent:this._userAgent});const t=new a(e);t.on("warning",this._onWarning);t.on("error",this._onError);t.on("peer",this._onTrackerPeer);t.on("update",this._onTrackerAnnounce);t.setInterval(this._intervalMs);t.start();return t}_dhtAnnounce(){if(this._dhtAnnouncing)return;t("dht announce");this._dhtAnnouncing=true;clearTimeout(this._dhtTimeout);this.dht.announce(this.infoHash,this._port,e=>{this._dhtAnnouncing=false;t("dht announce complete");if(e)this.emit("warning",e);this.emit("dhtAnnounce");if(!this.destroyed){this._dhtTimeout=setTimeout(()=>{this._dhtAnnounce()},this._intervalMs+Math.floor(Math.random()*this._intervalMs/5));if(this._dhtTimeout.unref)this._dhtTimeout.unref()}})}_createLSD(){const e=Object.assign({},{infoHash:this.infoHash,peerId:this.peerId,port:this._port});const t=new s(e);t.on("warning",this._onWarning);t.on("error",this._onError);t.on("peer",this._onLSDPeer);t.start();return t}}f.exports=o}).call(this,u(74))},,,,,,,,,,,,,function(e,t,r){e.exports=i;const n=r(164);function i(e,t){if(!(this instanceof i))return new i(e,t);if(!t)t={};this.chunkLength=Number(e);if(!this.chunkLength)throw new Error("First argument must be a chunk length");this.chunks=[];this.closed=false;this.length=Number(t.length)||Infinity;if(this.length!==Infinity){this.lastChunkLength=this.length%this.chunkLength||this.chunkLength;this.lastChunkIndex=Math.ceil(this.length/this.chunkLength)-1}}i.prototype.put=function(e,t,r){if(this.closed)return o(r,new Error("Storage is closed"));const n=e===this.lastChunkIndex;if(n&&t.length!==this.lastChunkLength){return o(r,new Error("Last chunk length must be "+this.lastChunkLength))}if(!n&&t.length!==this.chunkLength){return o(r,new Error("Chunk length must be "+this.chunkLength))}this.chunks[e]=t;o(r,null)};i.prototype.get=function(e,t,r){if(typeof t==="function")return this.get(e,null,t);if(this.closed)return o(r,new Error("Storage is closed"));const n=this.chunks[e];if(!n){const s=new Error("Chunk not found");s.notFound=true;return o(r,s)}if(!t)return o(r,null,n);const i=t.offset||0;const a=t.length||n.length-i;if(t.offset===0&&a===n.length-i){return o(r,null,n)}o(r,null,n.slice(i,a+i))};i.prototype.close=i.prototype.destroy=function(e){if(this.closed)return o(e,new Error("Storage is closed"));this.closed=true;this.chunks=null;o(e,null)};function o(e,t,r){n(function(){if(e)e(t,r)})}},function(e,t,r){
/*! immediate-chunk-store. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
const s=r(164);class n{constructor(e){this.store=e;this.chunkLength=e.chunkLength;if(!this.store||!this.store.get||!this.store.put){throw new Error("First argument must be abstract-chunk-store compliant")}this.mem=[]}put(t,e,r){this.mem[t]=e;this.store.put(t,e,e=>{this.mem[t]=null;if(r)r(e)})}get(e,t,r){if(typeof t==="function")return this.get(e,null,t);let n=this.mem[e];if(!n){return this.store.get(e,t,r)}if(t){const i=t.offset||0;const a=t.length?i+t.length:n.length;n=n.slice(i,a)}s(()=>{if(r)r(null,n)})}close(e){this.store.close(e)}destroy(e){this.store.destroy(e)}}e.exports=n},,,function(e,t,r){
/*! run-parallel-limit. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
e.exports=n;const h=r(164);function n(n,t,r){if(typeof t!=="number")throw new Error("second argument must be a Number");let i,a,s,o,f;let u=true;let l;if(Array.isArray(n)){i=[];s=a=n.length}else{o=Object.keys(n);i={};s=a=o.length}function c(e){function t(){if(r)r(e,i);r=null}if(u)h(t);else t()}function d(e,t,r){i[e]=r;if(t)f=true;if(--s===0||t){c(t)}else if(!f&&l<a){let r;if(o){r=o[l];l+=1;n[r](function(e,t){d(r,e,t)})}else{r=l;l+=1;n[r](function(e,t){d(r,e,t)})}}}l=t;if(!s){c(null)}else if(o){o.some(function(r,e){n[r](function(e,t){d(r,e,t)});if(e===t-1)return true;return false})}else{n.some(function(e,r){e(function(e,t){d(r,e,t)});if(r===t-1)return true;return false})}u=false}},function(r,e,t){(function(t){/*! torrent-piece. MIT License. WebTorrent LLC <https://webtorrent.io/opensource> */
const o=1<<14;class e{constructor(e){this.length=e;this.missing=e;this.sources=null;this._chunks=Math.ceil(e/o);this._remainder=e%o||o;this._buffered=0;this._buffer=null;this._cancellations=null;this._reservations=0;this._flushed=false}chunkLength(e){return e===this._chunks-1?this._remainder:o}chunkLengthRemaining(e){return this.length-e*o}chunkOffset(e){return e*o}reserve(){if(!this.init())return-1;if(this._cancellations.length)return this._cancellations.pop();if(this._reservations<this._chunks)return this._reservations++;return-1}reserveRemaining(){if(!this.init())return-1;if(this._cancellations.length||this._reservations<this._chunks){let e=this._reservations;while(this._cancellations.length){e=Math.min(e,this._cancellations.pop())}this._reservations=this._chunks;return e}return-1}cancel(e){if(!this.init())return;this._cancellations.push(e)}cancelRemaining(e){if(!this.init())return;this._reservations=e}get(e){if(!this.init())return null;return this._buffer[e]}set(t,r,n){if(!this.init())return false;const e=r.length;const i=Math.ceil(e/o);for(let e=0;e<i;e++){if(!this._buffer[t+e]){const a=e*o;const s=r.slice(a,a+o);this._buffered++;this._buffer[t+e]=s;this.missing-=s.length;if(!this.sources.includes(n)){this.sources.push(n)}}}return this._buffered===this._chunks}flush(){if(!this._buffer||this._chunks!==this._buffered)return null;const e=t.concat(this._buffer,this.length);this._buffer=null;this._cancellations=null;this.sources=null;this._flushed=true;return e}init(){if(this._flushed)return false;if(this._buffer)return true;this._buffer=new Array(this._chunks);this._cancellations=[];this.sources=[];return true}}Object.defineProperty(e,"BLOCK_LENGTH",{value:o});r.exports=e}).call(this,t(73).Buffer)},,function(e,t){var r=function(i){var a=0;return function(){if(a===i.length)return null;var e=i.length-a;var t=Math.random()*e|0;var r=i[a+t];var n=i[a];i[a]=r;i[a+t]=n;a++;return r}};e.exports=r},function(e,t,c){(function(n){/*! ut_metadata. MIT License. WebTorrent LLC <https://webtorrent.io/opensource> */
const{EventEmitter:r}=c(159);const a=c(196);const i=c(199).default;const s=c(161)("ut_metadata");const o=c(193);const f=1e7;const u=1e3;const l=1<<14;e.exports=t=>{class e extends r{constructor(e){super();this._wire=e;this._fetching=false;this._metadataComplete=false;this._metadataSize=null;this._remainingRejects=null;this._bitfield=new i(0,{grow:u});if(n.isBuffer(t)){this.setMetadata(t)}}onHandshake(e,t,r){this._infoHash=e}onExtendedHandshake(e){if(!e.m||!e.m.ut_metadata){return this.emit("warning",new Error("Peer does not support ut_metadata"))}if(!e.metadata_size){return this.emit("warning",new Error("Peer does not have metadata"))}if(typeof e.metadata_size!=="number"||f<e.metadata_size||e.metadata_size<=0){return this.emit("warning",new Error("Peer gave invalid metadata size"))}this._metadataSize=e.metadata_size;this._numPieces=Math.ceil(this._metadataSize/l);this._remainingRejects=this._numPieces*2;this._requestPieces()}onMessage(e){let t;let r;try{const n=e.toString();const i=n.indexOf("ee")+2;t=a.decode(n.substring(0,i));r=e.slice(i)}catch(e){return}switch(t.msg_type){case 0:this._onRequest(t.piece);break;case 1:this._onData(t.piece,r,t.total_size);break;case 2:this._onReject(t.piece);break}}fetch(){if(this._metadataComplete){return}this._fetching=true;if(this._metadataSize){this._requestPieces()}}cancel(){this._fetching=false}setMetadata(e){if(this._metadataComplete)return true;s("set metadata");try{const t=a.decode(e).info;if(t){e=a.encode(t)}}catch(e){}if(this._infoHash&&this._infoHash!==o.sync(e)){return false}this.cancel();this.metadata=e;this._metadataComplete=true;this._metadataSize=this.metadata.length;this._wire.extendedHandshake.metadata_size=this._metadataSize;this.emit("metadata",a.encode({info:a.decode(this.metadata)}));return true}_send(e,t){let r=a.encode(e);if(n.isBuffer(t)){r=n.concat([r,t])}this._wire.extended("ut_metadata",r)}_request(e){this._send({msg_type:0,piece:e})}_data(e,t,r){const n={msg_type:1,piece:e};if(typeof r==="number"){n.total_size=r}this._send(n,t)}_reject(e){this._send({msg_type:2,piece:e})}_onRequest(e){if(!this._metadataComplete){this._reject(e);return}const t=e*l;let r=t+l;if(r>this._metadataSize){r=this._metadataSize}const n=this.metadata.slice(t,r);this._data(e,n,this._metadataSize)}_onData(e,t,r){if(t.length>l||!this._fetching){return}t.copy(this.metadata,e*l);this._bitfield.set(e);this._checkDone()}_onReject(e){if(this._remainingRejects>0&&this._fetching){this._request(e);this._remainingRejects-=1}else{this.emit("warning",new Error('Peer sent "reject" too much'))}}_requestPieces(){if(!this._fetching)return;this.metadata=n.alloc(this._metadataSize);for(let e=0;e<this._numPieces;e++){this._request(e)}}_checkDone(){let t=true;for(let e=0;e<this._numPieces;e++){if(!this._bitfield.get(e)){t=false;break}}if(!t)return;const e=this.setMetadata(this.metadata);if(!e){this._failedMetadata()}}_failedMetadata(){this._bitfield=new i(0,{grow:u});this._remainingRejects-=this._numPieces;if(this._remainingRejects>0){this._requestPieces()}else{this.emit("warning",new Error("Peer sent invalid metadata"))}}}e.prototype.name="ut_metadata";return e}}).call(this,c(73).Buffer)},,,function(e,t,r){const{EventEmitter:n}=r(159);const{PassThrough:i}=r(292);const a=r(291);const s=r(22);const o=r(455);const f=r(306);const u=r(305);const l=r(493);const c=r(494);const d=r(164);class h extends n{constructor(e,t){super();this._torrent=e;this._destroyed=false;this.name=t.name;this.path=t.path;this.length=t.length;this.offset=t.offset;this.done=false;const r=t.offset;const n=r+t.length-1;this._startPiece=r/this._torrent.pieceLength|0;this._endPiece=n/this._torrent.pieceLength|0;if(this.length===0){this.done=true;this.emit("done")}}get downloaded(){if(!this._torrent.bitfield)return 0;const{pieces:r,bitfield:n,pieceLength:i,lastPieceLength:a}=this._torrent;const{_startPiece:t,_endPiece:s}=this;const o=e=>e===r.length-1?a:i;const f=e=>{const t=e===r.length-1?a:i;if(n.get(e)){return t}else{return t-r[e].missing}};let u=0;for(let e=t;e<=s;e+=1){const l=f(e);u+=l;if(e===t){const c=this.offset%i;u-=Math.min(c,l)}if(e===s){const d=o(s)-(this.offset+this.length)%i;u-=Math.min(d,l)}}return u}get progress(){return this.length?this.downloaded/this.length:0}select(e){if(this.length===0)return;this._torrent.select(this._startPiece,this._endPiece,e)}deselect(){if(this.length===0)return;this._torrent.deselect(this._startPiece,this._endPiece,false)}createReadStream(e){if(this.length===0){const r=new i;d(()=>{r.end()});return r}const t=new c(this,e);this._torrent.select(t._startPiece,t._endPiece,true,()=>{t._notify()});a(t,()=>{if(this._destroyed)return;if(!this._torrent.destroyed){this._torrent.deselect(t._startPiece,t._endPiece,true)}});return t}getBuffer(e){l(this.createReadStream(),this.length,e)}getBlob(t){if(typeof window==="undefined")throw new Error("browser-only method");f(this.createReadStream(),this._getMimeType()).then(e=>t(null,e),e=>t(e))}getBlobURL(t){if(typeof window==="undefined")throw new Error("browser-only method");u(this.createReadStream(),this._getMimeType()).then(e=>t(null,e),e=>t(e))}appendTo(e,t,r){if(typeof window==="undefined")throw new Error("browser-only method");o.append(this,e,t,r)}renderTo(e,t,r){if(typeof window==="undefined")throw new Error("browser-only method");o.render(this,e,t,r)}_getMimeType(){return o.mime[s.extname(this.name).toLowerCase()]}_destroy(){this._destroyed=true;this._torrent=null}}e.exports=h},,function(e,t,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);if(e)n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable});r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};if(e%2){n(Object(r),true).forEach(function(e){a(t,e,r[e])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))}else{n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}}return t}function a(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function f(e,t,r){if(t)o(e.prototype,t);if(r)o(e,r);return e}var u=r(73),l=u.Buffer;var c=r(450),d=c.inspect;var h=d&&d.custom||"inspect";function p(e,t,r){l.prototype.copy.call(e,t,r)}e.exports=function(){function e(){s(this,e);this.head=null;this.tail=null;this.length=0}f(e,[{key:"push",value:function e(t){var r={data:t,next:null};if(this.length>0)this.tail.next=r;else this.head=r;this.tail=r;++this.length}},{key:"unshift",value:function e(t){var r={data:t,next:this.head};if(this.length===0)this.tail=r;this.head=r;++this.length}},{key:"shift",value:function e(){if(this.length===0)return;var t=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return t}},{key:"clear",value:function e(){this.head=this.tail=null;this.length=0}},{key:"join",value:function e(t){if(this.length===0)return"";var r=this.head;var n=""+r.data;while(r=r.next){n+=t+r.data}return n}},{key:"concat",value:function e(t){if(this.length===0)return l.alloc(0);var r=l.allocUnsafe(t>>>0);var n=this.head;var i=0;while(n){p(n.data,r,i);i+=n.data.length;n=n.next}return r}},{key:"consume",value:function e(t,r){var n;if(t<this.head.data.length){n=this.head.data.slice(0,t);this.head.data=this.head.data.slice(t)}else if(t===this.head.data.length){n=this.shift()}else{n=r?this._getString(t):this._getBuffer(t)}return n}},{key:"first",value:function e(){return this.head.data}},{key:"_getString",value:function e(t){var r=this.head;var n=1;var i=r.data;t-=i.length;while(r=r.next){var a=r.data;var s=t>a.length?a.length:t;if(s===a.length)i+=a;else i+=a.slice(0,t);t-=s;if(t===0){if(s===a.length){++n;if(r.next)this.head=r.next;else this.head=this.tail=null}else{this.head=r;r.data=a.slice(s)}break}++n}this.length-=n;return i}},{key:"_getBuffer",value:function e(t){var r=l.allocUnsafe(t);var n=this.head;var i=1;n.data.copy(r);t-=n.data.length;while(n=n.next){var a=n.data;var s=t>a.length?a.length:t;a.copy(r,r.length-t,0,s);t-=s;if(t===0){if(s===a.length){++i;if(n.next)this.head=n.next;else this.head=this.tail=null}else{this.head=n;n.data=a.slice(s)}break}++i}this.length-=i;return r}},{key:h,value:function e(t,r){return d(this,i({},r,{depth:0,customInspect:false}))}}]);return e}()},,function(y,e,_){"use strict";(function(s){var e;function n(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var a=_(212);var o=Symbol("lastResolve");var f=Symbol("lastReject");var u=Symbol("error");var l=Symbol("ended");var c=Symbol("lastPromise");var d=Symbol("handlePromise");var h=Symbol("stream");function p(e,t){return{value:e,done:t}}function t(e){var t=e[o];if(t!==null){var r=e[h].read();if(r!==null){e[c]=null;e[o]=null;e[f]=null;t(p(r,false))}}}function b(e){s.nextTick(t,e)}function g(r,n){return function(e,t){r.then(function(){if(n[l]){e(p(undefined,true));return}n[d](e,t)},t)}}var r=Object.getPrototypeOf(function(){});var v=Object.setPrototypeOf((e={get stream(){return this[h]},next:function e(){var r=this;var t=this[u];if(t!==null){return Promise.reject(t)}if(this[l]){return Promise.resolve(p(undefined,true))}if(this[h].destroyed){return new Promise(function(e,t){s.nextTick(function(){if(r[u]){t(r[u])}else{e(p(undefined,true))}})})}var n=this[c];var i;if(n){i=new Promise(g(n,this))}else{var a=this[h].read();if(a!==null){return Promise.resolve(p(a,false))}i=new Promise(this[d])}this[c]=i;return i}},n(e,Symbol.asyncIterator,function(){return this}),n(e,"return",function e(){var n=this;return new Promise(function(t,r){n[h].destroy(null,function(e){if(e){r(e);return}t(p(undefined,true))})})}),e),r);var i=function e(t){var r;var i=Object.create(v,(r={},n(r,h,{value:t,writable:true}),n(r,o,{value:null,writable:true}),n(r,f,{value:null,writable:true}),n(r,u,{value:null,writable:true}),n(r,l,{value:t._readableState.endEmitted,writable:true}),n(r,d,{value:function e(t,r){var n=i[h].read();if(n){i[c]=null;i[o]=null;i[f]=null;t(p(n,false))}else{i[o]=t;i[f]=r}},writable:true}),r));i[c]=null;a(t,function(e){if(e&&e.code!=="ERR_STREAM_PREMATURE_CLOSE"){var t=i[f];if(t!==null){i[c]=null;i[o]=null;i[f]=null;t(e)}i[u]=e;return}var r=i[o];if(r!==null){i[c]=null;i[o]=null;i[f]=null;r(p(undefined,true))}i[l]=true});t.on("readable",b.bind(null,i));return i};y.exports=i}).call(this,_(74))},function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(e,t,r){"use strict";e.exports=i;var n=r(298);r(158)(i,n);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}i.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,s){"use strict";var o;function f(e){var t=false;return function(){if(t)return;t=true;e.apply(void 0,arguments)}}var r=s(182).codes,n=r.ERR_MISSING_ARGS,u=r.ERR_STREAM_DESTROYED;function i(e){if(e)throw e}function l(e){return e.setHeader&&typeof e.abort==="function"}function c(t,e,r,n){n=f(n);var i=false;t.on("close",function(){i=true});if(o===undefined)o=s(212);o(t,{readable:e,writable:r},function(e){if(e)return n(e);i=true;n()});var a=false;return function(e){if(i)return;if(a)return;a=true;if(l(t))return t.abort();if(typeof t.destroy==="function")return t.destroy();n(e||new u("pipe"))}}function d(e){e()}function h(e,t){return e.pipe(t)}function p(e){if(!e.length)return i;if(typeof e[e.length-1]!=="function")return i;return e.pop()}function a(){for(var e=arguments.length,i=new Array(e),t=0;t<e;t++){i[t]=arguments[t]}var a=p(i);if(Array.isArray(i[0]))i=i[0];if(i.length<2){throw new n("streams")}var s;var o=i.map(function(e,t){var r=t<i.length-1;var n=t>0;return c(e,r,n,function(e){if(!s)s=e;if(e)o.forEach(d);if(r)return;o.forEach(d);a(s)})});return i.reduce(h)}e.exports=a},function(e,n,t){
/*! render-media. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
n.render=s;n.append=o;n.mime=t(456);const g=t(161)("render-media");const v=t(457);const y=t(213);const _=t(22);const i=t(305);const m=t(307);const w=[".m4a",".m4b",".m4p",".m4v",".mp4"];const S=[".m4v",".mkv",".mp4",".webm"];const r=[".m4a",".m4b",".m4p",".mp3"];const E=[].concat(S,r);const R=[".mov",".ogv"];const k=[".aac",".oga",".ogg",".wav",".flac"];const x=[".bmp",".gif",".jpeg",".jpg",".png",".svg"];const T=[".css",".html",".js",".md",".pdf",".srt",".txt"];const a=200*1e3*1e3;const M=typeof window!=="undefined"&&window.MediaSource;function s(r,n,i,e){if(typeof i==="function"){e=i;i={}}if(!i)i={};if(!e)e=()=>{};u(r);l(i);if(typeof n==="string")n=document.querySelector(n);f(r,e=>{if(n.nodeName!==e.toUpperCase()){const t=_.extname(r.name).toLowerCase();throw new Error(`Cannot render "${t}" inside a "${n.nodeName.toLowerCase()}" element, expected "${e}"`)}if(e==="video"||e==="audio")c(n,i);return n},i,e)}function o(e,r,n,i){if(typeof n==="function"){i=n;n={}}if(!n)n={};if(!i)i=()=>{};u(e);l(n);if(typeof r==="string")r=document.querySelector(r);if(r&&(r.nodeName==="VIDEO"||r.nodeName==="AUDIO")){throw new Error("Invalid video/audio node argument. Argument must be root element that "+"video/audio tag will be appended to.")}f(e,t,n,o);function t(e){if(e==="video"||e==="audio")return a(e);else return s(e)}function a(e){const t=s(e);c(t,n);r.appendChild(t);return t}function s(e){const t=document.createElement(e);r.appendChild(t);return t}function o(e,t){if(e&&t)t.remove();i(e,t)}}function f(o,f,t,r){const u=_.extname(o.name).toLowerCase();let l=0;let c;if(E.includes(u)){e()}else if(R.includes(u)){n("video")}else if(k.includes(u)){n("audio")}else if(x.includes(u)){i()}else if(T.includes(u)){a()}else{s()}function e(){const e=S.includes(u)?"video":"audio";if(M){if(w.includes(u)){t()}else{r()}}else{n()}function t(){g(`Use \`videostream\` package for ${o.name}`);s();c.addEventListener("error",i);c.addEventListener("loadstart",h);c.addEventListener("loadedmetadata",p);new m(o,c)}function r(){g(`Use MediaSource API for ${o.name}`);s();c.addEventListener("error",a);c.addEventListener("loadstart",h);c.addEventListener("loadedmetadata",p);const e=new y(c);const t=e.createWriteStream(L(o.name));o.createReadStream().pipe(t);if(l)c.currentTime=l}function n(){g(`Use Blob URL for ${o.name}`);s();c.addEventListener("error",b);c.addEventListener("loadstart",h);c.addEventListener("loadedmetadata",p);O(o,(e,t)=>{if(e)return b(e);c.src=t;if(l)c.currentTime=l})}function i(e){g("videostream error: fallback to MediaSource API: %o",e.message||e);c.removeEventListener("error",i);c.removeEventListener("loadedmetadata",p);r()}function a(e){g("MediaSource API error: fallback to Blob URL: %o",e.message||e);if(!d())return;c.removeEventListener("error",a);c.removeEventListener("loadedmetadata",p);n()}function s(){if(!c){c=f(e);c.addEventListener("progress",()=>{l=c.currentTime})}}}function d(){if(typeof o.length==="number"&&o.length>t.maxBlobLength){g("File length too large for Blob URL approach: %d (max: %d)",o.length,t.maxBlobLength);b(new Error(`File length too large for Blob URL approach: ${o.length} (max: ${t.maxBlobLength})`));return false}return true}function n(e){if(!d())return;c=f(e);O(o,(e,t)=>{if(e)return b(e);c.addEventListener("error",b);c.addEventListener("loadstart",h);c.addEventListener("loadedmetadata",p);c.src=t})}function h(){c.removeEventListener("loadstart",h);if(t.autoplay){const e=c.play();if(typeof e!=="undefined")e.catch(b)}}function p(){c.removeEventListener("loadedmetadata",p);r(null,c)}function i(){c=f("img");O(o,(e,t)=>{if(e)return b(e);c.src=t;c.alt=o.name;r(null,c)})}function a(){O(o,(e,t)=>{if(e)return b(e);if(u!==".pdf"){c=f("iframe");c.sandbox="allow-forms allow-scripts";c.src=t}else{c=f("object");c.setAttribute("typemustmatch",true);c.setAttribute("type","application/pdf");c.setAttribute("data",t)}r(null,c)})}function s(){g('Unknown file extension "%s" - will attempt to render into iframe',u);let t="";o.createReadStream({start:0,end:1e3}).setEncoding("utf8").on("data",e=>{t+=e}).on("end",e).on("error",r);function e(){if(v(t)){g('File extension "%s" appears ascii, so will render.',u);a()}else{g('File extension "%s" appears non-ascii, will not render.',u);r(new Error(`Unsupported file type "${u}": Cannot append to DOM`))}}}function b(e){e.message=`Error rendering file "${o.name}": ${e.message}`;g(e.message);r(e)}}function O(e,t){const r=_.extname(e.name).toLowerCase();i(e.createReadStream(),n.mime[r]).then(e=>t(null,e),e=>t(e))}function u(e){if(e==null){throw new Error("file cannot be null or undefined")}if(typeof e.name!=="string"){throw new Error("missing or invalid file.name property")}if(typeof e.createReadStream!=="function"){throw new Error("missing or invalid file.createReadStream property")}}function L(e){const t=_.extname(e).toLowerCase();return{".m4a":'audio/mp4; codecs="mp4a.40.5"',".m4b":'audio/mp4; codecs="mp4a.40.5"',".m4p":'audio/mp4; codecs="mp4a.40.5"',".m4v":'video/mp4; codecs="avc1.640029, mp4a.40.5"',".mkv":'video/webm; codecs="avc1.640029, mp4a.40.5"',".mp3":"audio/mpeg",".mp4":'video/mp4; codecs="avc1.640029, mp4a.40.5"',".webm":'video/webm; codecs="vorbis, vp8"'}[t]}function l(e){if(e.autoplay==null)e.autoplay=false;if(e.muted==null)e.muted=false;if(e.controls==null)e.controls=true;if(e.maxBlobLength==null)e.maxBlobLength=a}function c(e,t){e.autoplay=!!t.autoplay;e.muted=!!t.muted;e.controls=!!t.controls}},function(e){e.exports=JSON.parse('{".3gp":"video/3gpp",".aac":"audio/aac",".aif":"audio/x-aiff",".aiff":"audio/x-aiff",".atom":"application/atom+xml",".avi":"video/x-msvideo",".bmp":"image/bmp",".bz2":"application/x-bzip2",".conf":"text/plain",".css":"text/css",".csv":"text/plain",".diff":"text/x-diff",".doc":"application/msword",".flv":"video/x-flv",".gif":"image/gif",".gz":"application/x-gzip",".htm":"text/html",".html":"text/html",".ico":"image/vnd.microsoft.icon",".ics":"text/calendar",".iso":"application/octet-stream",".jar":"application/java-archive",".jpeg":"image/jpeg",".jpg":"image/jpeg",".js":"application/javascript",".json":"application/json",".less":"text/css",".log":"text/plain",".m3u":"audio/x-mpegurl",".m4a":"audio/x-m4a",".m4b":"audio/mp4",".m4p":"audio/mp4",".m4v":"video/x-m4v",".manifest":"text/cache-manifest",".markdown":"text/x-markdown",".mathml":"application/mathml+xml",".md":"text/x-markdown",".mid":"audio/midi",".midi":"audio/midi",".mov":"video/quicktime",".mp3":"audio/mpeg",".mp4":"video/mp4",".mp4v":"video/mp4",".mpeg":"video/mpeg",".mpg":"video/mpeg",".odp":"application/vnd.oasis.opendocument.presentation",".ods":"application/vnd.oasis.opendocument.spreadsheet",".odt":"application/vnd.oasis.opendocument.text",".oga":"audio/ogg",".ogg":"application/ogg",".pdf":"application/pdf",".png":"image/png",".pps":"application/vnd.ms-powerpoint",".ppt":"application/vnd.ms-powerpoint",".ps":"application/postscript",".psd":"image/vnd.adobe.photoshop",".qt":"video/quicktime",".rar":"application/x-rar-compressed",".rdf":"application/rdf+xml",".rss":"application/rss+xml",".rtf":"application/rtf",".svg":"image/svg+xml",".svgz":"image/svg+xml",".swf":"application/x-shockwave-flash",".tar":"application/x-tar",".tbz":"application/x-bzip-compressed-tar",".text":"text/plain",".tif":"image/tiff",".tiff":"image/tiff",".torrent":"application/x-bittorrent",".ttf":"application/x-font-ttf",".txt":"text/plain",".wav":"audio/wav",".webm":"video/webm",".wma":"audio/x-ms-wma",".wmv":"video/x-ms-wmv",".xls":"application/vnd.ms-excel",".xml":"application/xml",".yaml":"text/yaml",".yml":"text/yaml",".zip":"application/zip"}')},function(e,t){var i=127;e.exports=function e(t){for(var r=0,n=t.length;r<n;++r){if(t.charCodeAt(r)>i)return false}return true}},function(e,t,r){t=e.exports=r(299);t.Stream=t;t.Readable=t;t.Writable=r(303);t.Duplex=r(185);t.Transform=r(304);t.PassThrough=r(464);t.finished=r(214);t.pipeline=r(465)},,function(e,t,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);if(e)n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable});r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};if(e%2){n(Object(r),true).forEach(function(e){a(t,e,r[e])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))}else{n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}}return t}function a(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function f(e,t,r){if(t)o(e.prototype,t);if(r)o(e,r);return e}var u=r(73),l=u.Buffer;var c=r(461),d=c.inspect;var h=d&&d.custom||"inspect";function p(e,t,r){l.prototype.copy.call(e,t,r)}e.exports=function(){function e(){s(this,e);this.head=null;this.tail=null;this.length=0}f(e,[{key:"push",value:function e(t){var r={data:t,next:null};if(this.length>0)this.tail.next=r;else this.head=r;this.tail=r;++this.length}},{key:"unshift",value:function e(t){var r={data:t,next:this.head};if(this.length===0)this.tail=r;this.head=r;++this.length}},{key:"shift",value:function e(){if(this.length===0)return;var t=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return t}},{key:"clear",value:function e(){this.head=this.tail=null;this.length=0}},{key:"join",value:function e(t){if(this.length===0)return"";var r=this.head;var n=""+r.data;while(r=r.next){n+=t+r.data}return n}},{key:"concat",value:function e(t){if(this.length===0)return l.alloc(0);var r=l.allocUnsafe(t>>>0);var n=this.head;var i=0;while(n){p(n.data,r,i);i+=n.data.length;n=n.next}return r}},{key:"consume",value:function e(t,r){var n;if(t<this.head.data.length){n=this.head.data.slice(0,t);this.head.data=this.head.data.slice(t)}else if(t===this.head.data.length){n=this.shift()}else{n=r?this._getString(t):this._getBuffer(t)}return n}},{key:"first",value:function e(){return this.head.data}},{key:"_getString",value:function e(t){var r=this.head;var n=1;var i=r.data;t-=i.length;while(r=r.next){var a=r.data;var s=t>a.length?a.length:t;if(s===a.length)i+=a;else i+=a.slice(0,t);t-=s;if(t===0){if(s===a.length){++n;if(r.next)this.head=r.next;else this.head=this.tail=null}else{this.head=r;r.data=a.slice(s)}break}++n}this.length-=n;return i}},{key:"_getBuffer",value:function e(t){var r=l.allocUnsafe(t);var n=this.head;var i=1;n.data.copy(r);t-=n.data.length;while(n=n.next){var a=n.data;var s=t>a.length?a.length:t;a.copy(r,r.length-t,0,s);t-=s;if(t===0){if(s===a.length){++i;if(n.next)this.head=n.next;else this.head=this.tail=null}else{this.head=n;n.data=a.slice(s)}break}++i}this.length-=i;return r}},{key:h,value:function e(t,r){return d(this,i({},r,{depth:0,customInspect:false}))}}]);return e}()},,function(y,e,_){"use strict";(function(s){var e;function n(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var a=_(214);var o=Symbol("lastResolve");var f=Symbol("lastReject");var u=Symbol("error");var l=Symbol("ended");var c=Symbol("lastPromise");var d=Symbol("handlePromise");var h=Symbol("stream");function p(e,t){return{value:e,done:t}}function t(e){var t=e[o];if(t!==null){var r=e[h].read();if(r!==null){e[c]=null;e[o]=null;e[f]=null;t(p(r,false))}}}function b(e){s.nextTick(t,e)}function g(r,n){return function(e,t){r.then(function(){if(n[l]){e(p(undefined,true));return}n[d](e,t)},t)}}var r=Object.getPrototypeOf(function(){});var v=Object.setPrototypeOf((e={get stream(){return this[h]},next:function e(){var r=this;var t=this[u];if(t!==null){return Promise.reject(t)}if(this[l]){return Promise.resolve(p(undefined,true))}if(this[h].destroyed){return new Promise(function(e,t){s.nextTick(function(){if(r[u]){t(r[u])}else{e(p(undefined,true))}})})}var n=this[c];var i;if(n){i=new Promise(g(n,this))}else{var a=this[h].read();if(a!==null){return Promise.resolve(p(a,false))}i=new Promise(this[d])}this[c]=i;return i}},n(e,Symbol.asyncIterator,function(){return this}),n(e,"return",function e(){var n=this;return new Promise(function(t,r){n[h].destroy(null,function(e){if(e){r(e);return}t(p(undefined,true))})})}),e),r);var i=function e(t){var r;var i=Object.create(v,(r={},n(r,h,{value:t,writable:true}),n(r,o,{value:null,writable:true}),n(r,f,{value:null,writable:true}),n(r,u,{value:null,writable:true}),n(r,l,{value:t._readableState.endEmitted,writable:true}),n(r,d,{value:function e(t,r){var n=i[h].read();if(n){i[c]=null;i[o]=null;i[f]=null;t(p(n,false))}else{i[o]=t;i[f]=r}},writable:true}),r));i[c]=null;a(t,function(e){if(e&&e.code!=="ERR_STREAM_PREMATURE_CLOSE"){var t=i[f];if(t!==null){i[c]=null;i[o]=null;i[f]=null;t(e)}i[u]=e;return}var r=i[o];if(r!==null){i[c]=null;i[o]=null;i[f]=null;r(p(undefined,true))}i[l]=true});t.on("readable",b.bind(null,i));return i};y.exports=i}).call(this,_(74))},function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(e,t,r){"use strict";e.exports=i;var n=r(304);r(158)(i,n);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}i.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,s){"use strict";var o;function f(e){var t=false;return function(){if(t)return;t=true;e.apply(void 0,arguments)}}var r=s(184).codes,n=r.ERR_MISSING_ARGS,u=r.ERR_STREAM_DESTROYED;function i(e){if(e)throw e}function l(e){return e.setHeader&&typeof e.abort==="function"}function c(t,e,r,n){n=f(n);var i=false;t.on("close",function(){i=true});if(o===undefined)o=s(214);o(t,{readable:e,writable:r},function(e){if(e)return n(e);i=true;n()});var a=false;return function(e){if(i)return;if(a)return;a=true;if(l(t))return t.abort();if(typeof t.destroy==="function")return t.destroy();n(e||new u("pipe"))}}function d(e){e()}function h(e,t){return e.pipe(t)}function p(e){if(!e.length)return i;if(typeof e[e.length-1]!=="function")return i;return e.pop()}function a(){for(var e=arguments.length,i=new Array(e),t=0;t<e;t++){i[t]=arguments[t]}var a=p(i);if(Array.isArray(i[0]))i=i[0];if(i.length<2){throw new n("streams")}var s;var o=i.map(function(e,t){var r=t<i.length-1;var n=t>0;return c(e,r,n,function(e){if(!s)s=e;if(e)o.forEach(d);if(r)return;o.forEach(d);a(s)})});return i.reduce(h)}e.exports=a},function(r,e,u){(function(n){const a=u(467);const e=u(159);const o=u(468);const f=u(200);const i=u(484);const s=4096;class t extends e{constructor(e){super();this._tracks=[];this._file=e;this._decoder=null;this._findMoov(0)}_findMoov(t){if(this._decoder){this._decoder.destroy()}let r=0;this._decoder=o.decode();const n=this._file.createReadStream({start:t});n.pipe(this._decoder);const i=e=>{if(e.type==="moov"){this._decoder.removeListener("box",i);this._decoder.decode(e=>{n.destroy();try{this._processMoov(e)}catch(e){e.message=`Cannot parse mp4 file: ${e.message}`;this.emit("error",e)}})}else if(e.length<s){r+=e.length;this._decoder.ignore()}else{this._decoder.removeListener("box",i);r+=e.length;n.destroy();this._decoder.destroy();this._findMoov(t+r)}};this._decoder.on("box",i)}_processMoov(c){const d=c.traks;this._tracks=[];this._hasVideo=false;this._hasAudio=false;for(let l=0;l<d.length;l++){const p=d[l];const b=p.mdia.minf.stbl;const g=b.stsd.entries[0];const v=p.mdia.hdlr.handlerType;let e;let t;if(v==="vide"&&g.type==="avc1"){if(this._hasVideo){continue}this._hasVideo=true;e="avc1";if(g.avcC){e+=`.${g.avcC.mimeCodec}`}t=`video/mp4; codecs="${e}"`}else if(v==="soun"&&g.type==="mp4a"){if(this._hasAudio){continue}this._hasAudio=true;e="mp4a";if(g.esds&&g.esds.mimeCodec){e+=`.${g.esds.mimeCodec}`}t=`audio/mp4; codecs="${e}"`}else{continue}const y=[];let r=0;let n=0;let i=0;let a=0;let s=0;let o=0;const _=new T(b.stts.entries);let f=null;if(b.ctts){f=new T(b.ctts.entries)}let u=0;while(true){var h=b.stsc.entries[s];const S=b.stsz.entries[r];const E=_.value.duration;const R=f?f.value.compositionOffset:0;let e=true;if(b.stss){e=b.stss.entries[u]===r+1}const k=b.stco||b.co64;y.push({size:S,duration:E,dts:o,presentationOffset:R,sync:e,offset:a+k.entries[i]});r++;if(r>=b.stsz.entries.length){break}n++;a+=S;if(n>=h.samplesPerChunk){n=0;a=0;i++;const x=b.stsc.entries[s+1];if(x&&i+1>=x.firstChunk){s++}}o+=E;_.inc();f&&f.inc();if(e){u++}}p.mdia.mdhd.duration=0;p.tkhd.duration=0;const m=h.sampleDescriptionId;const w={type:"moov",mvhd:c.mvhd,traks:[{tkhd:p.tkhd,mdia:{mdhd:p.mdia.mdhd,hdlr:p.mdia.hdlr,elng:p.mdia.elng,minf:{vmhd:p.mdia.minf.vmhd,smhd:p.mdia.minf.smhd,dinf:p.mdia.minf.dinf,stbl:{stsd:b.stsd,stts:M(),ctts:M(),stsc:M(),stsz:M(),stco:M(),stss:M()}}}}],mvex:{mehd:{fragmentDuration:c.mvhd.duration},trexs:[{trackId:p.tkhd.trackId,defaultSampleDescriptionIndex:m,defaultSampleDuration:0,defaultSampleSize:0,defaultSampleFlags:0}]}};this._tracks.push({fragmentSequence:1,trackId:p.tkhd.trackId,timeScale:p.mdia.mdhd.timeScale,samples:y,currSample:null,currTime:null,moov:w,mime:t})}if(this._tracks.length===0){this.emit("error",new Error("no playable tracks"));return}c.mvhd.duration=0;this._ftyp={type:"ftyp",brand:"iso5",brandVersion:0,compatibleBrands:["iso5"]};const r=f.encode(this._ftyp);const e=this._tracks.map(e=>{const t=f.encode(e.moov);return{mime:e.mime,init:n.concat([r,t])}});this.emit("ready",e)}seek(t){if(!this._tracks){throw new Error("Not ready yet; wait for 'ready' event")}if(this._fileStream){this._fileStream.destroy();this._fileStream=null}let r=-1;this._tracks.map((n,i)=>{if(n.outStream){n.outStream.destroy()}if(n.inStream){n.inStream.destroy();n.inStream=null}const a=n.outStream=o.encode();const e=this._generateFragment(i,t);if(!e){return a.finalize()}if(r===-1||e.ranges[0].start<r){r=e.ranges[0].start}const s=r=>{if(a.destroyed)return;a.box(r.moof,e=>{if(e)return this.emit("error",e);if(a.destroyed)return;const t=n.inStream.slice(r.ranges);t.pipe(a.mediaData(r.length,e=>{if(e)return this.emit("error",e);if(a.destroyed)return;const t=this._generateFragment(i);if(!t){return a.finalize()}s(t)}))})};s(e)});if(r>=0){const n=this._fileStream=this._file.createReadStream({start:r});this._tracks.forEach(e=>{e.inStream=new i(r,{highWaterMark:1e7});n.pipe(e.inStream)})}return this._tracks.map(e=>{return e.outStream})}_findSampleBefore(e,t){const r=this._tracks[e];const n=Math.floor(r.timeScale*t);let i=a(r.samples,n,(e,t)=>{const r=e.dts+e.presentationOffset;return r-t});if(i===-1){i=0}else if(i<0){i=-i-2}while(!r.samples[i].sync){i--}return i}_generateFragment(e,t){const r=this._tracks[e];let n;if(t!==undefined){n=this._findSampleBefore(e,t)}else{n=r.currSample}if(n>=r.samples.length){return null}const i=r.samples[n].dts;let a=0;const s=[];for(var o=n;o<r.samples.length;o++){const f=r.samples[o];if(f.sync&&f.dts-i>=r.timeScale*l){break}a+=f.size;const u=s.length-1;if(u<0||s[u].end!==f.offset){s.push({start:f.offset,end:f.offset+f.size})}else{s[u].end+=f.size}}r.currSample=o;return{moof:this._generateMoof(e,n,o),ranges:s,length:a}}_generateMoof(e,t,r){const n=this._tracks[e];const i=[];let a=0;for(let e=t;e<r;e++){const o=n.samples[e];if(o.presentationOffset<0){a=1}i.push({sampleDuration:o.duration,sampleSize:o.size,sampleFlags:o.sync?33554432:16842752,sampleCompositionTimeOffset:o.presentationOffset})}const s={type:"moof",mfhd:{sequenceNumber:n.fragmentSequence++},trafs:[{tfhd:{flags:131072,trackId:n.trackId},tfdt:{baseMediaDecodeTime:n.samples[t].dts},trun:{flags:3841,dataOffset:8,entries:i,version:a}}]};s.trafs[0].trun.dataOffset+=f.encodingLength(s);return s}}class T{constructor(e,t){this._entries=e;this._countName=t||"count";this._index=0;this._offset=0;this.value=this._entries[0]}inc(){this._offset++;if(this._offset>=this._entries[this._index][this._countName]){this._index++;this._offset=0}this.value=this._entries[this._index]}}function M(){return{version:0,flags:0,entries:[]}}const l=1;r.exports=t}).call(this,u(73).Buffer)},function(e,t){e.exports=function(e,t,r,n,i){var a,s;if(n===undefined)n=0;else{n=n|0;if(n<0||n>=e.length)throw new RangeError("invalid lower bound")}if(i===undefined)i=e.length-1;else{i=i|0;if(i<n||i>=e.length)throw new RangeError("invalid upper bound")}while(n<=i){a=n+(i-n>>>1);s=+r(e[a],t,a,e);if(s<0)n=a+1;else if(s>0)i=a-1;else return a}return~n}},function(e,t,r){const n=r(469);const i=r(483);t.decode=e=>new n(e);t.encode=e=>new i(e)},function(s,e,o){(function(i){var e=o(308);var r=o(477);var a=o(200);var f=i.alloc(0);class t extends e.Writable{constructor(e){super(e);this.destroyed=false;this._pending=0;this._missing=0;this._ignoreEmpty=false;this._buf=null;this._str=null;this._cb=null;this._ondrain=null;this._writeBuffer=null;this._writeCb=null;this._ondrain=null;this._kick()}destroy(e){if(this.destroyed)return;this.destroyed=true;if(e)this.emit("error",e);this.emit("close")}_write(e,t,r){if(this.destroyed)return;var n=!this._str||!this._str._writableState.needDrain;while(e.length&&!this.destroyed){if(!this._missing&&!this._ignoreEmpty){this._writeBuffer=e;this._writeCb=r;return}var i=e.length<this._missing?e.length:this._missing;if(this._buf)e.copy(this._buf,this._buf.length-this._missing);else if(this._str)n=this._str.write(i===e.length?e:e.slice(0,i));this._missing-=i;if(!this._missing){var a=this._buf;var s=this._cb;var o=this._str;this._buf=this._cb=this._str=this._ondrain=null;n=true;this._ignoreEmpty=false;if(o)o.end();if(s)s(a)}e=i===e.length?f:e.slice(i)}if(this._pending&&!this._missing){this._writeBuffer=e;this._writeCb=r;return}if(n)r();else this._ondrain(r)}_buffer(e,t){this._missing=e;this._buf=i.alloc(e);this._cb=t}_stream(e,t){this._missing=e;this._str=new n(this);this._ondrain=r(this._str,"drain");this._pending++;this._str.on("end",()=>{this._pending--;this._kick()});this._cb=t;return this._str}_readBox(){const n=(e,r)=>{this._buffer(e,e=>{if(r){r=i.concat([r,e])}else{r=e}var t=a.readHeaders(r);if(typeof t==="number"){n(t-r.length,r)}else{this._pending++;this._headers=t;this.emit("box",t)}})};n(8)}stream(){if(!this._headers)throw new Error("this function can only be called once after 'box' is emitted");var e=this._headers;this._headers=null;return this._stream(e.contentLen,()=>{this._pending--;this._kick()})}decode(r){if(!this._headers)throw new Error("this function can only be called once after 'box' is emitted");var n=this._headers;this._headers=null;this._buffer(n.contentLen,e=>{var t=a.decodeWithoutHeaders(n,e);r(t);this._pending--;this._kick()})}ignore(){if(!this._headers)throw new Error("this function can only be called once after 'box' is emitted");var e=this._headers;this._headers=null;this._missing=e.contentLen;if(this._missing===0){this._ignoreEmpty=true}this._cb=()=>{this._pending--;this._kick()}}_kick(){if(this._pending)return;if(!this._buf&&!this._str)this._readBox();if(this._writeBuffer){var e=this._writeCb;var t=this._writeBuffer;this._writeBuffer=null;this._writeCb=null;this._write(t,null,e)}}}class n extends e.PassThrough{constructor(e){super();this._parent=e;this.destroyed=false}destroy(e){if(this.destroyed)return;this.destroyed=true;this._parent.destroy(e);if(e)this.emit("error",e);this.emit("close")}}s.exports=t}).call(this,o(73).Buffer)},,function(e,t,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);if(e)n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable});r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};if(e%2){n(Object(r),true).forEach(function(e){a(t,e,r[e])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))}else{n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}}return t}function a(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function f(e,t,r){if(t)o(e.prototype,t);if(r)o(e,r);return e}var u=r(73),l=u.Buffer;var c=r(472),d=c.inspect;var h=d&&d.custom||"inspect";function p(e,t,r){l.prototype.copy.call(e,t,r)}e.exports=function(){function e(){s(this,e);this.head=null;this.tail=null;this.length=0}f(e,[{key:"push",value:function e(t){var r={data:t,next:null};if(this.length>0)this.tail.next=r;else this.head=r;this.tail=r;++this.length}},{key:"unshift",value:function e(t){var r={data:t,next:this.head};if(this.length===0)this.tail=r;this.head=r;++this.length}},{key:"shift",value:function e(){if(this.length===0)return;var t=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return t}},{key:"clear",value:function e(){this.head=this.tail=null;this.length=0}},{key:"join",value:function e(t){if(this.length===0)return"";var r=this.head;var n=""+r.data;while(r=r.next){n+=t+r.data}return n}},{key:"concat",value:function e(t){if(this.length===0)return l.alloc(0);var r=l.allocUnsafe(t>>>0);var n=this.head;var i=0;while(n){p(n.data,r,i);i+=n.data.length;n=n.next}return r}},{key:"consume",value:function e(t,r){var n;if(t<this.head.data.length){n=this.head.data.slice(0,t);this.head.data=this.head.data.slice(t)}else if(t===this.head.data.length){n=this.shift()}else{n=r?this._getString(t):this._getBuffer(t)}return n}},{key:"first",value:function e(){return this.head.data}},{key:"_getString",value:function e(t){var r=this.head;var n=1;var i=r.data;t-=i.length;while(r=r.next){var a=r.data;var s=t>a.length?a.length:t;if(s===a.length)i+=a;else i+=a.slice(0,t);t-=s;if(t===0){if(s===a.length){++n;if(r.next)this.head=r.next;else this.head=this.tail=null}else{this.head=r;r.data=a.slice(s)}break}++n}this.length-=n;return i}},{key:"_getBuffer",value:function e(t){var r=l.allocUnsafe(t);var n=this.head;var i=1;n.data.copy(r);t-=n.data.length;while(n=n.next){var a=n.data;var s=t>a.length?a.length:t;a.copy(r,r.length-t,0,s);t-=s;if(t===0){if(s===a.length){++i;if(n.next)this.head=n.next;else this.head=this.tail=null}else{this.head=n;n.data=a.slice(s)}break}++i}this.length-=i;return r}},{key:h,value:function e(t,r){return d(this,i({},r,{depth:0,customInspect:false}))}}]);return e}()},,function(y,e,_){"use strict";(function(s){var e;function n(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var a=_(215);var o=Symbol("lastResolve");var f=Symbol("lastReject");var u=Symbol("error");var l=Symbol("ended");var c=Symbol("lastPromise");var d=Symbol("handlePromise");var h=Symbol("stream");function p(e,t){return{value:e,done:t}}function t(e){var t=e[o];if(t!==null){var r=e[h].read();if(r!==null){e[c]=null;e[o]=null;e[f]=null;t(p(r,false))}}}function b(e){s.nextTick(t,e)}function g(r,n){return function(e,t){r.then(function(){if(n[l]){e(p(undefined,true));return}n[d](e,t)},t)}}var r=Object.getPrototypeOf(function(){});var v=Object.setPrototypeOf((e={get stream(){return this[h]},next:function e(){var r=this;var t=this[u];if(t!==null){return Promise.reject(t)}if(this[l]){return Promise.resolve(p(undefined,true))}if(this[h].destroyed){return new Promise(function(e,t){s.nextTick(function(){if(r[u]){t(r[u])}else{e(p(undefined,true))}})})}var n=this[c];var i;if(n){i=new Promise(g(n,this))}else{var a=this[h].read();if(a!==null){return Promise.resolve(p(a,false))}i=new Promise(this[d])}this[c]=i;return i}},n(e,Symbol.asyncIterator,function(){return this}),n(e,"return",function e(){var n=this;return new Promise(function(t,r){n[h].destroy(null,function(e){if(e){r(e);return}t(p(undefined,true))})})}),e),r);var i=function e(t){var r;var i=Object.create(v,(r={},n(r,h,{value:t,writable:true}),n(r,o,{value:null,writable:true}),n(r,f,{value:null,writable:true}),n(r,u,{value:null,writable:true}),n(r,l,{value:t._readableState.endEmitted,writable:true}),n(r,d,{value:function e(t,r){var n=i[h].read();if(n){i[c]=null;i[o]=null;i[f]=null;t(p(n,false))}else{i[o]=t;i[f]=r}},writable:true}),r));i[c]=null;a(t,function(e){if(e&&e.code!=="ERR_STREAM_PREMATURE_CLOSE"){var t=i[f];if(t!==null){i[c]=null;i[o]=null;i[f]=null;t(e)}i[u]=e;return}var r=i[o];if(r!==null){i[c]=null;i[o]=null;i[f]=null;r(p(undefined,true))}i[l]=true});t.on("readable",b.bind(null,i));return i};y.exports=i}).call(this,_(74))},function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(e,t,r){"use strict";e.exports=i;var n=r(314);r(158)(i,n);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}i.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,s){"use strict";var o;function f(e){var t=false;return function(){if(t)return;t=true;e.apply(void 0,arguments)}}var r=s(186).codes,n=r.ERR_MISSING_ARGS,u=r.ERR_STREAM_DESTROYED;function i(e){if(e)throw e}function l(e){return e.setHeader&&typeof e.abort==="function"}function c(t,e,r,n){n=f(n);var i=false;t.on("close",function(){i=true});if(o===undefined)o=s(215);o(t,{readable:e,writable:r},function(e){if(e)return n(e);i=true;n()});var a=false;return function(e){if(i)return;if(a)return;a=true;if(l(t))return t.abort();if(typeof t.destroy==="function")return t.destroy();n(e||new u("pipe"))}}function d(e){e()}function h(e,t){return e.pipe(t)}function p(e){if(!e.length)return i;if(typeof e[e.length-1]!=="function")return i;return e.pop()}function a(){for(var e=arguments.length,i=new Array(e),t=0;t<e;t++){i[t]=arguments[t]}var a=p(i);if(Array.isArray(i[0]))i=i[0];if(i.length<2){throw new n("streams")}var s;var o=i.map(function(e,t){var r=t<i.length-1;var n=t>0;return c(e,r,n,function(e){if(!s)s=e;if(e)o.forEach(d);if(r)return;o.forEach(d);a(s)})});return i.reduce(h)}e.exports=a},function(e,t){e.exports=r;function r(e,t){var r=null;e.on(t,function(e){if(!r)return;var t=r;r=null;t(e)});return function(e){r=e}}},function(e,t,r){(function(a){var s=r(479);var o=r(480);e.exports=function e(t,r,n){if(typeof t!=="number"){throw new TypeError('"size" argument must be a number')}if(t<0){throw new RangeError('"size" argument must not be negative')}if(a.alloc){return a.alloc(t,r,n)}var i=o(t);if(t===0){return i}if(r===undefined){return s(i,0)}if(typeof n!=="string"){n=undefined}return s(i,r,n)}}).call(this,r(73).Buffer)},function(t,e,r){(function(a){var s=function(){try{if(!a.isEncoding("latin1")){return false}var e=a.alloc?a.alloc(4):new a(4);e.fill("ab","ucs2");return e.toString("hex")==="61006200"}catch(e){return false}}();function o(e){return e.length===1&&e.charCodeAt(0)<256}function f(e,t,r,n){if(r<0||n>e.length){throw new RangeError("Out of range index")}r=r>>>0;n=n===undefined?e.length:n>>>0;if(n>r){e.fill(t,r,n)}return e}function u(e,t,r,n){if(r<0||n>e.length){throw new RangeError("Out of range index")}if(n<=r){return e}r=r>>>0;n=n===undefined?e.length:n>>>0;var i=r;var a=t.length;while(i<=n-a){t.copy(e,i);i+=a}if(i!==n){t.copy(e,i,0,n-i)}return e}function e(e,t,r,n,i){if(s){return e.fill(t,r,n,i)}if(typeof t==="number"){return f(e,t,r,n)}if(typeof t==="string"){if(typeof r==="string"){i=r;r=0;n=e.length}else if(typeof n==="string"){i=n;n=e.length}if(i!==undefined&&typeof i!=="string"){throw new TypeError("encoding must be a string")}if(i==="latin1"){i="binary"}if(typeof i==="string"&&!a.isEncoding(i)){throw new TypeError("Unknown encoding: "+i)}if(t===""){return f(e,0,r,n)}if(o(t)){return f(e,t.charCodeAt(0),r,n)}t=new a(t,i)}if(a.isBuffer(t)){return u(e,t,r,n)}return f(e,0,r,n)}t.exports=e}).call(this,r(73).Buffer)},function(r,e,t){(function(t){function e(e){if(typeof e!=="number"){throw new TypeError('"size" argument must be a number')}if(e<0){throw new RangeError('"size" argument must not be negative')}if(t.allocUnsafe){return t.allocUnsafe(e)}else{return new t(e)}}r.exports=e}).call(this,t(73).Buffer)},function(e,m,t){(function(l){var f=t(200);var c=t(482);var a=t(315);var n=20828448e5;m.fullBoxes={};var e=["mvhd","tkhd","mdhd","vmhd","smhd","stsd","esds","stsz","stco","co64","stss","stts","ctts","stsc","dref","elst","hdlr","mehd","trex","mfhd","tfhd","tfdt","trun"];e.forEach(function(e){m.fullBoxes[e]=true});m.ftyp={};m.ftyp.encode=function(e,t,r){t=t?t.slice(r):l.alloc(m.ftyp.encodingLength(e));var n=e.compatibleBrands||[];t.write(e.brand,0,4,"ascii");t.writeUInt32BE(e.brandVersion,4);for(var i=0;i<n.length;i++)t.write(n[i],8+i*4,4,"ascii");m.ftyp.encode.bytes=8+n.length*4;return t};m.ftyp.decode=function(e,t){e=e.slice(t);var r=e.toString("ascii",0,4);var n=e.readUInt32BE(4);var i=[];for(var a=8;a<e.length;a+=4)i.push(e.toString("ascii",a,a+4));return{brand:r,brandVersion:n,compatibleBrands:i}};m.ftyp.encodingLength=function(e){return 8+(e.compatibleBrands||[]).length*4};m.mvhd={};m.mvhd.encode=function(e,t,r){t=t?t.slice(r):l.alloc(96);i(e.ctime||new Date,t,0);i(e.mtime||new Date,t,4);t.writeUInt32BE(e.timeScale||0,8);t.writeUInt32BE(e.duration||0,12);u(e.preferredRate||0,t,16);d(e.preferredVolume||0,t,20);o(t,22,32);h(e.matrix,t,32);t.writeUInt32BE(e.previewTime||0,68);t.writeUInt32BE(e.previewDuration||0,72);t.writeUInt32BE(e.posterTime||0,76);t.writeUInt32BE(e.selectionTime||0,80);t.writeUInt32BE(e.selectionDuration||0,84);t.writeUInt32BE(e.currentTime||0,88);t.writeUInt32BE(e.nextTrackId||0,92);m.mvhd.encode.bytes=96;return t};m.mvhd.decode=function(e,t){e=e.slice(t);return{ctime:g(e,0),mtime:g(e,4),timeScale:e.readUInt32BE(8),duration:e.readUInt32BE(12),preferredRate:v(e,16),preferredVolume:y(e,20),matrix:r(e.slice(32,68)),previewTime:e.readUInt32BE(68),previewDuration:e.readUInt32BE(72),posterTime:e.readUInt32BE(76),selectionTime:e.readUInt32BE(80),selectionDuration:e.readUInt32BE(84),currentTime:e.readUInt32BE(88),nextTrackId:e.readUInt32BE(92)}};m.mvhd.encodingLength=function(e){return 96};m.tkhd={};m.tkhd.encode=function(e,t,r){t=t?t.slice(r):l.alloc(80);i(e.ctime||new Date,t,0);i(e.mtime||new Date,t,4);t.writeUInt32BE(e.trackId||0,8);o(t,12,16);t.writeUInt32BE(e.duration||0,16);o(t,20,28);t.writeUInt16BE(e.layer||0,28);t.writeUInt16BE(e.alternateGroup||0,30);t.writeUInt16BE(e.volume||0,32);h(e.matrix,t,36);t.writeUInt32BE(e.trackWidth||0,72);t.writeUInt32BE(e.trackHeight||0,76);m.tkhd.encode.bytes=80;return t};m.tkhd.decode=function(e,t){e=e.slice(t);return{ctime:g(e,0),mtime:g(e,4),trackId:e.readUInt32BE(8),duration:e.readUInt32BE(16),layer:e.readUInt16BE(28),alternateGroup:e.readUInt16BE(30),volume:e.readUInt16BE(32),matrix:r(e.slice(36,72)),trackWidth:e.readUInt32BE(72),trackHeight:e.readUInt32BE(76)}};m.tkhd.encodingLength=function(e){return 80};m.mdhd={};m.mdhd.encode=function(e,t,r){if(e.version===1){t=t?t.slice(r):l.alloc(32);s(e.ctime||new Date,t,0);s(e.mtime||new Date,t,8);t.writeUInt32BE(e.timeScale||0,16);t.writeUIntBE(e.duration||0,20,6);t.writeUInt16BE(e.language||0,28);t.writeUInt16BE(e.quality||0,30);m.mdhd.encode.bytes=32;return t}t=t?t.slice(r):l.alloc(20);i(e.ctime||new Date,t,0);i(e.mtime||new Date,t,4);t.writeUInt32BE(e.timeScale||0,8);t.writeUInt32BE(e.duration||0,12);t.writeUInt16BE(e.language||0,16);t.writeUInt16BE(e.quality||0,18);m.mdhd.encode.bytes=20;return t};m.mdhd.decode=function(e,t,r){e=e.slice(t);var n=r-t!==20;if(n){return{ctime:b(e,0),mtime:b(e,8),timeScale:e.readUInt32BE(16),duration:e.readUIntBE(20,6),language:e.readUInt16BE(28),quality:e.readUInt16BE(30)}}return{ctime:g(e,0),mtime:g(e,4),timeScale:e.readUInt32BE(8),duration:e.readUInt32BE(12),language:e.readUInt16BE(16),quality:e.readUInt16BE(18)}};m.mdhd.encodingLength=function(e){if(e.version===1)return 32;return 20};m.vmhd={};m.vmhd.encode=function(e,t,r){t=t?t.slice(r):l.alloc(8);t.writeUInt16BE(e.graphicsMode||0,0);var n=e.opcolor||[0,0,0];t.writeUInt16BE(n[0],2);t.writeUInt16BE(n[1],4);t.writeUInt16BE(n[2],6);m.vmhd.encode.bytes=8;return t};m.vmhd.decode=function(e,t){e=e.slice(t);return{graphicsMode:e.readUInt16BE(0),opcolor:[e.readUInt16BE(2),e.readUInt16BE(4),e.readUInt16BE(6)]}};m.vmhd.encodingLength=function(e){return 8};m.smhd={};m.smhd.encode=function(e,t,r){t=t?t.slice(r):l.alloc(4);t.writeUInt16BE(e.balance||0,0);o(t,2,4);m.smhd.encode.bytes=4;return t};m.smhd.decode=function(e,t){e=e.slice(t);return{balance:e.readUInt16BE(0)}};m.smhd.encodingLength=function(e){return 4};m.stsd={};m.stsd.encode=function(e,t,r){t=t?t.slice(r):l.alloc(m.stsd.encodingLength(e));var n=e.entries||[];t.writeUInt32BE(n.length,0);var i=4;for(var a=0;a<n.length;a++){var s=n[a];f.encode(s,t,i);i+=f.encode.bytes}m.stsd.encode.bytes=i;return t};m.stsd.decode=function(e,t,r){e=e.slice(t);var n=e.readUInt32BE(0);var i=new Array(n);var a=4;for(var s=0;s<n;s++){var o=f.decode(e,a,r);i[s]=o;a+=o.length}return{entries:i}};m.stsd.encodingLength=function(e){var t=4;if(!e.entries)return t;for(var r=0;r<e.entries.length;r++){t+=f.encodingLength(e.entries[r])}return t};m.avc1=m.VisualSampleEntry={};m.VisualSampleEntry.encode=function(e,t,r){t=t?t.slice(r):l.alloc(m.VisualSampleEntry.encodingLength(e));o(t,0,6);t.writeUInt16BE(e.dataReferenceIndex||0,6);o(t,8,24);t.writeUInt16BE(e.width||0,24);t.writeUInt16BE(e.height||0,26);t.writeUInt32BE(e.hResolution||4718592,28);t.writeUInt32BE(e.vResolution||4718592,32);o(t,36,40);t.writeUInt16BE(e.frameCount||1,40);var n=e.compressorName||"";var i=Math.min(n.length,31);t.writeUInt8(i,42);t.write(n,43,i,"utf8");t.writeUInt16BE(e.depth||24,74);t.writeInt16BE(-1,76);var a=78;var s=e.children||[];s.forEach(function(e){f.encode(e,t,a);a+=f.encode.bytes});m.VisualSampleEntry.encode.bytes=a};m.VisualSampleEntry.decode=function(e,t,r){e=e.slice(t);var n=r-t;var i=Math.min(e.readUInt8(42),31);var a={dataReferenceIndex:e.readUInt16BE(6),width:e.readUInt16BE(24),height:e.readUInt16BE(26),hResolution:e.readUInt32BE(28),vResolution:e.readUInt32BE(32),frameCount:e.readUInt16BE(40),compressorName:e.toString("utf8",43,43+i),depth:e.readUInt16BE(74),children:[]};var s=78;while(n-s>=8){var o=f.decode(e,s,n);a.children.push(o);a[o.type]=o;s+=o.length}return a};m.VisualSampleEntry.encodingLength=function(e){var t=78;var r=e.children||[];r.forEach(function(e){t+=f.encodingLength(e)});return t};m.avcC={};m.avcC.encode=function(e,t,r){t=t?t.slice(r):l.alloc(e.buffer.length);e.buffer.copy(t);m.avcC.encode.bytes=e.buffer.length};m.avcC.decode=function(e,t,r){e=e.slice(t,r);return{mimeCodec:e.toString("hex",1,4),buffer:l.from(e)}};m.avcC.encodingLength=function(e){return e.buffer.length};m.mp4a=m.AudioSampleEntry={};m.AudioSampleEntry.encode=function(e,t,r){t=t?t.slice(r):l.alloc(m.AudioSampleEntry.encodingLength(e));o(t,0,6);t.writeUInt16BE(e.dataReferenceIndex||0,6);o(t,8,16);t.writeUInt16BE(e.channelCount||2,16);t.writeUInt16BE(e.sampleSize||16,18);o(t,20,24);t.writeUInt32BE(e.sampleRate||0,24);var n=28;var i=e.children||[];i.forEach(function(e){f.encode(e,t,n);n+=f.encode.bytes});m.AudioSampleEntry.encode.bytes=n};m.AudioSampleEntry.decode=function(e,t,r){e=e.slice(t,r);var n=r-t;var i={dataReferenceIndex:e.readUInt16BE(6),channelCount:e.readUInt16BE(16),sampleSize:e.readUInt16BE(18),sampleRate:e.readUInt32BE(24),children:[]};var a=28;while(n-a>=8){var s=f.decode(e,a,n);i.children.push(s);i[s.type]=s;a+=s.length}return i};m.AudioSampleEntry.encodingLength=function(e){var t=28;var r=e.children||[];r.forEach(function(e){t+=f.encodingLength(e)});return t};m.esds={};m.esds.encode=function(e,t,r){t=t?t.slice(r):l.alloc(e.buffer.length);e.buffer.copy(t,0);m.esds.encode.bytes=e.buffer.length};m.esds.decode=function(e,t,r){e=e.slice(t,r);var n=c.Descriptor.decode(e,0,e.length);var i=n.tagName==="ESDescriptor"?n:{};var a=i.DecoderConfigDescriptor||{};var s=a.oti||0;var o=a.DecoderSpecificInfo;var f=o?(o.buffer.readUInt8(0)&248)>>3:0;var u=null;if(s){u=s.toString(16);if(f){u+="."+f}}return{mimeCodec:u,buffer:l.from(e.slice(0))}};m.esds.encodingLength=function(e){return e.buffer.length};m.stsz={};m.stsz.encode=function(e,t,r){var n=e.entries||[];t=t?t.slice(r):l.alloc(m.stsz.encodingLength(e));t.writeUInt32BE(0,0);t.writeUInt32BE(n.length,4);for(var i=0;i<n.length;i++){t.writeUInt32BE(n[i],i*4+8)}m.stsz.encode.bytes=8+n.length*4;return t};m.stsz.decode=function(e,t){e=e.slice(t);var r=e.readUInt32BE(0);var n=e.readUInt32BE(4);var i=new Array(n);for(var a=0;a<n;a++){if(r===0){i[a]=e.readUInt32BE(a*4+8)}else{i[a]=r}}return{entries:i}};m.stsz.encodingLength=function(e){return 8+e.entries.length*4};m.stss=m.stco={};m.stco.encode=function(e,t,r){var n=e.entries||[];t=t?t.slice(r):l.alloc(m.stco.encodingLength(e));t.writeUInt32BE(n.length,0);for(var i=0;i<n.length;i++){t.writeUInt32BE(n[i],i*4+4)}m.stco.encode.bytes=4+n.length*4;return t};m.stco.decode=function(e,t){e=e.slice(t);var r=e.readUInt32BE(0);var n=new Array(r);for(var i=0;i<r;i++){n[i]=e.readUInt32BE(i*4+4)}return{entries:n}};m.stco.encodingLength=function(e){return 4+e.entries.length*4};m.co64={};m.co64.encode=function(e,t,r){var n=e.entries||[];t=t?t.slice(r):l.alloc(m.co64.encodingLength(e));t.writeUInt32BE(n.length,0);for(var i=0;i<n.length;i++){a.encode(n[i],t,i*8+4)}m.co64.encode.bytes=4+n.length*8;return t};m.co64.decode=function(e,t){e=e.slice(t);var r=e.readUInt32BE(0);var n=new Array(r);for(var i=0;i<r;i++){n[i]=a.decode(e,i*8+4)}return{entries:n}};m.co64.encodingLength=function(e){return 4+e.entries.length*8};m.stts={};m.stts.encode=function(e,t,r){var n=e.entries||[];t=t?t.slice(r):l.alloc(m.stts.encodingLength(e));t.writeUInt32BE(n.length,0);for(var i=0;i<n.length;i++){var a=i*8+4;t.writeUInt32BE(n[i].count||0,a);t.writeUInt32BE(n[i].duration||0,a+4)}m.stts.encode.bytes=4+e.entries.length*8;return t};m.stts.decode=function(e,t){e=e.slice(t);var r=e.readUInt32BE(0);var n=new Array(r);for(var i=0;i<r;i++){var a=i*8+4;n[i]={count:e.readUInt32BE(a),duration:e.readUInt32BE(a+4)}}return{entries:n}};m.stts.encodingLength=function(e){return 4+e.entries.length*8};m.ctts={};m.ctts.encode=function(e,t,r){var n=e.entries||[];t=t?t.slice(r):l.alloc(m.ctts.encodingLength(e));t.writeUInt32BE(n.length,0);for(var i=0;i<n.length;i++){var a=i*8+4;t.writeUInt32BE(n[i].count||0,a);t.writeUInt32BE(n[i].compositionOffset||0,a+4)}m.ctts.encode.bytes=4+n.length*8;return t};m.ctts.decode=function(e,t){e=e.slice(t);var r=e.readUInt32BE(0);var n=new Array(r);for(var i=0;i<r;i++){var a=i*8+4;n[i]={count:e.readUInt32BE(a),compositionOffset:e.readInt32BE(a+4)}}return{entries:n}};m.ctts.encodingLength=function(e){return 4+e.entries.length*8};m.stsc={};m.stsc.encode=function(e,t,r){var n=e.entries||[];t=t?t.slice(r):l.alloc(m.stsc.encodingLength(e));t.writeUInt32BE(n.length,0);for(var i=0;i<n.length;i++){var a=i*12+4;t.writeUInt32BE(n[i].firstChunk||0,a);t.writeUInt32BE(n[i].samplesPerChunk||0,a+4);t.writeUInt32BE(n[i].sampleDescriptionId||0,a+8)}m.stsc.encode.bytes=4+n.length*12;return t};m.stsc.decode=function(e,t){e=e.slice(t);var r=e.readUInt32BE(0);var n=new Array(r);for(var i=0;i<r;i++){var a=i*12+4;n[i]={firstChunk:e.readUInt32BE(a),samplesPerChunk:e.readUInt32BE(a+4),sampleDescriptionId:e.readUInt32BE(a+8)}}return{entries:n}};m.stsc.encodingLength=function(e){return 4+e.entries.length*12};m.dref={};m.dref.encode=function(e,t,r){t=t?t.slice(r):l.alloc(m.dref.encodingLength(e));var n=e.entries||[];t.writeUInt32BE(n.length,0);var i=4;for(var a=0;a<n.length;a++){var s=n[a];var o=(s.buf?s.buf.length:0)+4+4;t.writeUInt32BE(o,i);i+=4;t.write(s.type,i,4,"ascii");i+=4;if(s.buf){s.buf.copy(t,i);i+=s.buf.length}}m.dref.encode.bytes=i;return t};m.dref.decode=function(e,t){e=e.slice(t);var r=e.readUInt32BE(0);var n=new Array(r);var i=4;for(var a=0;a<r;a++){var s=e.readUInt32BE(i);var o=e.toString("ascii",i+4,i+8);var f=e.slice(i+8,i+s);i+=s;n[a]={type:o,buf:f}}return{entries:n}};m.dref.encodingLength=function(e){var t=4;if(!e.entries)return t;for(var r=0;r<e.entries.length;r++){var n=e.entries[r].buf;t+=(n?n.length:0)+4+4}return t};m.elst={};m.elst.encode=function(e,t,r){var n=e.entries||[];t=t?t.slice(r):l.alloc(m.elst.encodingLength(e));t.writeUInt32BE(n.length,0);for(var i=0;i<n.length;i++){var a=i*12+4;t.writeUInt32BE(n[i].trackDuration||0,a);t.writeUInt32BE(n[i].mediaTime||0,a+4);u(n[i].mediaRate||0,t,a+8)}m.elst.encode.bytes=4+n.length*12;return t};m.elst.decode=function(e,t){e=e.slice(t);var r=e.readUInt32BE(0);var n=new Array(r);for(var i=0;i<r;i++){var a=i*12+4;n[i]={trackDuration:e.readUInt32BE(a),mediaTime:e.readInt32BE(a+4),mediaRate:v(e,a+8)}}return{entries:n}};m.elst.encodingLength=function(e){return 4+e.entries.length*12};m.hdlr={};m.hdlr.encode=function(e,t,r){t=t?t.slice(r):l.alloc(m.hdlr.encodingLength(e));var n=21+(e.name||"").length;t.fill(0,0,n);t.write(e.handlerType||"",4,4,"ascii");p(e.name||"",t,20);m.hdlr.encode.bytes=n;return t};m.hdlr.decode=function(e,t,r){e=e.slice(t);return{handlerType:e.toString("ascii",4,8),name:_(e,20,r)}};m.hdlr.encodingLength=function(e){return 21+(e.name||"").length};m.mehd={};m.mehd.encode=function(e,t,r){t=t?t.slice(r):l.alloc(4);t.writeUInt32BE(e.fragmentDuration||0,0);m.mehd.encode.bytes=4;return t};m.mehd.decode=function(e,t){e=e.slice(t);return{fragmentDuration:e.readUInt32BE(0)}};m.mehd.encodingLength=function(e){return 4};m.trex={};m.trex.encode=function(e,t,r){t=t?t.slice(r):l.alloc(20);t.writeUInt32BE(e.trackId||0,0);t.writeUInt32BE(e.defaultSampleDescriptionIndex||0,4);t.writeUInt32BE(e.defaultSampleDuration||0,8);t.writeUInt32BE(e.defaultSampleSize||0,12);t.writeUInt32BE(e.defaultSampleFlags||0,16);m.trex.encode.bytes=20;return t};m.trex.decode=function(e,t){e=e.slice(t);return{trackId:e.readUInt32BE(0),defaultSampleDescriptionIndex:e.readUInt32BE(4),defaultSampleDuration:e.readUInt32BE(8),defaultSampleSize:e.readUInt32BE(12),defaultSampleFlags:e.readUInt32BE(16)}};m.trex.encodingLength=function(e){return 20};m.mfhd={};m.mfhd.encode=function(e,t,r){t=t?t.slice(r):l.alloc(4);t.writeUInt32BE(e.sequenceNumber||0,0);m.mfhd.encode.bytes=4;return t};m.mfhd.decode=function(e,t){return{sequenceNumber:e.readUInt32BE(0)}};m.mfhd.encodingLength=function(e){return 4};m.tfhd={};m.tfhd.encode=function(e,t,r){t=t?t.slice(r):l.alloc(4);t.writeUInt32BE(e.trackId,0);m.tfhd.encode.bytes=4;return t};m.tfhd.decode=function(e,t){};m.tfhd.encodingLength=function(e){return 4};m.tfdt={};m.tfdt.encode=function(e,t,r){t=t?t.slice(r):l.alloc(4);t.writeUInt32BE(e.baseMediaDecodeTime||0,0);m.tfdt.encode.bytes=4;return t};m.tfdt.decode=function(e,t){};m.tfdt.encodingLength=function(e){return 4};m.trun={};m.trun.encode=function(e,t,r){t=t?t.slice(r):l.alloc(8+e.entries.length*16);t.writeUInt32BE(e.entries.length,0);t.writeInt32BE(e.dataOffset,4);var n=8;for(var i=0;i<e.entries.length;i++){var a=e.entries[i];t.writeUInt32BE(a.sampleDuration,n);n+=4;t.writeUInt32BE(a.sampleSize,n);n+=4;t.writeUInt32BE(a.sampleFlags,n);n+=4;if((e.version||0)===0){t.writeUInt32BE(a.sampleCompositionTimeOffset,n)}else{t.writeInt32BE(a.sampleCompositionTimeOffset,n)}n+=4}m.trun.encode.bytes=n};m.trun.decode=function(e,t){};m.trun.encodingLength=function(e){return 8+e.entries.length*16};m.mdat={};m.mdat.encode=function(e,t,r){if(e.buffer){e.buffer.copy(t,r);m.mdat.encode.bytes=e.buffer.length}else{m.mdat.encode.bytes=m.mdat.encodingLength(e)}};m.mdat.decode=function(e,t,r){return{buffer:l.from(e.slice(t,r))}};m.mdat.encodingLength=function(e){return e.buffer?e.buffer.length:e.contentLength};function o(e,t,r){for(var n=t;n<r;n++)e[n]=0}function i(e,t,r){t.writeUInt32BE(Math.floor((e.getTime()+n)/1e3),r)}function s(e,t,r){t.writeUIntBE(Math.floor((e.getTime()+n)/1e3),r,6)}function u(e,t,r){t.writeUInt16BE(Math.floor(e)%(256*256),r);t.writeUInt16BE(Math.floor(e*256*256)%(256*256),r+2)}function d(e,t,r){t[r]=Math.floor(e)%256;t[r+1]=Math.floor(e*256)%256}function h(e,t,r){if(!e)e=[0,0,0,0,0,0,0,0,0];for(var n=0;n<e.length;n++){u(e[n],t,r+n*4)}}function p(e,t,r){var n=l.from(e,"utf8");n.copy(t,r);t[r+n.length]=0}function r(e){var t=new Array(e.length/4);for(var r=0;r<t.length;r++)t[r]=v(e,r*4);return t}function b(e,t){return new Date(e.readUIntBE(t,6)*1e3-n)}function g(e,t){return new Date(e.readUInt32BE(t)*1e3-n)}function v(e,t){return e.readUInt16BE(t)+e.readUInt16BE(t+2)/(256*256)}function y(e,t){return e[t]+e[t+1]/256}function _(e,t,r){var n;for(n=0;n<r;n++){if(e[t+n]===0){break}}return e.toString("utf8",t,t+n)}}).call(this,t(73).Buffer)},function(e,c,t){(function(u){var l={3:"ESDescriptor",4:"DecoderConfigDescriptor",5:"DecoderSpecificInfo",6:"SLConfigDescriptor"};c.Descriptor={};c.Descriptor.decode=function(e,t,r){var n=e.readUInt8(t);var i=t+1;var a;var s=0;do{a=e.readUInt8(i++);s=s<<7|a&127}while(a&128);var o;var f=l[n];if(c[f]){o=c[f].decode(e,i,r)}else{o={buffer:u.from(e.slice(i,i+s))}}o.tag=n;o.tagName=f;o.length=i-t+s;o.contentsLen=s;return o};c.DescriptorArray={};c.DescriptorArray.decode=function(e,t,r){var n=t;var i={};while(n+2<=r){var a=c.Descriptor.decode(e,n,r);n+=a.length;var s=l[a.tag]||"Descriptor"+a.tag;i[s]=a}return i};c.ESDescriptor={};c.ESDescriptor.decode=function(e,t,r){var n=e.readUInt8(t+2);var i=t+3;if(n&128){i+=2}if(n&64){var a=e.readUInt8(i);i+=a+1}if(n&32){i+=2}return c.DescriptorArray.decode(e,i,r)};c.DecoderConfigDescriptor={};c.DecoderConfigDescriptor.decode=function(e,t,r){var n=e.readUInt8(t);var i=c.DescriptorArray.decode(e,t+13,r);i.oti=n;return i}}).call(this,t(73).Buffer)},function(r,e,f){(function(i){var e=f(308);var a=f(200);var s=f(164);function o(){}class t extends e.Readable{constructor(e){super(e);this.destroyed=false;this._finalized=false;this._reading=false;this._stream=null;this._drain=null;this._want=false;this._onreadable=()=>{if(!this._want)return;this._want=false;this._read()};this._onend=()=>{this._stream=null}}mdat(e,t){this.mediaData(e,t)}mediaData(e,t){var r=new n(this);this.box({type:"mdat",contentLength:e,encodeBufferLen:8,stream:r},t);return r}box(e,t){if(!t)t=o;if(this.destroyed)return t(new Error("Encoder is destroyed"));var r;if(e.encodeBufferLen){r=i.alloc(e.encodeBufferLen)}if(e.stream){e.buffer=null;r=a.encode(e,r);this.push(r);this._stream=e.stream;this._stream.on("readable",this._onreadable);this._stream.on("end",this._onend);this._stream.on("end",t);this._forward()}else{r=a.encode(e,r);var n=this.push(r);if(n)return s(t);this._drain=t}}destroy(e){if(this.destroyed)return;this.destroyed=true;if(this._stream&&this._stream.destroy)this._stream.destroy();this._stream=null;if(this._drain){var t=this._drain;this._drain=null;t(e)}if(e)this.emit("error",e);this.emit("close")}finalize(){this._finalized=true;if(!this._stream&&!this._drain){this.push(null)}}_forward(){if(!this._stream)return;while(!this.destroyed){var e=this._stream.read();if(!e){this._want=!!this._stream;return}if(!this.push(e))return}}_read(){if(this._reading||this.destroyed)return;this._reading=true;if(this._stream)this._forward();if(this._drain){var e=this._drain;this._drain=null;e()}this._reading=false;if(this._finalized){this.push(null)}}}class n extends e.PassThrough{constructor(e){super();this._parent=e;this.destroyed=false}destroy(e){if(this.destroyed)return;this.destroyed=true;this._parent.destroy(e);if(e)this.emit("error",e);this.emit("close")}}r.exports=t}).call(this,f(73).Buffer)},function(e,t,r){const{Writable:n,PassThrough:i}=r(485);class a extends n{constructor(e,t={}){super(t);this.destroyed=false;this._queue=[];this._position=e||0;this._cb=null;this._buffer=null;this._out=null}_write(t,e,r){let n=true;while(true){if(this.destroyed){return}if(this._queue.length===0){this._buffer=t;this._cb=r;return}this._buffer=null;var i=this._queue[0];const a=Math.max(i.start-this._position,0);const s=i.end-this._position;if(a>=t.length){this._position+=t.length;return r(null)}let e;if(s>t.length){this._position+=t.length;if(a===0){e=t}else{e=t.slice(a)}n=i.stream.write(e)&&n;break}this._position+=s;e=a===0&&s===t.length?t:t.slice(a,s);n=i.stream.write(e)&&n;if(i.last){i.stream.end()}t=t.slice(s);this._queue.shift()}if(n){r(null)}else{i.stream.once("drain",r.bind(null,null))}}slice(r){if(this.destroyed)return null;if(!Array.isArray(r))r=[r];const n=new i;r.forEach((e,t)=>{this._queue.push({start:e.start,end:e.end,stream:n,last:t===r.length-1})});if(this._buffer){this._write(this._buffer,null,this._cb)}return n}destroy(e){if(this.destroyed)return;this.destroyed=true;if(e)this.emit("error",e)}}e.exports=a},function(e,t,r){t=e.exports=r(316);t.Stream=t;t.Readable=t;t.Writable=r(320);t.Duplex=r(189);t.Transform=r(321);t.PassThrough=r(491);t.finished=r(216);t.pipeline=r(492)},,function(e,t,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);if(e)n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable});r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};if(e%2){n(Object(r),true).forEach(function(e){a(t,e,r[e])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))}else{n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}}return t}function a(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function f(e,t,r){if(t)o(e.prototype,t);if(r)o(e,r);return e}var u=r(73),l=u.Buffer;var c=r(488),d=c.inspect;var h=d&&d.custom||"inspect";function p(e,t,r){l.prototype.copy.call(e,t,r)}e.exports=function(){function e(){s(this,e);this.head=null;this.tail=null;this.length=0}f(e,[{key:"push",value:function e(t){var r={data:t,next:null};if(this.length>0)this.tail.next=r;else this.head=r;this.tail=r;++this.length}},{key:"unshift",value:function e(t){var r={data:t,next:this.head};if(this.length===0)this.tail=r;this.head=r;++this.length}},{key:"shift",value:function e(){if(this.length===0)return;var t=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return t}},{key:"clear",value:function e(){this.head=this.tail=null;this.length=0}},{key:"join",value:function e(t){if(this.length===0)return"";var r=this.head;var n=""+r.data;while(r=r.next){n+=t+r.data}return n}},{key:"concat",value:function e(t){if(this.length===0)return l.alloc(0);var r=l.allocUnsafe(t>>>0);var n=this.head;var i=0;while(n){p(n.data,r,i);i+=n.data.length;n=n.next}return r}},{key:"consume",value:function e(t,r){var n;if(t<this.head.data.length){n=this.head.data.slice(0,t);this.head.data=this.head.data.slice(t)}else if(t===this.head.data.length){n=this.shift()}else{n=r?this._getString(t):this._getBuffer(t)}return n}},{key:"first",value:function e(){return this.head.data}},{key:"_getString",value:function e(t){var r=this.head;var n=1;var i=r.data;t-=i.length;while(r=r.next){var a=r.data;var s=t>a.length?a.length:t;if(s===a.length)i+=a;else i+=a.slice(0,t);t-=s;if(t===0){if(s===a.length){++n;if(r.next)this.head=r.next;else this.head=this.tail=null}else{this.head=r;r.data=a.slice(s)}break}++n}this.length-=n;return i}},{key:"_getBuffer",value:function e(t){var r=l.allocUnsafe(t);var n=this.head;var i=1;n.data.copy(r);t-=n.data.length;while(n=n.next){var a=n.data;var s=t>a.length?a.length:t;a.copy(r,r.length-t,0,s);t-=s;if(t===0){if(s===a.length){++i;if(n.next)this.head=n.next;else this.head=this.tail=null}else{this.head=n;n.data=a.slice(s)}break}++i}this.length-=i;return r}},{key:h,value:function e(t,r){return d(this,i({},r,{depth:0,customInspect:false}))}}]);return e}()},,function(y,e,_){"use strict";(function(s){var e;function n(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var a=_(216);var o=Symbol("lastResolve");var f=Symbol("lastReject");var u=Symbol("error");var l=Symbol("ended");var c=Symbol("lastPromise");var d=Symbol("handlePromise");var h=Symbol("stream");function p(e,t){return{value:e,done:t}}function t(e){var t=e[o];if(t!==null){var r=e[h].read();if(r!==null){e[c]=null;e[o]=null;e[f]=null;t(p(r,false))}}}function b(e){s.nextTick(t,e)}function g(r,n){return function(e,t){r.then(function(){if(n[l]){e(p(undefined,true));return}n[d](e,t)},t)}}var r=Object.getPrototypeOf(function(){});var v=Object.setPrototypeOf((e={get stream(){return this[h]},next:function e(){var r=this;var t=this[u];if(t!==null){return Promise.reject(t)}if(this[l]){return Promise.resolve(p(undefined,true))}if(this[h].destroyed){return new Promise(function(e,t){s.nextTick(function(){if(r[u]){t(r[u])}else{e(p(undefined,true))}})})}var n=this[c];var i;if(n){i=new Promise(g(n,this))}else{var a=this[h].read();if(a!==null){return Promise.resolve(p(a,false))}i=new Promise(this[d])}this[c]=i;return i}},n(e,Symbol.asyncIterator,function(){return this}),n(e,"return",function e(){var n=this;return new Promise(function(t,r){n[h].destroy(null,function(e){if(e){r(e);return}t(p(undefined,true))})})}),e),r);var i=function e(t){var r;var i=Object.create(v,(r={},n(r,h,{value:t,writable:true}),n(r,o,{value:null,writable:true}),n(r,f,{value:null,writable:true}),n(r,u,{value:null,writable:true}),n(r,l,{value:t._readableState.endEmitted,writable:true}),n(r,d,{value:function e(t,r){var n=i[h].read();if(n){i[c]=null;i[o]=null;i[f]=null;t(p(n,false))}else{i[o]=t;i[f]=r}},writable:true}),r));i[c]=null;a(t,function(e){if(e&&e.code!=="ERR_STREAM_PREMATURE_CLOSE"){var t=i[f];if(t!==null){i[c]=null;i[o]=null;i[f]=null;t(e)}i[u]=e;return}var r=i[o];if(r!==null){i[c]=null;i[o]=null;i[f]=null;r(p(undefined,true))}i[l]=true});t.on("readable",b.bind(null,i));return i};y.exports=i}).call(this,_(74))},function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(e,t,r){"use strict";e.exports=i;var n=r(321);r(158)(i,n);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}i.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,s){"use strict";var o;function f(e){var t=false;return function(){if(t)return;t=true;e.apply(void 0,arguments)}}var r=s(188).codes,n=r.ERR_MISSING_ARGS,u=r.ERR_STREAM_DESTROYED;function i(e){if(e)throw e}function l(e){return e.setHeader&&typeof e.abort==="function"}function c(t,e,r,n){n=f(n);var i=false;t.on("close",function(){i=true});if(o===undefined)o=s(216);o(t,{readable:e,writable:r},function(e){if(e)return n(e);i=true;n()});var a=false;return function(e){if(i)return;if(a)return;a=true;if(l(t))return t.abort();if(typeof t.destroy==="function")return t.destroy();n(e||new u("pipe"))}}function d(e){e()}function h(e,t){return e.pipe(t)}function p(e){if(!e.length)return i;if(typeof e[e.length-1]!=="function")return i;return e.pop()}function a(){for(var e=arguments.length,i=new Array(e),t=0;t<e;t++){i[t]=arguments[t]}var a=p(i);if(Array.isArray(i[0]))i=i[0];if(i.length<2){throw new n("streams")}var s;var o=i.map(function(e,t){var r=t<i.length-1;var n=t>0;return c(e,r,n,function(e){if(!s)s=e;if(e)o.forEach(d);if(r)return;o.forEach(d);a(s)})});return i.reduce(h)}e.exports=a},function(e,t,r){(function(s){/*! stream-with-known-length-to-buffer. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
var o=r(166);e.exports=function e(t,r,n){n=o(n);var i=s.alloc(r);var a=0;t.on("data",function(e){e.copy(i,a);a+=e.length}).on("end",function(){n(null,i)}).on("error",n)}}).call(this,r(73).Buffer)},function(e,t,r){const n=r(161)("webtorrent:file-stream");const i=r(292);class a extends i.Readable{constructor(e,t){super(t);this.destroyed=false;this._torrent=e._torrent;const r=t&&t.start||0;const n=t&&t.end&&t.end<e.length?t.end:e.length-1;const i=e._torrent.pieceLength;this._startPiece=(r+e.offset)/i|0;this._endPiece=(n+e.offset)/i|0;this._piece=this._startPiece;this._offset=r+e.offset-this._startPiece*i;this._missing=n-r+1;this._reading=false;this._notifying=false;this._criticalLength=Math.min(1024*1024/i|0,2)}_read(){if(this._reading)return;this._reading=true;this._notify()}_notify(){if(!this._reading||this._missing===0)return;if(!this._torrent.bitfield.get(this._piece)){return this._torrent.critical(this._piece,this._piece+this._criticalLength)}if(this._notifying)return;this._notifying=true;if(this._torrent.destroyed)return this._destroy(new Error("Torrent removed"));const r=this._piece;const e={};if(r===this._torrent.pieces.length-1){e.length=this._torrent.lastPieceLength}this._torrent.store.get(r,e,(e,t)=>{this._notifying=false;if(this.destroyed)return;n("read %s (length %s) (err %s)",r,t&&t.length,e&&e.message);if(e)return this._destroy(e);if(this._offset){t=t.slice(this._offset);this._offset=0}if(this._missing<t.length){t=t.slice(0,this._missing)}this._missing-=t.length;n("pushing buffer of length %s",t.length);this._reading=false;this.push(t);if(this._missing===0)this.push(null)});this._piece+=1}destroy(e){this._destroy(null,e)}_destroy(e,t){if(this.destroyed)return;this.destroyed=true;if(!this._torrent.destroyed){this._torrent.deselect(this._startPiece,this._endPiece,true)}if(e)this.emit("error",e);this.emit("close");if(t)t()}}e.exports=a},function(e,t,r){const i=r(322);const a=r(161)("webtorrent:peer");const n=r(323);const s=5e3;const o=5e3;const f=25e3;const u=25e3;t.createWebRTCPeer=(e,t)=>{const r=new d(e.id,"webrtc");r.conn=e;r.swarm=t;if(r.conn.connected){r.onConnect()}else{r.conn.once("connect",()=>{r.onConnect()});r.conn.once("error",e=>{r.destroy(e)});r.startConnectTimeout()}return r};t.createTCPIncomingPeer=e=>{return l(e,"tcpIncoming")};t.createUTPIncomingPeer=e=>{return l(e,"utpIncoming")};t.createTCPOutgoingPeer=(e,t)=>{return c(e,t,"tcpOutgoing")};t.createUTPOutgoingPeer=(e,t)=>{return c(e,t,"utpOutgoing")};const l=(e,t)=>{const r=`${e.remoteAddress}:${e.remotePort}`;const n=new d(r,t);n.conn=e;n.addr=r;n.onConnect();return n};const c=(e,t,r)=>{const n=new d(e,r);n.addr=e;n.swarm=t;return n};t.createWebSeedPeer=(e,t,r)=>{const n=new d(t,"webSeed");n.swarm=r;n.conn=e;n.onConnect();return n};class d{constructor(e,t){this.id=e;this.type=t;a("new %s Peer %s",t,e);this.addr=null;this.conn=null;this.swarm=null;this.wire=null;this.connected=false;this.destroyed=false;this.timeout=null;this.retries=0;this.sentHandshake=false}onConnect(){if(this.destroyed)return;this.connected=true;a("Peer %s connected",this.id);clearTimeout(this.connectTimeout);const e=this.conn;e.once("end",()=>{this.destroy()});e.once("close",()=>{this.destroy()});e.once("finish",()=>{this.destroy()});e.once("error",e=>{this.destroy(e)});const t=this.wire=new n;t.type=this.type;t.once("end",()=>{this.destroy()});t.once("close",()=>{this.destroy()});t.once("finish",()=>{this.destroy()});t.once("error",e=>{this.destroy(e)});t.once("handshake",(e,t)=>{this.onHandshake(e,t)});this.startHandshakeTimeout();e.pipe(t).pipe(e);if(this.swarm&&!this.sentHandshake)this.handshake()}onHandshake(e,t){if(!this.swarm)return;if(this.destroyed)return;if(this.swarm.destroyed){return this.destroy(new Error("swarm already destroyed"))}if(e!==this.swarm.infoHash){return this.destroy(new Error("unexpected handshake info hash for this swarm"))}if(t===this.swarm.peerId){return this.destroy(new Error("refusing to connect to ourselves"))}a("Peer %s got handshake %s",this.id,e);clearTimeout(this.handshakeTimeout);this.retries=0;let r=this.addr;if(!r&&this.conn.remoteAddress&&this.conn.remotePort){r=`${this.conn.remoteAddress}:${this.conn.remotePort}`}this.swarm._onWire(this.wire,r);if(!this.swarm||this.swarm.destroyed)return;if(!this.sentHandshake)this.handshake()}handshake(){const e={dht:this.swarm.private?false:!!this.swarm.client.dht};this.wire.handshake(this.swarm.infoHash,this.swarm.client.peerId,e);this.sentHandshake=true}startConnectTimeout(){clearTimeout(this.connectTimeout);const e={webrtc:f,tcpOutgoing:s,utpOutgoing:o};this.connectTimeout=setTimeout(()=>{this.destroy(new Error("connect timeout"))},e[this.type]);if(this.connectTimeout.unref)this.connectTimeout.unref()}startHandshakeTimeout(){clearTimeout(this.handshakeTimeout);this.handshakeTimeout=setTimeout(()=>{this.destroy(new Error("handshake timeout"))},u);if(this.handshakeTimeout.unref)this.handshakeTimeout.unref()}destroy(e){if(this.destroyed)return;this.destroyed=true;this.connected=false;a("destroy %s %s (error: %s)",this.type,this.id,e&&(e.message||e));clearTimeout(this.connectTimeout);clearTimeout(this.handshakeTimeout);const t=this.swarm;const r=this.conn;const n=this.wire;this.swarm=null;this.conn=null;this.wire=null;if(t&&n){i(t.wires,t.wires.indexOf(n))}if(r){r.on("error",()=>{});r.destroy()}if(n)n.destroy();if(t)t.removePeer(this.id)}}},function(e,t,r){t=e.exports=r(324);t.Stream=t;t.Readable=t;t.Writable=r(328);t.Duplex=r(191);t.Transform=r(329);t.PassThrough=r(502);t.finished=r(217);t.pipeline=r(503)},,function(e,t,r){"use strict";function n(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);if(e)n=n.filter(function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable});r.push.apply(r,n)}return r}function i(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};if(e%2){n(Object(r),true).forEach(function(e){a(t,e,r[e])})}else if(Object.getOwnPropertyDescriptors){Object.defineProperties(t,Object.getOwnPropertyDescriptors(r))}else{n(Object(r)).forEach(function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(r,e))})}}return t}function a(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}function s(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}function o(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;Object.defineProperty(e,n.key,n)}}function f(e,t,r){if(t)o(e.prototype,t);if(r)o(e,r);return e}var u=r(73),l=u.Buffer;var c=r(499),d=c.inspect;var h=d&&d.custom||"inspect";function p(e,t,r){l.prototype.copy.call(e,t,r)}e.exports=function(){function e(){s(this,e);this.head=null;this.tail=null;this.length=0}f(e,[{key:"push",value:function e(t){var r={data:t,next:null};if(this.length>0)this.tail.next=r;else this.head=r;this.tail=r;++this.length}},{key:"unshift",value:function e(t){var r={data:t,next:this.head};if(this.length===0)this.tail=r;this.head=r;++this.length}},{key:"shift",value:function e(){if(this.length===0)return;var t=this.head.data;if(this.length===1)this.head=this.tail=null;else this.head=this.head.next;--this.length;return t}},{key:"clear",value:function e(){this.head=this.tail=null;this.length=0}},{key:"join",value:function e(t){if(this.length===0)return"";var r=this.head;var n=""+r.data;while(r=r.next){n+=t+r.data}return n}},{key:"concat",value:function e(t){if(this.length===0)return l.alloc(0);var r=l.allocUnsafe(t>>>0);var n=this.head;var i=0;while(n){p(n.data,r,i);i+=n.data.length;n=n.next}return r}},{key:"consume",value:function e(t,r){var n;if(t<this.head.data.length){n=this.head.data.slice(0,t);this.head.data=this.head.data.slice(t)}else if(t===this.head.data.length){n=this.shift()}else{n=r?this._getString(t):this._getBuffer(t)}return n}},{key:"first",value:function e(){return this.head.data}},{key:"_getString",value:function e(t){var r=this.head;var n=1;var i=r.data;t-=i.length;while(r=r.next){var a=r.data;var s=t>a.length?a.length:t;if(s===a.length)i+=a;else i+=a.slice(0,t);t-=s;if(t===0){if(s===a.length){++n;if(r.next)this.head=r.next;else this.head=this.tail=null}else{this.head=r;r.data=a.slice(s)}break}++n}this.length-=n;return i}},{key:"_getBuffer",value:function e(t){var r=l.allocUnsafe(t);var n=this.head;var i=1;n.data.copy(r);t-=n.data.length;while(n=n.next){var a=n.data;var s=t>a.length?a.length:t;a.copy(r,r.length-t,0,s);t-=s;if(t===0){if(s===a.length){++i;if(n.next)this.head=n.next;else this.head=this.tail=null}else{this.head=n;n.data=a.slice(s)}break}++i}this.length-=i;return r}},{key:h,value:function e(t,r){return d(this,i({},r,{depth:0,customInspect:false}))}}]);return e}()},,function(y,e,_){"use strict";(function(s){var e;function n(e,t,r){if(t in e){Object.defineProperty(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}var a=_(217);var o=Symbol("lastResolve");var f=Symbol("lastReject");var u=Symbol("error");var l=Symbol("ended");var c=Symbol("lastPromise");var d=Symbol("handlePromise");var h=Symbol("stream");function p(e,t){return{value:e,done:t}}function t(e){var t=e[o];if(t!==null){var r=e[h].read();if(r!==null){e[c]=null;e[o]=null;e[f]=null;t(p(r,false))}}}function b(e){s.nextTick(t,e)}function g(r,n){return function(e,t){r.then(function(){if(n[l]){e(p(undefined,true));return}n[d](e,t)},t)}}var r=Object.getPrototypeOf(function(){});var v=Object.setPrototypeOf((e={get stream(){return this[h]},next:function e(){var r=this;var t=this[u];if(t!==null){return Promise.reject(t)}if(this[l]){return Promise.resolve(p(undefined,true))}if(this[h].destroyed){return new Promise(function(e,t){s.nextTick(function(){if(r[u]){t(r[u])}else{e(p(undefined,true))}})})}var n=this[c];var i;if(n){i=new Promise(g(n,this))}else{var a=this[h].read();if(a!==null){return Promise.resolve(p(a,false))}i=new Promise(this[d])}this[c]=i;return i}},n(e,Symbol.asyncIterator,function(){return this}),n(e,"return",function e(){var n=this;return new Promise(function(t,r){n[h].destroy(null,function(e){if(e){r(e);return}t(p(undefined,true))})})}),e),r);var i=function e(t){var r;var i=Object.create(v,(r={},n(r,h,{value:t,writable:true}),n(r,o,{value:null,writable:true}),n(r,f,{value:null,writable:true}),n(r,u,{value:null,writable:true}),n(r,l,{value:t._readableState.endEmitted,writable:true}),n(r,d,{value:function e(t,r){var n=i[h].read();if(n){i[c]=null;i[o]=null;i[f]=null;t(p(n,false))}else{i[o]=t;i[f]=r}},writable:true}),r));i[c]=null;a(t,function(e){if(e&&e.code!=="ERR_STREAM_PREMATURE_CLOSE"){var t=i[f];if(t!==null){i[c]=null;i[o]=null;i[f]=null;t(e)}i[u]=e;return}var r=i[o];if(r!==null){i[c]=null;i[o]=null;i[f]=null;r(p(undefined,true))}i[l]=true});t.on("readable",b.bind(null,i));return i};y.exports=i}).call(this,_(74))},function(e,t){e.exports=function(){throw new Error("Readable.from is not available in the browser")}},function(e,t,r){"use strict";e.exports=i;var n=r(329);r(158)(i,n);function i(e){if(!(this instanceof i))return new i(e);n.call(this,e)}i.prototype._transform=function(e,t,r){r(null,e)}},function(e,t,s){"use strict";var o;function f(e){var t=false;return function(){if(t)return;t=true;e.apply(void 0,arguments)}}var r=s(190).codes,n=r.ERR_MISSING_ARGS,u=r.ERR_STREAM_DESTROYED;function i(e){if(e)throw e}function l(e){return e.setHeader&&typeof e.abort==="function"}function c(t,e,r,n){n=f(n);var i=false;t.on("close",function(){i=true});if(o===undefined)o=s(217);o(t,{readable:e,writable:r},function(e){if(e)return n(e);i=true;n()});var a=false;return function(e){if(i)return;if(a)return;a=true;if(l(t))return t.abort();if(typeof t.destroy==="function")return t.destroy();n(e||new u("pipe"))}}function d(e){e()}function h(e,t){return e.pipe(t)}function p(e){if(!e.length)return i;if(typeof e[e.length-1]!=="function")return i;return e.pop()}function a(){for(var e=arguments.length,i=new Array(e),t=0;t<e;t++){i[t]=arguments[t]}var a=p(i);if(Array.isArray(i[0]))i=i[0];if(i.length<2){throw new n("streams")}var s;var o=i.map(function(e,t){var r=t<i.length-1;var n=t>0;return c(e,r,n,function(e){if(!s)s=e;if(e)o.forEach(d);if(r)return;o.forEach(d);a(s)})});return i.reduce(h)}e.exports=a},function(e,t){class r{constructor(e){this._torrent=e;this._numPieces=e.pieces.length;this._pieces=new Array(this._numPieces);this._onWire=e=>{this.recalculate();this._initWire(e)};this._onWireHave=e=>{this._pieces[e]+=1};this._onWireBitfield=()=>{this.recalculate()};this._torrent.wires.forEach(e=>{this._initWire(e)});this._torrent.on("wire",this._onWire);this.recalculate()}getRarestPiece(t){let r=[];let n=Infinity;for(let e=0;e<this._numPieces;++e){if(t&&!t(e))continue;const i=this._pieces[e];if(i===n){r.push(e)}else if(i<n){r=[e];n=i}}if(r.length){return r[Math.random()*r.length|0]}else{return-1}}destroy(){this._torrent.removeListener("wire",this._onWire);this._torrent.wires.forEach(e=>{this._cleanupWireEvents(e)});this._torrent=null;this._pieces=null;this._onWire=null;this._onWireHave=null;this._onWireBitfield=null}_initWire(t){t._onClose=()=>{this._cleanupWireEvents(t);for(let e=0;e<this._numPieces;++e){this._pieces[e]-=t.peerPieces.get(e)}};t.on("have",this._onWireHave);t.on("bitfield",this._onWireBitfield);t.once("close",t._onClose)}recalculate(){this._pieces.fill(0);for(const t of this._torrent.wires){for(let e=0;e<this._numPieces;++e){this._pieces[e]+=t.peerPieces.get(e)}}}_cleanupWireEvents(e){e.removeListener("have",this._onWireHave);e.removeListener("bitfield",this._onWireBitfield);if(e._onClose)e.removeListener("close",e._onClose);e._onClose=null}}e.exports=r},,function(n,e,s){(function(a){const i=s(199).default;const p=s(161)("webtorrent:webconn");const b=s(205);const r=s(193);const e=s(323);const g=s(218).version;class t extends e{constructor(e,t){super();this.url=e;this.connId=e;this.webPeerId=r.sync(e);this._torrent=t;this._init()}_init(){this.setKeepAlive(true);this.once("handshake",(e,t)=>{if(this.destroyed)return;this.handshake(e,this.webPeerId);const r=this._torrent.pieces.length;const n=new i(r);for(let e=0;e<=r;e++){n.set(e,true)}this.bitfield(n)});this.once("interested",()=>{p("interested");this.unchoke()});this.on("uninterested",()=>{p("uninterested")});this.on("choke",()=>{p("choke")});this.on("unchoke",()=>{p("unchoke")});this.on("bitfield",()=>{p("bitfield")});this.on("request",(e,t,r,n)=>{p("request pieceIndex=%d offset=%d length=%d",e,t,r);this.httpRequest(e,t,r,n)})}httpRequest(s,o,f,u){const e=s*this._torrent.pieceLength;const n=e+o;const i=n+f-1;const t=this._torrent.files;let l;if(t.length<=1){l=[{url:this.url,start:n,end:i}]}else{const r=t.filter(e=>{return e.offset<=i&&e.offset+e.length>n});if(r.length<1){return u(new Error("Could not find file corresponnding to web seed range request"))}l=r.map(e=>{const t=e.offset+e.length-1;const r=this.url+(this.url[this.url.length-1]==="/"?"":"/")+e.path;return{url:r,fileOffsetInRange:Math.max(e.offset-n,0),start:Math.max(n-e.offset,0),end:Math.min(t,i-e.offset)}})}let c=0;let d=false;let h;if(l.length>1){h=a.alloc(f)}l.forEach(r=>{const n=r.url;const e=r.start;const t=r.end;p("Requesting url=%s pieceIndex=%d offset=%d length=%d start=%d end=%d",n,s,o,f,e,t);const i={url:n,method:"GET",headers:{"user-agent":`WebTorrent/${g} (https://webtorrent.io)`,range:`bytes=${e}-${t}`}};function a(e,t){if(e.statusCode<200||e.statusCode>=300){d=true;return u(new Error(`Unexpected HTTP status code ${e.statusCode}`))}p("Got data of length %d",t.length);if(l.length===1){u(null,t)}else{t.copy(h,r.fileOffsetInRange);if(++c===l.length){u(null,h)}}}b.concat(i,(r,e,t)=>{if(d)return;if(r){if(typeof window==="undefined"||n.startsWith(`${window.location.origin}/`)){d=true;return u(r)}return b.head(n,(e,t)=>{if(d)return;if(e){d=true;return u(e)}if(t.statusCode<200||t.statusCode>=300){d=true;return u(new Error(`Unexpected HTTP status code ${t.statusCode}`))}if(t.url===n){d=true;return u(r)}i.url=t.url;b.concat(i,(e,t,r)=>{if(d)return;if(e){d=true;return u(e)}a(t,r)})})}a(e,t)})})}destroy(){super.destroy();this._torrent=null}}n.exports=t}).call(this,s(73).Buffer)},,function(e,t,r){"use strict";var v=function(){v=Object.assign||function e(t){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var a in r)if(Object.prototype.hasOwnProperty.call(r,a))t[a]=r[a]}return t};return v.apply(this,arguments)};function x(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),i=0,t=0;t<r;t++)for(var a=arguments[t],s=0,o=a.length;s<o;s++,i++)n[i]=a[s];return n}var m=Object.keys;var d=Array.isArray;var h=typeof self!=="undefined"?self:typeof window!=="undefined"?window:global;if(typeof Promise!=="undefined"&&!h.Promise){h.Promise=Promise}function f(t,r){if(typeof r!=="object")return t;m(r).forEach(function(e){t[e]=r[e]});return t}var i=Object.getPrototypeOf;var n={}.hasOwnProperty;function y(e,t){return n.call(e,t)}function a(t,r){if(typeof r==="function")r=r(i(t));m(r).forEach(function(e){o(t,e,r[e])})}var s=Object.defineProperty;function o(e,t,r,n){s(e,t,f(r&&y(r,"get")&&typeof r.get==="function"?{get:r.get,set:r.set,configurable:true}:{value:r,configurable:true,writable:true},n))}function u(t){return{from:function(e){t.prototype=Object.create(e.prototype);o(t.prototype,"constructor",t);return{extend:a.bind(null,t.prototype)}}}}var l=Object.getOwnPropertyDescriptor;function c(e,t){var r=l(e,t);var n;return r||(n=i(e))&&c(n,t)}var p=[].slice;function b(e,t,r){return p.call(e,t,r)}function g(e,t){return t(e)}function _(e){if(!e)throw new Error("Assertion Failed")}function w(e){if(h.setImmediate)setImmediate(e);else setTimeout(e,0)}function S(e,i){return e.reduce(function(e,t,r){var n=i(t,r);if(n)e[n[0]]=n[1];return e},{})}function E(e,t,r){try{e.apply(null,r)}catch(e){t&&t(e)}}function R(e,t){if(y(e,t))return e[t];if(!t)return e;if(typeof t!=="string"){var r=[];for(var n=0,i=t.length;n<i;++n){var a=R(e,t[n]);r.push(a)}return r}var s=t.indexOf(".");if(s!==-1){var o=e[t.substr(0,s)];return o===undefined?undefined:R(o,t.substr(s+1))}return undefined}function k(e,t,r){if(!e||t===undefined)return;if("isFrozen"in Object&&Object.isFrozen(e))return;if(typeof t!=="string"&&"length"in t){_(typeof r!=="string"&&"length"in r);for(var n=0,i=t.length;n<i;++n){k(e,t[n],r[n])}}else{var a=t.indexOf(".");if(a!==-1){var s=t.substr(0,a);var o=t.substr(a+1);if(o==="")if(r===undefined){if(d(e)&&!isNaN(parseInt(s)))e.splice(s,1);else delete e[s]}else e[s]=r;else{var f=e[s];if(!f)f=e[s]={};k(f,o,r)}}else{if(r===undefined){if(d(e)&&!isNaN(parseInt(t)))e.splice(t,1);else delete e[t]}else e[t]=r}}}function T(t,e){if(typeof e==="string")k(t,e,undefined);else if("length"in e)[].map.call(e,function(e){k(t,e,undefined)})}function M(e){var t={};for(var r in e){if(y(e,r))t[r]=e[r]}return t}var O=[].concat;function L(e){return O.apply([],e)}var A="Boolean,String,Date,RegExp,Blob,File,FileList,ArrayBuffer,DataView,Uint8ClampedArray,ImageData,Map,Set".split(",").concat(L([8,16,32,64].map(function(t){return["Int","Uint","Float"].map(function(e){return e+t+"Array"})}))).filter(function(e){return h[e]});var P=A.map(function(e){return h[e]});var j=S(A,function(e){return[e,true]});function C(e){if(!e||typeof e!=="object")return e;var t;if(d(e)){t=[];for(var r=0,n=e.length;r<n;++r){t.push(C(e[r]))}}else if(P.indexOf(e.constructor)>=0){t=e}else{t=e.constructor?Object.create(e.constructor.prototype):{};for(var i in e){if(y(e,i)){t[i]=C(e[i])}}}return t}var I={}.toString;function D(e){return I.call(e).slice(8,-1)}var B=function(e,t){return t==="Array"?""+e.map(function(e){return B(e,D(e))}):t==="ArrayBuffer"?""+new Uint8Array(e):t==="Date"?e.getTime():ArrayBuffer.isView(e)?""+new Uint8Array(e.buffer):e};function U(a,s,o,f){o=o||{};f=f||"";m(a).forEach(function(e){if(!y(s,e))o[f+e]=undefined;else{var t=a[e],r=s[e];if(typeof t==="object"&&typeof r==="object"&&t&&r){var n=D(t);var i=D(r);if(n===i){if(j[n]){if(B(t,n)!==B(r,i)){o[f+e]=s[e]}}else{U(t,r,o,f+e+".")}}else{o[f+e]=s[e]}}else if(t!==r)o[f+e]=s[e]}});m(s).forEach(function(e){if(!y(a,e)){o[f+e]=s[e]}});return o}var N=typeof Symbol!=="undefined"&&Symbol.iterator;var W=N?function(e){var t;return e!=null&&(t=e[N])&&t.apply(e)}:function(){return null};var q={};function H(e){var t,r,n,i;if(arguments.length===1){if(d(e))return e.slice();if(this===q&&typeof e==="string")return[e];if(i=W(e)){r=[];while(n=i.next(),!n.done)r.push(n.value);return r}if(e==null)return[e];t=e.length;if(typeof t==="number"){r=new Array(t);while(t--)r[t]=e[t];return r}return[e]}t=arguments.length;r=new Array(t);while(t--)r[t]=arguments[t];return r}var F=typeof Symbol!=="undefined"?function(e){return e[Symbol.toStringTag]==="AsyncFunction"}:function(){return false};var K=typeof location!=="undefined"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function V(e,t){K=e;z=t}var z=function(){return true};var G=!new Error("").stack;function $(){if(G)try{throw new Error}catch(e){return e}return new Error}function Y(e,t){var r=e.stack;if(!r)return"";t=t||0;if(r.indexOf(e.name)===0)t+=(e.name+e.message).split("\n").length;return r.split("\n").slice(t).filter(z).map(function(e){return"\n"+e}).join("")}var X=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"];var J=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"];var Q=X.concat(J);var Z={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed"};function ee(e,t){this._e=$();this.name=e;this.message=t}u(ee).from(Error).extend({stack:{get:function(){return this._stack||(this._stack=this.name+": "+this.message+Y(this._e,2))}},toString:function(){return this.name+": "+this.message}});function te(e,t){return e+". Errors: "+Object.keys(t).map(function(e){return t[e].toString()}).filter(function(e,t,r){return r.indexOf(e)===t}).join("\n")}function re(e,t,r,n){this._e=$();this.failures=t;this.failedKeys=n;this.successCount=r;this.message=te(e,t)}u(re).from(ee);function ne(e,t){this._e=$();this.name="BulkError";this.failures=t;this.message=te(e,t)}u(ne).from(ee);var ie=Q.reduce(function(e,t){return e[t]=t+"Error",e},{});var ae=ee;var se=Q.reduce(function(e,r){var n=r+"Error";function t(e,t){this._e=$();this.name=n;if(!e){this.message=Z[r]||n;this.inner=null}else if(typeof e==="string"){this.message=""+e+(!t?"":"\n "+t);this.inner=t||null}else if(typeof e==="object"){this.message=e.name+" "+e.message;this.inner=e}}u(t).from(ae);e[r]=t;return e},{});se.Syntax=SyntaxError;se.Type=TypeError;se.Range=RangeError;var oe=J.reduce(function(e,t){e[t+"Error"]=se[t];return e},{});function fe(e,t){if(!e||e instanceof ee||e instanceof TypeError||e instanceof SyntaxError||!e.name||!oe[e.name])return e;var r=new oe[e.name](t||e.message,e);if("stack"in e){o(r,"stack",{get:function(){return this.inner.stack}})}return r}var ue=Q.reduce(function(e,t){if(["Syntax","Type","Range"].indexOf(t)===-1)e[t+"Error"]=se[t];return e},{});ue.ModifyError=re;ue.DexieError=ee;ue.BulkError=ne;function le(){}function ce(e){return e}function de(t,r){if(t==null||t===ce)return r;return function(e){return r(t(e))}}function he(e,t){return function(){e.apply(this,arguments);t.apply(this,arguments)}}function pe(i,a){if(i===le)return a;return function(){var e=i.apply(this,arguments);if(e!==undefined)arguments[0]=e;var t=this.onsuccess,r=this.onerror;this.onsuccess=null;this.onerror=null;var n=a.apply(this,arguments);if(t)this.onsuccess=this.onsuccess?he(t,this.onsuccess):t;if(r)this.onerror=this.onerror?he(r,this.onerror):r;return n!==undefined?n:e}}function be(r,n){if(r===le)return n;return function(){r.apply(this,arguments);var e=this.onsuccess,t=this.onerror;this.onsuccess=this.onerror=null;n.apply(this,arguments);if(e)this.onsuccess=this.onsuccess?he(e,this.onsuccess):e;if(t)this.onerror=this.onerror?he(t,this.onerror):t}}function ge(a,s){if(a===le)return s;return function(e){var t=a.apply(this,arguments);f(e,t);var r=this.onsuccess,n=this.onerror;this.onsuccess=null;this.onerror=null;var i=s.apply(this,arguments);if(r)this.onsuccess=this.onsuccess?he(r,this.onsuccess):r;if(n)this.onerror=this.onerror?he(n,this.onerror):n;return t===undefined?i===undefined?undefined:i:f(t,i)}}function ve(e,t){if(e===le)return t;return function(){if(t.apply(this,arguments)===false)return false;return e.apply(this,arguments)}}function ye(i,a){if(i===le)return a;return function(){var e=i.apply(this,arguments);if(e&&typeof e.then==="function"){var t=this,r=arguments.length,n=new Array(r);while(r--)n[r]=arguments[r];return e.then(function(){return a.apply(t,n)})}return a.apply(this,arguments)}}var _e={};var me=100;var we=20;var Se=100;var Ee=typeof Promise==="undefined"?[]:function(){var e=Promise.resolve();if(typeof crypto==="undefined"||!crypto.subtle)return[e,e.__proto__,e];var t=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[t,t.__proto__,e]}();var Re=Ee[0];var ke=Ee[1];var xe=Ee[2];var Te=ke&&ke.then;var Me=Re&&Re.constructor;var Oe=!!xe;var Le=false;var Ae=xe?function(){xe.then(et)}:h.setImmediate?setImmediate.bind(null,et):h.MutationObserver?function(){var e=document.createElement("div");new MutationObserver(function(){et();e=null}).observe(e,{attributes:true});e.setAttribute("i","1")}:function(){setTimeout(et,0)};var Pe=function(e,t){qe.push([e,t]);if(Ce){Ae();Ce=false}};var je=true;var Ce=true;var Ie=[];var De=[];var Be=null;var Ue=ce;var Ne={id:"global",global:true,ref:0,unhandleds:[],onunhandled:Mt,pgp:false,env:{},finalize:function(){this.unhandleds.forEach(function(e){try{Mt(e[0],e[1])}catch(e){}})}};var We=Ne;var qe=[];var He=0;var Fe=[];function Ke(e){if(typeof this!=="object")throw new TypeError("Promises must be constructed via new");this._listeners=[];this.onuncatched=le;this._lib=false;var t=this._PSD=We;if(K){this._stackHolder=$();this._prev=null;this._numPrev=0}if(typeof e!=="function"){if(e!==_e)throw new TypeError("Not a function");this._state=arguments[1];this._value=arguments[2];if(this._state===false)$e(this,this._value);return}this._state=null;this._value=null;++t.ref;Ge(this,e)}var Ve={get:function(){var o=We,t=ht;function e(r,n){var i=this;var a=!o.global&&(o!==We||t!==ht);var s=a&&!vt();var e=new Ke(function(e,t){Xe(i,new ze(kt(r,o,a,s),kt(n,o,a,s),e,t,o))});K&&Ze(e,this);return e}e.prototype=_e;return e},set:function(e){o(this,"then",e&&e.prototype===_e?Ve:{get:function(){return e},set:Ve.set})}};a(Ke.prototype,{then:Ve,_then:function(e,t){Xe(this,new ze(null,null,e,t,We))},catch:function(e){if(arguments.length===1)return this.then(null,e);var t=arguments[0],r=arguments[1];return typeof t==="function"?this.then(null,function(e){return e instanceof t?r(e):ot(e)}):this.then(null,function(e){return e&&e.name===t?r(e):ot(e)})},finally:function(t){return this.then(function(e){t();return e},function(e){t();return ot(e)})},stack:{get:function(){if(this._stack)return this._stack;try{Le=true;var e=Qe(this,[],we);var t=e.join("\nFrom previous: ");if(this._state!==null)this._stack=t;return t}finally{Le=false}}},timeout:function(n,i){var a=this;return n<Infinity?new Ke(function(e,t){var r=setTimeout(function(){return t(new se.Timeout(i))},n);a.then(e,t).finally(clearTimeout.bind(null,r))}):this}});if(typeof Symbol!=="undefined"&&Symbol.toStringTag)o(Ke.prototype,Symbol.toStringTag,"Dexie.Promise");Ne.env=St();function ze(e,t,r,n,i){this.onFulfilled=typeof e==="function"?e:null;this.onRejected=typeof t==="function"?t:null;this.resolve=r;this.reject=n;this.psd=i}a(Ke,{all:function(){var a=H.apply(null,arguments).map(yt);return new Ke(function(r,n){if(a.length===0)r([]);var i=a.length;a.forEach(function(e,t){return Ke.resolve(e).then(function(e){a[t]=e;if(!--i)r(a)},n)})})},resolve:function(r){if(r instanceof Ke)return r;if(r&&typeof r.then==="function")return new Ke(function(e,t){r.then(e,t)});var e=new Ke(_e,true,r);Ze(e,Be);return e},reject:ot,race:function(){var e=H.apply(null,arguments).map(yt);return new Ke(function(t,r){e.map(function(e){return Ke.resolve(e).then(t,r)})})},PSD:{get:function(){return We},set:function(e){return We=e}},totalEchoes:{get:function(){return ht}},newPSD:bt,usePSD:Et,scheduler:{get:function(){return Pe},set:function(e){Pe=e}},rejectionMapper:{get:function(){return Ue},set:function(e){Ue=e}},follow:function(n,r){return new Ke(function(e,t){return bt(function(t,r){var e=We;e.unhandleds=[];e.onunhandled=r;e.finalize=he(function(){var e=this;it(function(){e.unhandleds.length===0?t():r(e.unhandleds[0])})},e.finalize);n()},r,e,t)})}});if(Me){if(Me.allSettled)o(Ke,"allSettled",function(){var e=H.apply(null,arguments).map(yt);return new Ke(function(r){if(e.length===0)r([]);var n=e.length;var i=new Array(n);e.forEach(function(e,t){return Ke.resolve(e).then(function(e){return i[t]={status:"fulfilled",value:e}},function(e){return i[t]={status:"rejected",reason:e}}).then(function(){return--n||r(i)})})})});if(Me.any&&typeof AggregateError!=="undefined")o(Ke,"any",function(){var e=H.apply(null,arguments).map(yt);return new Ke(function(r,n){if(e.length===0)n(new AggregateError([]));var i=e.length;var a=new Array(i);e.forEach(function(e,t){return Ke.resolve(e).then(function(e){return r(e)},function(e){a[t]=e;if(!--i)n(new AggregateError(a))})})})})}function Ge(t,e){try{e(function(r){if(t._state!==null)return;if(r===t)throw new TypeError("A promise cannot be resolved with itself.");var e=t._lib&&tt();if(r&&typeof r.then==="function"){Ge(t,function(e,t){r instanceof Ke?r._then(e,t):r.then(e,t)})}else{t._state=true;t._value=r;Ye(t)}if(e)rt()},$e.bind(null,t))}catch(e){$e(t,e)}}function $e(t,r){De.push(r);if(t._state!==null)return;var e=t._lib&&tt();r=Ue(r);t._state=false;t._value=r;K&&r!==null&&typeof r==="object"&&!r._promise&&E(function(){var e=c(r,"stack");r._promise=t;o(r,"stack",{get:function(){return Le?e&&(e.get?e.get.apply(r):e.value):t.stack}})});at(t);Ye(t);if(e)rt()}function Ye(e){var t=e._listeners;e._listeners=[];for(var r=0,n=t.length;r<n;++r){Xe(e,t[r])}var i=e._PSD;--i.ref||i.finalize();if(He===0){++He;Pe(function(){if(--He===0)nt()},[])}}function Xe(e,t){if(e._state===null){e._listeners.push(t);return}var r=e._state?t.onFulfilled:t.onRejected;if(r===null){return(e._state?t.resolve:t.reject)(e._value)}++t.psd.ref;++He;Pe(Je,[r,e,t])}function Je(e,t,r){try{Be=t;var n,i=t._value;if(t._state){n=e(i)}else{if(De.length)De=[];n=e(i);if(De.indexOf(i)===-1)st(t)}r.resolve(n)}catch(e){r.reject(e)}finally{Be=null;if(--He===0)nt();--r.psd.ref||r.psd.finalize()}}function Qe(e,t,r){if(t.length===r)return t;var n="";if(e._state===false){var i=e._value,a,s;if(i!=null){a=i.name||"Error";s=i.message||i;n=Y(i,0)}else{a=i;s=""}t.push(a+(s?": "+s:"")+n)}if(K){n=Y(e._stackHolder,2);if(n&&t.indexOf(n)===-1)t.push(n);if(e._prev)Qe(e._prev,t,r)}return t}function Ze(e,t){var r=t?t._numPrev+1:0;if(r<me){e._prev=t;e._numPrev=r}}function et(){tt()&&rt()}function tt(){var e=je;je=false;Ce=false;return e}function rt(){var e,t,r;do{while(qe.length>0){e=qe;qe=[];r=e.length;for(t=0;t<r;++t){var n=e[t];n[0].apply(null,n[1])}}}while(qe.length>0);je=true;Ce=true}function nt(){var e=Ie;Ie=[];e.forEach(function(e){e._PSD.onunhandled.call(null,e._value,e)});var t=Fe.slice(0);var r=t.length;while(r)t[--r]()}function it(e){function t(){e();Fe.splice(Fe.indexOf(t),1)}Fe.push(t);++He;Pe(function(){if(--He===0)nt()},[])}function at(t){if(!Ie.some(function(e){return e._value===t._value}))Ie.push(t)}function st(e){var t=Ie.length;while(t)if(Ie[--t]._value===e._value){Ie.splice(t,1);return}}function ot(e){return new Ke(_e,false,e)}function ft(r,n){var i=We;return function(){var e=tt(),t=We;try{wt(i,true);return r.apply(this,arguments)}catch(e){n&&n(e)}finally{wt(t,false);if(e)rt()}}}var ut={awaits:0,echoes:0,id:0};var lt=0;var ct=[];var dt=0;var ht=0;var pt=0;function bt(e,t,r,n){var i=We,a=Object.create(i);a.parent=i;a.ref=0;a.global=false;a.id=++pt;var s=Ne.env;a.env=Oe?{Promise:Ke,PromiseProp:{value:Ke,configurable:true,writable:true},all:Ke.all,race:Ke.race,allSettled:Ke.allSettled,any:Ke.any,resolve:Ke.resolve,reject:Ke.reject,nthen:xt(s.nthen,a),gthen:xt(s.gthen,a)}:{};if(t)f(a,t);++i.ref;a.finalize=function(){--this.parent.ref||this.parent.finalize()};var o=Et(a,e,r,n);if(a.ref===0)a.finalize();return o}function gt(){if(!ut.id)ut.id=++lt;++ut.awaits;ut.echoes+=Se;return ut.id}function vt(){if(!ut.awaits)return false;if(--ut.awaits===0)ut.id=0;ut.echoes=ut.awaits*Se;return true}if((""+Te).indexOf("[native code]")===-1){gt=vt=le}function yt(e){if(ut.echoes&&e&&e.constructor===Me){gt();return e.then(function(e){vt();return e},function(e){vt();return Ot(e)})}return e}function _t(e){++ht;if(!ut.echoes||--ut.echoes===0){ut.echoes=ut.id=0}ct.push(We);wt(e,true)}function mt(){var e=ct[ct.length-1];ct.pop();wt(e,false)}function wt(e,t){var r=We;if(t?ut.echoes&&(!dt++||e!==We):dt&&(!--dt||e!==We)){Rt(t?_t.bind(null,e):mt)}if(e===We)return;We=e;if(r===Ne)Ne.env=St();if(Oe){var n=Ne.env.Promise;var i=e.env;ke.then=i.nthen;n.prototype.then=i.gthen;if(r.global||e.global){Object.defineProperty(h,"Promise",i.PromiseProp);n.all=i.all;n.race=i.race;n.resolve=i.resolve;n.reject=i.reject;if(i.allSettled)n.allSettled=i.allSettled;if(i.any)n.any=i.any}}}function St(){var e=h.Promise;return Oe?{Promise:e,PromiseProp:Object.getOwnPropertyDescriptor(h,"Promise"),all:e.all,race:e.race,allSettled:e.allSettled,any:e.any,resolve:e.resolve,reject:e.reject,nthen:ke.then,gthen:e.prototype.then}:{}}function Et(e,t,r,n,i){var a=We;try{wt(e,true);return t(r,n,i)}finally{wt(a,false)}}function Rt(e){Te.call(Re,e)}function kt(t,r,n,i){return typeof t!=="function"?t:function(){var e=We;if(n)gt();wt(r,true);try{return t.apply(this,arguments)}finally{wt(e,false);if(i)Rt(vt)}}}function xt(r,n){return function(e,t){return r.call(this,kt(e,n),kt(t,n))}}var Tt="unhandledrejection";function Mt(e,t){var r;try{r=t.onuncatched(e)}catch(e){}if(r!==false)try{var n,i={promise:t,reason:e};if(h.document&&document.createEvent){n=document.createEvent("Event");n.initEvent(Tt,true,true);f(n,i)}else if(h.CustomEvent){n=new CustomEvent(Tt,{detail:i});f(n,i)}if(n&&h.dispatchEvent){dispatchEvent(n);if(!h.PromiseRejectionEvent&&h.onunhandledrejection)try{h.onunhandledrejection(n)}catch(e){}}if(K&&n&&!n.defaultPrevented){console.warn("Unhandled rejection: "+(e.stack||e))}}catch(e){}}var Ot=Ke.reject;function Lt(e,t,r,n){if(!e._state.openComplete&&!We.letThrough){if(!e._state.isBeingOpened){if(!e._options.autoOpen)return Ot(new se.DatabaseClosed);e.open().catch(le)}return e._state.dbReadyPromise.then(function(){return Lt(e,t,r,n)})}else{var i=e._createTransaction(t,r,e._dbSchema);try{i.create()}catch(e){return Ot(e)}return i._promise(t,function(e,t){return bt(function(){We.trans=i;return n(e,t,i)})}).then(function(e){return i._completion.then(function(){return e})})}}var At="3.0.3";var Pt=String.fromCharCode(65535);var jt=-Infinity;var Ct="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.";var It="String expected.";var Dt=[];var Bt=typeof navigator!=="undefined"&&/(MSIE|Trident|Edge)/.test(navigator.userAgent);var Ut=Bt;var Nt=Bt;var Wt=function(e){return!/(dexie\.js|dexie\.min\.js)/.test(e)};var qt="__dbnames";var Ht="readonly";var Ft="readwrite";function Kt(e,t){return e?t?function(){return e.apply(this,arguments)&&t.apply(this,arguments)}:e:t}var Vt={type:3,lower:-Infinity,lowerOpen:false,upper:[[]],upperOpen:false};function zt(t){return function(e){if(R(e,t)===undefined){e=C(e);T(e,t)}return e}}var Gt=function(){function e(){}e.prototype._trans=function(e,n,t){var r=this._tx||We.trans;var i=this.name;function a(e,t,r){if(!r.schema[i])throw new se.NotFound("Table "+i+" not part of transaction");return n(r.idbtrans,r)}var s=tt();try{return r&&r.db===this.db?r===We.trans?r._promise(e,a,t):bt(function(){return r._promise(e,a,t)},{trans:r,transless:We.transless||We}):Lt(this.db,e,[this.name],a)}finally{if(s)rt()}};e.prototype.get=function(t,e){var r=this;if(t&&t.constructor===Object)return this.where(t).first(e);return this._trans("readonly",function(e){return r.core.get({trans:e,key:t}).then(function(e){return r.hook.reading.fire(e)})}).then(e)};e.prototype.where=function(s){if(typeof s==="string")return new this.db.WhereClause(this,s);if(d(s))return new this.db.WhereClause(this,"["+s.join("+")+"]");var r=m(s);if(r.length===1)return this.where(r[0]).equals(s[r[0]]);var e=this.schema.indexes.concat(this.schema.primKey).filter(function(t){return t.compound&&r.every(function(e){return t.keyPath.indexOf(e)>=0})&&t.keyPath.every(function(e){return r.indexOf(e)>=0})})[0];if(e&&this.db._maxKey!==Pt)return this.where(e.name).equals(e.keyPath.map(function(e){return s[e]}));if(!e&&K)console.warn("The query "+JSON.stringify(s)+" on "+this.name+" would benefit of a "+("compound index ["+r.join("+")+"]"));var o=this.schema.idxByName;var n=this.db._deps.indexedDB;function f(e,t){try{return n.cmp(e,t)===0}catch(e){return false}}var t=r.reduce(function(e,r){var t=e[0],n=e[1];var i=o[r];var a=s[r];return[t||i,t||!i?Kt(n,i&&i.multi?function(e){var t=R(e,r);return d(t)&&t.some(function(e){return f(a,e)})}:function(e){return f(a,R(e,r))}):n]},[null,null]),i=t[0],a=t[1];return i?this.where(i.name).equals(s[i.keyPath]).filter(a):e?this.filter(a):this.where(r).equals("")};e.prototype.filter=function(e){return this.toCollection().and(e)};e.prototype.count=function(e){return this.toCollection().count(e)};e.prototype.offset=function(e){return this.toCollection().offset(e)};e.prototype.limit=function(e){return this.toCollection().limit(e)};e.prototype.each=function(e){return this.toCollection().each(e)};e.prototype.toArray=function(e){return this.toCollection().toArray(e)};e.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))};e.prototype.orderBy=function(e){return new this.db.Collection(new this.db.WhereClause(this,d(e)?"["+e.join("+")+"]":e))};e.prototype.reverse=function(){return this.toCollection().reverse()};e.prototype.mapToClass=function(n){this.schema.mappedClass=n;var e=function(e){if(!e)return e;var t=Object.create(n.prototype);for(var r in e)if(y(e,r))try{t[r]=e[r]}catch(e){}return t};if(this.schema.readHook){this.hook.reading.unsubscribe(this.schema.readHook)}this.schema.readHook=e;this.hook("reading",e);return n};e.prototype.defineClass=function(){function e(e){f(this,e)}return this.mapToClass(e)};e.prototype.add=function(t,r){var n=this;var e=this.schema.primKey,i=e.auto,a=e.keyPath;var s=t;if(a&&i){s=zt(a)(t)}return this._trans("readwrite",function(e){return n.core.mutate({trans:e,type:"add",keys:r!=null?[r]:null,values:[s]})}).then(function(e){return e.numFailures?Ke.reject(e.failures[0]):e.lastResult}).then(function(e){if(a){try{k(t,a,e)}catch(e){}}return e})};e.prototype.update=function(t,r){if(typeof r!=="object"||d(r))throw new se.InvalidArgument("Modifications must be an object.");if(typeof t==="object"&&!d(t)){m(r).forEach(function(e){k(t,e,r[e])});var e=R(t,this.schema.primKey.keyPath);if(e===undefined)return Ot(new se.InvalidArgument("Given object does not contain its primary key"));return this.where(":id").equals(e).modify(r)}else{return this.where(":id").equals(t).modify(r)}};e.prototype.put=function(t,r){var n=this;var e=this.schema.primKey,i=e.auto,a=e.keyPath;var s=t;if(a&&i){s=zt(a)(t)}return this._trans("readwrite",function(e){return n.core.mutate({trans:e,type:"put",values:[s],keys:r!=null?[r]:null})}).then(function(e){return e.numFailures?Ke.reject(e.failures[0]):e.lastResult}).then(function(e){if(a){try{k(t,a,e)}catch(e){}}return e})};e.prototype.delete=function(t){var r=this;return this._trans("readwrite",function(e){return r.core.mutate({trans:e,type:"delete",keys:[t]})}).then(function(e){return e.numFailures?Ke.reject(e.failures[0]):undefined})};e.prototype.clear=function(){var t=this;return this._trans("readwrite",function(e){return t.core.mutate({trans:e,type:"deleteRange",range:Vt})}).then(function(e){return e.numFailures?Ke.reject(e.failures[0]):undefined})};e.prototype.bulkGet=function(t){var r=this;return this._trans("readonly",function(e){return r.core.getMany({keys:t,trans:e}).then(function(e){return e.map(function(e){return r.hook.reading.fire(e)})})})};e.prototype.bulkAdd=function(a,e,t){var o=this;var f=Array.isArray(e)?e:undefined;t=t||(f?undefined:e);var u=t?t.allKeys:undefined;return this._trans("readwrite",function(e){var t=o.schema.primKey,r=t.auto,n=t.keyPath;if(n&&f)throw new se.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(f&&f.length!==a.length)throw new se.InvalidArgument("Arguments objects and keys must have the same length");var s=a.length;var i=n&&r?a.map(zt(n)):a;return o.core.mutate({trans:e,type:"add",keys:f,values:i,wantResults:u}).then(function(e){var t=e.numFailures,r=e.results,n=e.lastResult,i=e.failures;var a=u?r:n;if(t===0)return a;throw new ne(o.name+".bulkAdd(): "+t+" of "+s+" operations failed",Object.keys(i).map(function(e){return i[e]}))})})};e.prototype.bulkPut=function(a,e,t){var o=this;var f=Array.isArray(e)?e:undefined;t=t||(f?undefined:e);var u=t?t.allKeys:undefined;return this._trans("readwrite",function(e){var t=o.schema.primKey,r=t.auto,n=t.keyPath;if(n&&f)throw new se.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(f&&f.length!==a.length)throw new se.InvalidArgument("Arguments objects and keys must have the same length");var s=a.length;var i=n&&r?a.map(zt(n)):a;return o.core.mutate({trans:e,type:"put",keys:f,values:i,wantResults:u}).then(function(e){var t=e.numFailures,r=e.results,n=e.lastResult,i=e.failures;var a=u?r:n;if(t===0)return a;throw new ne(o.name+".bulkPut(): "+t+" of "+s+" operations failed",Object.keys(i).map(function(e){return i[e]}))})})};e.prototype.bulkDelete=function(t){var i=this;var a=t.length;return this._trans("readwrite",function(e){return i.core.mutate({trans:e,type:"delete",keys:t})}).then(function(e){var t=e.numFailures,r=e.lastResult,n=e.failures;if(t===0)return r;throw new ne(i.name+".bulkDelete(): "+t+" of "+a+" operations failed",n)})};return e}();function $t(i){var a={};var t=function(e,t){if(t){var r=arguments.length,n=new Array(r-1);while(--r)n[r-1]=arguments[r];a[e].subscribe.apply(null,n);return i}else if(typeof e==="string"){return a[e]}};t.addEventType=s;for(var e=1,r=arguments.length;e<r;++e){s(arguments[e])}return t;function s(e,r,n){if(typeof e==="object")return o(e);if(!r)r=ve;if(!n)n=le;var i={subscribers:[],fire:n,subscribe:function(e){if(i.subscribers.indexOf(e)===-1){i.subscribers.push(e);i.fire=r(i.fire,e)}},unsubscribe:function(t){i.subscribers=i.subscribers.filter(function(e){return e!==t});i.fire=i.subscribers.reduce(r,n)}};a[e]=t[e]=i;return i}function o(r){m(r).forEach(function(e){var t=r[e];if(d(t)){s(e,r[e][0],r[e][1])}else if(t==="asap"){var n=s(e,ce,function e(){var t=arguments.length,r=new Array(t);while(t--)r[t]=arguments[t];n.subscribers.forEach(function(t){w(function e(){t.apply(null,r)})})})}else throw new se.InvalidArgument("Invalid event config")})}}function Yt(e,t){u(t).from({prototype:e});return t}function Xt(i){return Yt(Gt.prototype,function e(t,r,n){this.db=i;this._tx=n;this.name=t;this.schema=r;this.hook=i._allTables[t]?i._allTables[t].hook:$t(null,{creating:[pe,le],reading:[de,ce],updating:[ge,le],deleting:[be,le]})})}function Jt(e,t){return!(e.filter||e.algorithm||e.or)&&(t?e.justLimit:!e.replayFilter)}function Qt(e,t){e.filter=Kt(e.filter,t)}function Zt(e,t,r){var n=e.replayFilter;e.replayFilter=n?function(){return Kt(n(),t())}:t;e.justLimit=r&&!n}function er(e,t){e.isMatch=Kt(e.isMatch,t)}function tr(e,t){if(e.isPrimKey)return t.primaryKey;var r=t.getIndexByKeyPath(e.index);if(!r)throw new se.Schema("KeyPath "+e.index+" on object store "+t.name+" is not indexed");return r}function rr(e,t,r){var n=tr(e,t.schema);return t.openCursor({trans:r,values:!e.keysOnly,reverse:e.dir==="prev",unique:!!e.unique,query:{index:n,range:e.range}})}function nr(e,a,t,r){var s=e.replayFilter?Kt(e.filter,e.replayFilter()):e.filter;if(!e.or){return ir(rr(e,r,t),Kt(e.algorithm,s),a,!e.keysOnly&&e.valueMapper)}else{var o={};var n=function(e,t,r){if(!s||s(t,r,function(e){return t.stop(e)},function(e){return t.fail(e)})){var n=t.primaryKey;var i=""+n;if(i==="[object ArrayBuffer]")i=""+new Uint8Array(n);if(!y(o,i)){o[i]=true;a(e,t,r)}}};return Promise.all([e.or._iterate(n,t),ir(rr(e,r,t),e.algorithm,n,!e.keysOnly&&e.valueMapper)])}}function ir(e,n,i,a){var t=a?function(e,t,r){return i(a(e),t,r)}:i;var s=ft(t);return e.then(function(r){if(r){return r.start(function(){var t=function(){return r.continue()};if(!n||n(r,function(e){return t=e},function(e){r.stop(e);t=le},function(e){r.fail(e);t=le}))s(r.value,r,function(e){return t=e});t()})}})}var ar=function(){function e(){}e.prototype._read=function(e,t){var r=this._ctx;return r.error?r.table._trans(null,Ot.bind(null,r.error)):r.table._trans("readonly",e).then(t)};e.prototype._write=function(e){var t=this._ctx;return t.error?t.table._trans(null,Ot.bind(null,t.error)):t.table._trans("readwrite",e,"locked")};e.prototype._addAlgorithm=function(e){var t=this._ctx;t.algorithm=Kt(t.algorithm,e)};e.prototype._iterate=function(e,t){return nr(this._ctx,e,t,this._ctx.table.core)};e.prototype.clone=function(e){var t=Object.create(this.constructor.prototype),r=Object.create(this._ctx);if(e)f(r,e);t._ctx=r;return t};e.prototype.raw=function(){this._ctx.valueMapper=null;return this};e.prototype.each=function(t){var r=this._ctx;return this._read(function(e){return nr(r,t,e,r.table.core)})};e.prototype.count=function(e){var i=this;return this._read(function(e){var t=i._ctx;var r=t.table.core;if(Jt(t,true)){return r.count({trans:e,query:{index:tr(t,r.schema),range:t.range}}).then(function(e){return Math.min(e,t.limit)})}else{var n=0;return nr(t,function(){++n;return false},e,r).then(function(){return n})}}).then(e)};e.prototype.sortBy=function(e,t){var r=e.split(".").reverse(),n=r[0],i=r.length-1;function a(e,t){if(t)return a(e[r[t]],t-1);return e[n]}var s=this._ctx.dir==="next"?1:-1;function o(e,t){var r=a(e,i),n=a(t,i);return r<n?-s:r>n?s:0}return this.toArray(function(e){return e.sort(o)}).then(t)};e.prototype.toArray=function(e){var a=this;return this._read(function(e){var t=a._ctx;if(t.dir==="next"&&Jt(t,true)&&t.limit>0){var r=t.valueMapper;var n=tr(t,t.table.core.schema);return t.table.core.query({trans:e,limit:t.limit,values:true,query:{index:n,range:t.range}}).then(function(e){var t=e.result;return r?t.map(r):t})}else{var i=[];return nr(t,function(e){return i.push(e)},e,t.table.core).then(function(){return i})}},e)};e.prototype.offset=function(t){var e=this._ctx;if(t<=0)return this;e.offset+=t;if(Jt(e)){Zt(e,function(){var r=t;return function(e,t){if(r===0)return true;if(r===1){--r;return false}t(function(){e.advance(r);r=0});return false}})}else{Zt(e,function(){var e=t;return function(){return--e<0}})}return this};e.prototype.limit=function(e){this._ctx.limit=Math.min(this._ctx.limit,e);Zt(this._ctx,function(){var n=e;return function(e,t,r){if(--n<=0)t(r);return n>=0}},true);return this};e.prototype.until=function(n,i){Qt(this._ctx,function(e,t,r){if(n(e.value)){t(r);return i}else{return true}});return this};e.prototype.first=function(e){return this.limit(1).toArray(function(e){return e[0]}).then(e)};e.prototype.last=function(e){return this.reverse().first(e)};e.prototype.filter=function(t){Qt(this._ctx,function(e){return t(e.value)});er(this._ctx,t);return this};e.prototype.and=function(e){return this.filter(e)};e.prototype.or=function(e){return new this.db.WhereClause(this._ctx.table,e,this)};e.prototype.reverse=function(){this._ctx.dir=this._ctx.dir==="prev"?"next":"prev";if(this._ondirectionchange)this._ondirectionchange(this._ctx.dir);return this};e.prototype.desc=function(){return this.reverse()};e.prototype.eachKey=function(r){var e=this._ctx;e.keysOnly=!e.isMatch;return this.each(function(e,t){r(t.key,t)})};e.prototype.eachUniqueKey=function(e){this._ctx.unique="unique";return this.eachKey(e)};e.prototype.eachPrimaryKey=function(r){var e=this._ctx;e.keysOnly=!e.isMatch;return this.each(function(e,t){r(t.primaryKey,t)})};e.prototype.keys=function(e){var t=this._ctx;t.keysOnly=!t.isMatch;var r=[];return this.each(function(e,t){r.push(t.key)}).then(function(){return r}).then(e)};e.prototype.primaryKeys=function(e){var r=this._ctx;if(r.dir==="next"&&Jt(r,true)&&r.limit>0){return this._read(function(e){var t=tr(r,r.table.core.schema);return r.table.core.query({trans:e,values:false,limit:r.limit,query:{index:t,range:r.range}})}).then(function(e){var t=e.result;return t}).then(e)}r.keysOnly=!r.isMatch;var n=[];return this.each(function(e,t){n.push(t.primaryKey)}).then(function(){return n}).then(e)};e.prototype.uniqueKeys=function(e){this._ctx.unique="unique";return this.keys(e)};e.prototype.firstKey=function(e){return this.limit(1).keys(function(e){return e[0]}).then(e)};e.prototype.lastKey=function(e){return this.reverse().firstKey(e)};e.prototype.distinct=function(){var e=this._ctx,t=e.index&&e.table.schema.idxByName[e.index];if(!t||!t.multi)return this;var n={};Qt(this._ctx,function(e){var t=e.primaryKey.toString();var r=y(n,t);n[t]=true;return!r});return this};e.prototype.modify=function(u){var r=this;var n=this._ctx;return this._write(function(d){var h;if(typeof u==="function"){h=u}else{var a=m(u);var s=a.length;h=function(e){var t=false;for(var r=0;r<s;++r){var n=a[r],i=u[n];if(R(e,n)!==i){k(e,n,i);t=true}}return t}}var p=n.table.core;var e=p.schema.primaryKey,b=e.outbound,g=e.extractKey;var v="testmode"in bn?1:2e3;var y=r.db.core.cmp;var o=[];var f=0;var t=[];var _=function(e,t){var r=t.failures,n=t.numFailures;f+=e-n;for(var i=0,a=m(r);i<a.length;i++){var s=a[i];o.push(r[s])}};return r.clone().primaryKeys().then(function(l){var c=function(f){var u=Math.min(v,l.length-f);return p.getMany({trans:d,keys:l.slice(f,f+u)}).then(function(e){var r=[];var t=[];var n=b?[]:null;var i=[];for(var a=0;a<u;++a){var s=e[a];var o={value:C(s),primKey:l[f+a]};if(h.call(o,o.value,o)!==false){if(o.value==null){i.push(l[f+a])}else if(!b&&y(g(s),g(o.value))!==0){i.push(l[f+a]);r.push(o.value)}else{t.push(o.value);if(b)n.push(l[f+a])}}}return Promise.resolve(r.length>0&&p.mutate({trans:d,type:"add",values:r}).then(function(e){for(var t in e.failures){i.splice(parseInt(t),1)}_(r.length,e)})).then(function(e){return t.length>0&&p.mutate({trans:d,type:"put",keys:n,values:t}).then(function(e){return _(t.length,e)})}).then(function(){return i.length>0&&p.mutate({trans:d,type:"delete",keys:i}).then(function(e){return _(i.length,e)})}).then(function(){return l.length>f+u&&c(f+v)})})};return c(0).then(function(){if(o.length>0)throw new re("Error modifying one or more objects",o,f,t);return l.length})})})};e.prototype.delete=function(){var n=this._ctx,i=n.range;if(Jt(n)&&(n.isPrimKey&&!Nt||i.type===3)){return this._write(function(e){var t=n.table.core.schema.primaryKey;var r=i;return n.table.core.count({trans:e,query:{index:t,range:r}}).then(function(a){return n.table.core.mutate({trans:e,type:"deleteRange",range:r}).then(function(e){var t=e.failures,r=e.lastResult,n=e.results,i=e.numFailures;if(i)throw new re("Could not delete some values",Object.keys(t).map(function(e){return t[e]}),a-i);return a-i})})})}return this.modify(function(e,t){return t.value=null})};return e}();function sr(f){return Yt(ar.prototype,function e(t,r){this.db=f;var n=Vt,i=null;if(r)try{n=r()}catch(e){i=e}var a=t._ctx;var s=a.table;var o=s.hook.reading.fire;this._ctx={table:s,index:a.index,isPrimKey:!a.index||s.schema.primKey.keyPath&&a.index===s.schema.primKey.name,range:n,keysOnly:false,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:true,isMatch:null,offset:0,limit:Infinity,error:i,or:a.or,valueMapper:o!==ce?o:null}})}function or(e,t){return e<t?-1:e===t?0:1}function fr(e,t){return e>t?-1:e===t?0:1}function ur(e,t,r){var n=e instanceof vr?new e.Collection(e):e;n._ctx.error=r?new r(t):new TypeError(t);return n}function lr(e){return new e.Collection(e,function(){return gr("")}).limit(0)}function cr(e){return e==="next"?function(e){return e.toUpperCase()}:function(e){return e.toLowerCase()}}function dr(e){return e==="next"?function(e){return e.toLowerCase()}:function(e){return e.toUpperCase()}}function hr(e,t,r,n,i,a){var s=Math.min(e.length,n.length);var o=-1;for(var f=0;f<s;++f){var u=t[f];if(u!==n[f]){if(i(e[f],r[f])<0)return e.substr(0,f)+r[f]+r.substr(f+1);if(i(e[f],n[f])<0)return e.substr(0,f)+n[f]+r.substr(f+1);if(o>=0)return e.substr(0,o)+t[o]+r.substr(o+1);return null}if(i(e[f],u)<0)o=f}if(s<n.length&&a==="next")return e+r.substr(e.length);if(s<e.length&&a==="prev")return e.substr(0,r.length);return o<0?null:e.substr(0,o)+n[o]+r.substr(o+1)}function pr(e,f,r,n){var i,u,l,c,d,h,p,b=r.length;if(!r.every(function(e){return typeof e==="string"})){return ur(e,It)}function t(e){i=cr(e);u=dr(e);l=e==="next"?or:fr;var t=r.map(function(e){return{lower:u(e),upper:i(e)}}).sort(function(e,t){return l(e.lower,t.lower)});c=t.map(function(e){return e.upper});d=t.map(function(e){return e.lower});h=e;p=e==="next"?"":n}t("next");var a=new e.Collection(e,function(){return br(c[0],d[b-1]+n)});a._ondirectionchange=function(e){t(e)};var g=0;a._addAlgorithm(function(e,t,r){var n=e.key;if(typeof n!=="string")return false;var i=u(n);if(f(i,d,g)){return true}else{var a=null;for(var s=g;s<b;++s){var o=hr(n,i,c[s],d[s],l,h);if(o===null&&a===null)g=s+1;else if(a===null||l(a,o)>0){a=o}}if(a!==null){t(function(){e.continue(a+p)})}else{t(r)}return false}});return a}function br(e,t,r,n){return{type:2,lower:e,upper:t,lowerOpen:r,upperOpen:n}}function gr(e){return{type:1,lower:e,upper:e}}var vr=function(){function e(){}Object.defineProperty(e.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:true,configurable:true});e.prototype.between=function(e,t,r,n){r=r!==false;n=n===true;try{if(this._cmp(e,t)>0||this._cmp(e,t)===0&&(r||n)&&!(r&&n))return lr(this);return new this.Collection(this,function(){return br(e,t,!r,!n)})}catch(e){return ur(this,Ct)}};e.prototype.equals=function(e){if(e==null)return ur(this,Ct);return new this.Collection(this,function(){return gr(e)})};e.prototype.above=function(e){if(e==null)return ur(this,Ct);return new this.Collection(this,function(){return br(e,undefined,true)})};e.prototype.aboveOrEqual=function(e){if(e==null)return ur(this,Ct);return new this.Collection(this,function(){return br(e,undefined,false)})};e.prototype.below=function(e){if(e==null)return ur(this,Ct);return new this.Collection(this,function(){return br(undefined,e,false,true)})};e.prototype.belowOrEqual=function(e){if(e==null)return ur(this,Ct);return new this.Collection(this,function(){return br(undefined,e)})};e.prototype.startsWith=function(e){if(typeof e!=="string")return ur(this,It);return this.between(e,e+Pt,true,true)};e.prototype.startsWithIgnoreCase=function(e){if(e==="")return this.startsWith(e);return pr(this,function(e,t){return e.indexOf(t[0])===0},[e],Pt)};e.prototype.equalsIgnoreCase=function(e){return pr(this,function(e,t){return e===t[0]},[e],"")};e.prototype.anyOfIgnoreCase=function(){var e=H.apply(q,arguments);if(e.length===0)return lr(this);return pr(this,function(e,t){return t.indexOf(e)!==-1},e,"")};e.prototype.startsWithAnyOfIgnoreCase=function(){var e=H.apply(q,arguments);if(e.length===0)return lr(this);return pr(this,function(t,e){return e.some(function(e){return t.indexOf(e)===0})},e,Pt)};e.prototype.anyOf=function(){var t=this;var i=H.apply(q,arguments);var a=this._cmp;try{i.sort(a)}catch(e){return ur(this,Ct)}if(i.length===0)return lr(this);var e=new this.Collection(this,function(){return br(i[0],i[i.length-1])});e._ondirectionchange=function(e){a=e==="next"?t._ascending:t._descending;i.sort(a)};var s=0;e._addAlgorithm(function(e,t,r){var n=e.key;while(a(n,i[s])>0){++s;if(s===i.length){t(r);return false}}if(a(n,i[s])===0){return true}else{t(function(){e.continue(i[s])});return false}});return e};e.prototype.notEqual=function(e){return this.inAnyRange([[jt,e],[e,this.db._maxKey]],{includeLowers:false,includeUppers:false})};e.prototype.noneOf=function(){var e=H.apply(q,arguments);if(e.length===0)return new this.Collection(this);try{e.sort(this._ascending)}catch(e){return ur(this,Ct)}var t=e.reduce(function(e,t){return e?e.concat([[e[e.length-1][1],t]]):[[jt,t]]},null);t.push([e[e.length-1],this.db._maxKey]);return this.inAnyRange(t,{includeLowers:false,includeUppers:false})};e.prototype.inAnyRange=function(e,t){var i=this;var a=this._cmp,s=this._ascending,r=this._descending,o=this._min,f=this._max;if(e.length===0)return lr(this);if(!e.every(function(e){return e[0]!==undefined&&e[1]!==undefined&&s(e[0],e[1])<=0})){return ur(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",se.InvalidArgument)}var n=!t||t.includeLowers!==false;var u=t&&t.includeUppers===true;function l(e,t){var r=0,n=e.length;for(;r<n;++r){var i=e[r];if(a(t[0],i[1])<0&&a(t[1],i[0])>0){i[0]=o(i[0],t[0]);i[1]=f(i[1],t[1]);break}}if(r===n)e.push(t);return e}var c=s;function d(e,t){return c(e[0],t[0])}var h;try{h=e.reduce(l,[]);h.sort(d)}catch(e){return ur(this,Ct)}var p=0;var b=u?function(e){return s(e,h[p][1])>0}:function(e){return s(e,h[p][1])>=0};var g=n?function(e){return r(e,h[p][0])>0}:function(e){return r(e,h[p][0])>=0};function v(e){return!b(e)&&!g(e)}var y=b;var _=new this.Collection(this,function(){return br(h[0][0],h[h.length-1][1],!n,!u)});_._ondirectionchange=function(e){if(e==="next"){y=b;c=s}else{y=g;c=r}h.sort(d)};_._addAlgorithm(function(e,t,r){var n=e.key;while(y(n)){++p;if(p===h.length){t(r);return false}}if(v(n)){return true}else if(i._cmp(n,h[p][1])===0||i._cmp(n,h[p][0])===0){return false}else{t(function(){if(c===s)e.continue(h[p][0]);else e.continue(h[p][1])});return false}});return _};e.prototype.startsWithAnyOf=function(){var e=H.apply(q,arguments);if(!e.every(function(e){return typeof e==="string"})){return ur(this,"startsWithAnyOf() only works with strings")}if(e.length===0)return lr(this);return this.inAnyRange(e.map(function(e){return[e,e+Pt]}))};return e}();function yr(a){return Yt(vr.prototype,function e(t,r,n){this.db=a;this._ctx={table:t,index:r===":id"?null:r,or:n};var i=a._deps.indexedDB;if(!i)throw new se.MissingAPI("indexedDB API missing");this._cmp=this._ascending=i.cmp.bind(i);this._descending=function(e,t){return i.cmp(t,e)};this._max=function(e,t){return i.cmp(e,t)>0?e:t};this._min=function(e,t){return i.cmp(e,t)<0?e:t};this._IDBKeyRange=a._deps.IDBKeyRange})}function _r(e){return e.length===1?e[0]:e}function mr(e){try{e.only([[]]);return[[]]}catch(e){return Pt}}function wr(t){return ft(function(e){Sr(e);t(e.target.error);return false})}function Sr(e){if(e.stopPropagation)e.stopPropagation();if(e.preventDefault)e.preventDefault()}var Er=function(){function e(){}e.prototype._lock=function(){_(!We.global);++this._reculock;if(this._reculock===1&&!We.global)We.lockOwnerFor=this;return this};e.prototype._unlock=function(){_(!We.global);if(--this._reculock===0){if(!We.global)We.lockOwnerFor=null;while(this._blockedFuncs.length>0&&!this._locked()){var e=this._blockedFuncs.shift();try{Et(e[1],e[0])}catch(e){}}}return this};e.prototype._locked=function(){return this._reculock&&We.lockOwnerFor!==this};e.prototype.create=function(t){var r=this;if(!this.mode)return this;var e=this.db.idbdb;var n=this.db._state.dbOpenError;_(!this.idbtrans);if(!t&&!e){switch(n&&n.name){case"DatabaseClosedError":throw new se.DatabaseClosed(n);case"MissingAPIError":throw new se.MissingAPI(n.message,n);default:throw new se.OpenFailed(n)}}if(!this.active)throw new se.TransactionInactive;_(this._completion._state===null);t=this.idbtrans=t||e.transaction(_r(this.storeNames),this.mode);t.onerror=ft(function(e){Sr(e);r._reject(t.error)});t.onabort=ft(function(e){Sr(e);r.active&&r._reject(new se.Abort(t.error));r.active=false;r.on("abort").fire(e)});t.oncomplete=ft(function(){r.active=false;r._resolve()});return this};e.prototype._promise=function(r,n,i){var a=this;if(r==="readwrite"&&this.mode!=="readwrite")return Ot(new se.ReadOnly("Transaction is readonly"));if(!this.active)return Ot(new se.TransactionInactive);if(this._locked()){return new Ke(function(e,t){a._blockedFuncs.push([function(){a._promise(r,n,i).then(e,t)},We])})}else if(i){return bt(function(){var e=new Ke(function(e,t){a._lock();var r=n(e,t,a);if(r&&r.then)r.then(e,t)});e.finally(function(){return a._unlock()});e._lib=true;return e})}else{var e=new Ke(function(e,t){var r=n(e,t,a);if(r&&r.then)r.then(e,t)});e._lib=true;return e}};e.prototype._root=function(){return this.parent?this.parent._root():this};e.prototype.waitFor=function(e){var n=this._root();var i=Ke.resolve(e);if(n._waitingFor){n._waitingFor=n._waitingFor.then(function(){return i})}else{n._waitingFor=i;n._waitingQueue=[];var t=n.idbtrans.objectStore(n.storeNames[0]);(function e(){++n._spinCount;while(n._waitingQueue.length)n._waitingQueue.shift()();if(n._waitingFor)t.get(-Infinity).onsuccess=e})()}var a=n._waitingFor;return new Ke(function(t,r){i.then(function(e){return n._waitingQueue.push(ft(t.bind(null,e)))},function(e){return n._waitingQueue.push(ft(r.bind(null,e)))}).finally(function(){if(n._waitingFor===a){n._waitingFor=null}})})};e.prototype.abort=function(){this.active&&this._reject(new se.Abort);this.active=false};e.prototype.table=function(e){var t=this._memoizedTables||(this._memoizedTables={});if(y(t,e))return t[e];var r=this.schema[e];if(!r){throw new se.NotFound("Table "+e+" not part of transaction")}var n=new this.db.Table(e,r,this);n.core=this.db.core.table(e);t[e]=n;return n};return e}();function Rr(s){return Yt(Er.prototype,function e(t,r,n,i){var a=this;this.db=s;this.mode=t;this.storeNames=r;this.schema=n;this.idbtrans=null;this.on=$t(this,"complete","error","abort");this.parent=i||null;this.active=true;this._reculock=0;this._blockedFuncs=[];this._resolve=null;this._reject=null;this._waitingFor=null;this._waitingQueue=null;this._spinCount=0;this._completion=new Ke(function(e,t){a._resolve=e;a._reject=t});this._completion.then(function(){a.active=false;a.on.complete.fire()},function(e){var t=a.active;a.active=false;a.on.error.fire(e);a.parent?a.parent._reject(e):t&&a.idbtrans&&a.idbtrans.abort();return Ot(e)})})}function kr(e,t,r,n,i,a,s){return{name:e,keyPath:t,unique:r,multi:n,auto:i,compound:a,src:(r&&!s?"&":"")+(n?"*":"")+(i?"++":"")+xr(t)}}function xr(e){return typeof e==="string"?e:e?"["+[].join.call(e,"+")+"]":""}function Tr(e,t,r){return{name:e,primKey:t,indexes:r,mappedClass:null,idxByName:S(r,function(e){return[e.name,e]})}}function Mr(t){if(t==null){return function(){return undefined}}else if(typeof t==="string"){return Or(t)}else{return function(e){return R(e,t)}}}function Or(t){var e=t.split(".");if(e.length===1){return function(e){return e[t]}}else{return function(e){return R(e,t)}}}function Lr(e,t){if(t.type==="delete")return t.keys;return t.keys||t.values.map(e.extractKey)}function Ar(e,t,r){return t.type==="add"?Promise.resolve(new Array(t.values.length)):e.getMany({trans:t.trans,keys:r})}function Pr(e){return[].slice.call(e)}var jr=0;function Cr(e){return e==null?":id":typeof e==="string"?e:"["+e.join("+")+"]"}function Ir(e,t,s,r){var n=t.cmp.bind(t);function i(e,t){var r=Pr(e.objectStoreNames);return{schema:{name:e.name,tables:r.map(function(e){return t.objectStore(e)}).map(function(t){var e=t.keyPath,r=t.autoIncrement;var n=d(e);var i=e==null;var o={};var a={name:t.name,primaryKey:{name:null,isPrimaryKey:true,outbound:i,compound:n,keyPath:e,autoIncrement:r,unique:true,extractKey:Mr(e)},indexes:Pr(t.indexNames).map(function(e){return t.index(e)}).map(function(e){var t=e.name,r=e.unique,n=e.multiEntry,i=e.keyPath;var a=d(i);var s={name:t,compound:a,keyPath:i,unique:r,multiEntry:n,extractKey:Mr(i)};o[Cr(i)]=s;return s}),getIndexByKeyPath:function(e){return o[Cr(e)]}};o[":id"]=a.primaryKey;if(e!=null){o[Cr(e)]=a.primaryKey}return a})},hasGetAll:r.length>0&&"getAll"in t.objectStore(r[0])&&!(typeof navigator!=="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}}function k(e){if(e.type===3)return null;if(e.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var t=e.lower,r=e.upper,n=e.lowerOpen,i=e.upperOpen;var a=t===undefined?r===undefined?null:s.upperBound(r,!!i):r===undefined?s.lowerBound(t,!!n):s.bound(t,r,!!n,!!i);return a}function a(E){var R=E.name;function e(e){var v=e.trans,y=e.type,_=e.keys,m=e.values,w=e.range,S=e.wantResults;return new Promise(function(r,e){r=ft(r);var t=v.objectStore(R);var n=t.keyPath==null;var i=y==="put"||y==="add";if(!i&&y!=="delete"&&y!=="deleteRange")throw new Error("Invalid operation type: "+y);var a=(_||m||{length:1}).length;if(_&&m&&_.length!==m.length){throw new Error("Given keys array must have same length as given values array.")}if(a===0)return r({numFailures:0,failures:{},results:[],lastResult:undefined});var s=S&&x(_?_:Lr(E.primaryKey,{type:y,keys:_,values:m}));var o;var f=[];var u=0;var l=function(e){++u;Sr(e);if(s)s[e.target._reqno]=undefined;f[e.target._reqno]=e.target.error};var c=function(e){var t=e.target;s[t._reqno]=t.result};if(y==="deleteRange"){if(w.type===4)return r({numFailures:u,failures:f,results:s,lastResult:undefined});if(w.type===3)o=t.clear();else o=t.delete(k(w))}else{var d=i?n?[m,_]:[m,null]:[_,null],h=d[0],p=d[1];if(i){for(var b=0;b<a;++b){o=p&&p[b]!==undefined?t[y](h[b],p[b]):t[y](h[b]);o._reqno=b;if(s&&s[b]===undefined){o.onsuccess=c}o.onerror=l}}else{for(var b=0;b<a;++b){o=t[y](h[b]);o._reqno=b;o.onerror=l}}}var g=function(e){var t=e.target.result;if(s)s[a-1]=t;r({numFailures:u,failures:f,results:s,lastResult:t})};o.onerror=function(e){l(e);g(e)};o.onsuccess=g})}function t(e){var l=e.trans,s=e.values,o=e.query,c=e.reverse,d=e.unique;return new Promise(function(r,f){r=ft(r);var e=o.index,t=o.range;var n=l.objectStore(R);var i=e.isPrimaryKey?n:n.index(e.name);var a=c?d?"prevunique":"prev":d?"nextunique":"next";var u=s||!("openKeyCursor"in i)?i.openCursor(k(t),a):i.openKeyCursor(k(t),a);u.onerror=wr(f);u.onsuccess=ft(function(e){var n=u.result;if(!n){r(null);return}n.___id=++jr;n.done=false;var i=n.continue.bind(n);var a=n.continuePrimaryKey;if(a)a=a.bind(n);var s=n.advance.bind(n);var t=function(){throw new Error("Cursor not started")};var o=function(){throw new Error("Cursor not stopped")};n.trans=l;n.stop=n.continue=n.continuePrimaryKey=n.advance=t;n.fail=ft(f);n.next=function(){var e=this;var t=1;return this.start(function(){return t--?e.continue():e.stop()}).then(function(){return e})};n.start=function(e){var t=new Promise(function(t,e){t=ft(t);u.onerror=wr(e);n.fail=e;n.stop=function(e){n.stop=n.continue=n.continuePrimaryKey=n.advance=o;t(e)}});var r=function(){if(u.result){try{e()}catch(e){n.fail(e)}}else{n.done=true;n.start=function(){throw new Error("Cursor behind last entry")};n.stop()}};u.onsuccess=ft(function(e){u.onsuccess=r;r()});n.continue=i;n.continuePrimaryKey=a;n.advance=s;r();return t};r(n)},f)})}function r(v){return function(g){return new Promise(function(r,e){r=ft(r);var t=g.trans,n=g.values,i=g.limit,a=g.query;var s=i===Infinity?undefined:i;var o=a.index,f=a.range;var u=t.objectStore(R);var l=o.isPrimaryKey?u:u.index(o.name);var c=k(f);if(i===0)return r({result:[]});if(v){var d=n?l.getAll(c,s):l.getAllKeys(c,s);d.onsuccess=function(e){return r({result:e.target.result})};d.onerror=wr(e)}else{var h=0;var p=n||!("openKeyCursor"in l)?l.openCursor(c):l.openKeyCursor(c);var b=[];p.onsuccess=function(e){var t=p.result;if(!t)return r({result:b});b.push(n?t.value:t.primaryKey);if(++h===i)return r({result:b});t.continue()};p.onerror=wr(e)}})}}return{name:R,schema:E,mutate:e,getMany:function(e){var h=e.trans,p=e.keys;return new Promise(function(r,e){r=ft(r);var t=h.objectStore(R);var n=p.length;var i=new Array(n);var a=0;var s=0;var o=0;var f;var u=function(e){var t=e.target;if((i[t._pos]=t.result)!=null)++o;if(++s===a)r(i)};var l=wr(e);for(var c=0;c<n;++c){var d=p[c];if(d!=null){f=t.get(p[c]);f._pos=c;f.onsuccess=u;f.onerror=l;++a}}if(a===0)r(i)})},get:function(e){var i=e.trans,a=e.key;return new Promise(function(t,e){t=ft(t);var r=i.objectStore(R);var n=r.get(a);n.onsuccess=function(e){return t(e.target.result)};n.onerror=wr(e)})},query:r(u),openCursor:t,count:function(e){var t=e.query,s=e.trans;var o=t.index,f=t.range;return new Promise(function(t,e){var r=s.objectStore(R);var n=o.isPrimaryKey?r:r.index(o.name);var i=k(f);var a=i?n.count(i):n.count();a.onsuccess=ft(function(e){return t(e.target.result)});a.onerror=wr(e)})}}}var o=i(e,r),f=o.schema,u=o.hasGetAll;var l=f.tables.map(function(e){return a(e)});var c={};l.forEach(function(e){return c[e.name]=e});return{stack:"dbcore",transaction:e.transaction.bind(e),table:function(e){var t=c[e];if(!t)throw new Error("Table '"+e+"' not found");return c[e]},cmp:n,MIN_KEY:-Infinity,MAX_KEY:mr(s),schema:f}}function Dr(e,t){return t.reduce(function(e,t){var r=t.create;return v(v({},e),r(e))},e)}function Br(e,t,r,n){var i=r.IDBKeyRange,a=r.indexedDB;var s=Dr(Ir(t,a,i,n),e.dbcore);return{dbcore:s}}function Ur(r,e){var t=e.db;var n=Br(r._middlewares,t,r._deps,e);r.core=n.dbcore;r.tables.forEach(function(e){var t=e.name;if(r.core.schema.tables.some(function(e){return e.name===t})){e.core=r.core.table(t);if(r[t]instanceof r.Table){r[t].core=e.core}}})}function Nr(i,e,t,a){t.forEach(function(r){var n=a[r];e.forEach(function(e){var t=c(e,r);if(!t||"value"in t&&t.value===undefined){if(e===i.Transaction.prototype||e instanceof i.Transaction){o(e,r,{get:function(){return this.table(r)},set:function(e){s(this,r,{value:e,writable:true,configurable:true,enumerable:true})}})}else{e[r]=new i.Table(r,n)}}})})}function Wr(r,e){e.forEach(function(e){for(var t in e){if(e[t]instanceof r.Table)delete e[t]}})}function qr(e,t){return e._cfg.version-t._cfg.version}function Hr(e,t,r,n){var i=e._dbSchema;var a=e._createTransaction("readwrite",e._storeNames,i);a.create(r);a._completion.catch(n);var s=a._reject.bind(a);var o=We.transless||We;bt(function(){We.trans=a;We.transless=o;if(t===0){m(i).forEach(function(e){Vr(r,e,i[e].primKey,i[e].indexes)});Ur(e,r);Ke.follow(function(){return e.on.populate.fire(a)}).catch(s)}else Fr(e,t,a,r).catch(s)})}function Fr(u,l,c,d){var e=[];var t=u._versions;var h=u._dbSchema=Yr(u,u.idbdb,d);var p=false;var r=t.filter(function(e){return e._cfg.version>=l});r.forEach(function(f){e.push(function(){var t=h;var e=f._cfg.dbschema;Qr(u,t,d);Qr(u,e,d);h=u._dbSchema=e;var r=Kr(t,e);r.add.forEach(function(e){Vr(d,e[0],e[1].primKey,e[1].indexes)});r.change.forEach(function(e){if(e.recreate){throw new se.Upgrade("Not yet support for changing primary key")}else{var t=d.objectStore(e.name);e.add.forEach(function(e){return $r(t,e)});e.change.forEach(function(e){t.deleteIndex(e.name);$r(t,e)});e.del.forEach(function(e){return t.deleteIndex(e)})}});var n=f._cfg.contentUpgrade;if(n&&f._cfg.version>l){Ur(u,d);c._memoizedTables={};p=true;var i=M(e);r.del.forEach(function(e){i[e]=t[e]});Wr(u,[u.Transaction.prototype]);Nr(u,[u.Transaction.prototype],m(i),i);c.schema=i;var a=F(n);if(a){gt()}var s;var o=Ke.follow(function(){s=n(c);if(s){if(a){var e=vt.bind(null,null);s.then(e,e)}}});return s&&typeof s.then==="function"?Ke.resolve(s):o.then(function(){return s})}});e.push(function(e){if(!p||!Ut){var t=f._cfg.dbschema;Gr(t,e)}Wr(u,[u.Transaction.prototype]);Nr(u,[u.Transaction.prototype],u._storeNames,u._dbSchema);c.schema=u._dbSchema})});function n(){return e.length?Ke.resolve(e.shift()(c.idbtrans)).then(n):Ke.resolve()}return n().then(function(){zr(h,d)})}function Kr(e,t){var r={del:[],add:[],change:[]};var n;for(n in e){if(!t[n])r.del.push(n)}for(n in t){var i=e[n],a=t[n];if(!i){r.add.push([n,a])}else{var s={name:n,def:a,recreate:false,del:[],add:[],change:[]};if(""+(i.primKey.keyPath||"")!==""+(a.primKey.keyPath||"")||i.primKey.auto!==a.primKey.auto&&!Bt){s.recreate=true;r.change.push(s)}else{var o=i.idxByName;var f=a.idxByName;var u=void 0;for(u in o){if(!f[u])s.del.push(u)}for(u in f){var l=o[u],c=f[u];if(!l)s.add.push(c);else if(l.src!==c.src)s.change.push(c)}if(s.del.length>0||s.add.length>0||s.change.length>0){r.change.push(s)}}}}return r}function Vr(e,t,r,n){var i=e.db.createObjectStore(t,r.keyPath?{keyPath:r.keyPath,autoIncrement:r.auto}:{autoIncrement:r.auto});n.forEach(function(e){return $r(i,e)});return i}function zr(t,r){m(t).forEach(function(e){if(!r.db.objectStoreNames.contains(e)){Vr(r,e,t[e].primKey,t[e].indexes)}})}function Gr(e,t){for(var r=0;r<t.db.objectStoreNames.length;++r){var n=t.db.objectStoreNames[r];if(e[n]==null){t.db.deleteObjectStore(n)}}}function $r(e,t){e.createIndex(t.name,t.keyPath,{unique:t.unique,multiEntry:t.multi})}function Yr(e,t,f){var u={};var r=b(t.objectStoreNames,0);r.forEach(function(e){var t=f.objectStore(e);var r=t.keyPath;var n=kr(xr(r),r||"",false,false,!!t.autoIncrement,r&&typeof r!=="string",true);var i=[];for(var a=0;a<t.indexNames.length;++a){var s=t.index(t.indexNames[a]);r=s.keyPath;var o=kr(s.name,r,!!s.unique,!!s.multiEntry,false,r&&typeof r!=="string",false);i.push(o)}u[e]=Tr(e,n,i)});return u}function Xr(e,t,r){e.verno=t.version/10;var n=e._dbSchema=Yr(e,t,r);e._storeNames=b(t.objectStoreNames,0);Nr(e,[e._allTables],m(n),n)}function Jr(e,t){var r=Yr(e,e.idbdb,t);var n=Kr(r,e._dbSchema);return!(n.add.length||n.change.some(function(e){return e.add.length||e.change.length}))}function Qr(e,t,r){var n=r.db.objectStoreNames;for(var i=0;i<n.length;++i){var a=n[i];var s=r.objectStore(a);e._hasGetAll="getAll"in s;for(var o=0;o<s.indexNames.length;++o){var f=s.indexNames[o];var u=s.index(f).keyPath;var l=typeof u==="string"?u:"["+b(u).join("+")+"]";if(t[a]){var c=t[a].idxByName[l];if(c){c.name=f;delete t[a].idxByName[l];t[a].idxByName[f]=c}}}}if(typeof navigator!=="undefined"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&h.WorkerGlobalScope&&h instanceof h.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604){e._hasGetAll=false}}function Zr(e){return e.split(",").map(function(e,t){e=e.trim();var r=e.replace(/([&*]|\+\+)/g,"");var n=/^\[/.test(r)?r.match(/^\[(.*)\]$/)[1].split("+"):r;return kr(r,n||null,/\&/.test(e),/\*/.test(e),/\+\+/.test(e),d(n),t===0)})}var en=function(){function e(){}e.prototype._parseStoresSpec=function(n,i){m(n).forEach(function(e){if(n[e]!==null){var t=Zr(n[e]);var r=t.shift();if(r.multi)throw new se.Schema("Primary key cannot be multi-valued");t.forEach(function(e){if(e.auto)throw new se.Schema("Only primary key can be marked as autoIncrement (++)");if(!e.keyPath)throw new se.Schema("Index must have a name and cannot be an empty string")});i[e]=Tr(e,r,t)}})};e.prototype.stores=function(e){var t=this.db;this._cfg.storesSource=this._cfg.storesSource?f(this._cfg.storesSource,e):e;var r=t._versions;var n={};var i={};r.forEach(function(e){f(n,e._cfg.storesSource);i=e._cfg.dbschema={};e._parseStoresSpec(n,i)});t._dbSchema=i;Wr(t,[t._allTables,t,t.Transaction.prototype]);Nr(t,[t._allTables,t,t.Transaction.prototype,this._cfg.tables],m(i),i);t._storeNames=m(i);return this};e.prototype.upgrade=function(e){this._cfg.contentUpgrade=e;return this};return e}();function tn(r){return Yt(en.prototype,function e(t){this.db=r;this._cfg={version:t,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})}var rn;function nn(e){var t=e&&typeof e.databases==="function";var r;if(!t){var n=new bn(qt,{addons:[]});n.version(1).stores({dbnames:"name"});r=n.table("dbnames")}return{getDatabaseNames:function(){return t?Ke.resolve(e.databases()).then(function(e){return e.map(function(e){return e.name}).filter(function(e){return e!==qt})}):r.toCollection().primaryKeys()},add:function(e){return!t&&e!==qt&&r.put({name:e}).catch(le)},remove:function(e){return!t&&e!==qt&&r.delete(e).catch(le)}}}function an(e){try{rn=nn(e)}catch(e){}}function sn(e){return bt(function(){We.letThrough=true;return e()})}function on(o){var f=o._state;var u=o._deps.indexedDB;if(f.isBeingOpened||o.idbdb)return f.dbReadyPromise.then(function(){return f.dbOpenError?Ot(f.dbOpenError):o});K&&(f.openCanceller._stackHolder=$());f.isBeingOpened=true;f.dbOpenError=null;f.openComplete=false;var e=f.dbReadyResolve,l=null;return Ke.race([f.openCanceller,new Ke(function(n,i){if(!u)throw new se.MissingAPI("indexedDB API not found. If using IE10+, make sure to run your code on a server URL "+"(not locally). If using old Safari versions, make sure to include indexedDB polyfill.");var a=o.name;var s=f.autoSchema?u.open(a):u.open(a,Math.round(o.verno*10));if(!s)throw new se.MissingAPI("IndexedDB API not available");s.onerror=wr(i);s.onblocked=ft(o._fireOnBlocked);s.onupgradeneeded=ft(function(e){l=s.transaction;if(f.autoSchema&&!o._options.allowEmptyDB){s.onerror=Sr;l.abort();s.result.close();var t=u.deleteDatabase(a);t.onsuccess=t.onerror=ft(function(){i(new se.NoSuchDatabase("Database "+a+" doesnt exist"))})}else{l.onerror=wr(i);var r=e.oldVersion>Math.pow(2,62)?0:e.oldVersion;o.idbdb=s.result;Hr(o,r/10,l,i)}},i);s.onsuccess=ft(function(){l=null;var e=o.idbdb=s.result;var t=b(e.objectStoreNames);if(t.length>0)try{var r=e.transaction(_r(t),"readonly");if(f.autoSchema)Xr(o,e,r);else{Qr(o,o._dbSchema,r);if(!Jr(o,r)){console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Some queries may fail.")}}Ur(o,r)}catch(e){}Dt.push(o);e.onversionchange=ft(function(e){f.vcFired=true;o.on("versionchange").fire(e)});rn.add(a);n()},i)})]).then(function(){f.onReadyBeingFired=[];return Ke.resolve(sn(o.on.ready.fire)).then(function e(){if(f.onReadyBeingFired.length>0){var t=f.onReadyBeingFired.reduce(ye,le);f.onReadyBeingFired=[];return Ke.resolve(sn(t)).then(e)}})}).finally(function(){f.onReadyBeingFired=null}).then(function(){f.isBeingOpened=false;return o}).catch(function(e){try{l&&l.abort()}catch(e){}f.isBeingOpened=false;o.close();f.dbOpenError=e;return Ot(f.dbOpenError)}).finally(function(){f.openComplete=true;e()})}function fn(t){var e=function(e){return t.next(e)},r=function(e){return t.throw(e)},i=n(e),a=n(r);function n(n){return function(e){var t=n(e),r=t.value;return t.done?r:!r||typeof r.then!=="function"?d(r)?Promise.all(r).then(i,a):i(r):r.then(i,a)}}return n(e)()}function un(e,t,r){var n=arguments.length;if(n<2)throw new se.InvalidArgument("Too few arguments");var i=new Array(n-1);while(--n)i[n-1]=arguments[n];r=i.pop();var a=L(i);return[e,a,r]}function ln(s,o,f,u,l){return Ke.resolve().then(function(){var e=We.transless||We;var t=s._createTransaction(o,f,s._dbSchema,u);var r={trans:t,transless:e};if(u){t.idbtrans=u.idbtrans}else{t.create()}var n=F(l);if(n){gt()}var i;var a=Ke.follow(function(){i=l.call(t,t);if(i){if(n){var e=vt.bind(null,null);i.then(e,e)}else if(typeof i.next==="function"&&typeof i.throw==="function"){i=fn(i)}}},r);return(i&&typeof i.then==="function"?Ke.resolve(i).then(function(e){return t.active?e:Ot(new se.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):a.then(function(){return i})).then(function(e){if(u)t._resolve();return t._completion.then(function(){return e})}).catch(function(e){t._reject(e);return Ot(e)})})}function cn(e,t,r){var n=d(e)?e.slice():[e];for(var i=0;i<r;++i)n.push(t);return n}function dn(p){return v(v({},p),{table:function(e){var s=p.table(e);var t=s.schema;var u={};var l=[];function c(e,t,r){var n=Cr(e);var i=u[n]=u[n]||[];var a=e==null?0:typeof e==="string"?1:e.length;var s=t>0;var o=v(v({},r),{isVirtual:s,isPrimaryKey:!s&&r.isPrimaryKey,keyTail:t,keyLength:a,extractKey:Mr(e),unique:!s&&r.unique});i.push(o);if(!o.isPrimaryKey){l.push(o)}if(a>1){var f=a===2?e[0]:e.slice(0,a-1);c(f,t+1,r)}i.sort(function(e,t){return e.keyTail-t.keyTail});return o}var r=c(t.primaryKey.keyPath,0,t.primaryKey);u[":id"]=[r];for(var n=0,i=t.indexes;n<i.length;n++){var a=i[n];c(a.keyPath,0,a)}function o(e){var t=u[Cr(e)];return t&&t[0]}function f(e,t){return{type:e.type===1?2:e.type,lower:cn(e.lower,e.lowerOpen?p.MAX_KEY:p.MIN_KEY,t),lowerOpen:true,upper:cn(e.upper,e.upperOpen?p.MIN_KEY:p.MAX_KEY,t),upperOpen:true}}function d(e){var t=e.query.index;return t.isVirtual?v(v({},e),{query:{index:t,range:f(e.query.range,t.keyTail)}}):e}var h=v(v({},s),{schema:v(v({},t),{primaryKey:r,indexes:l,getIndexByKeyPath:o}),count:function(e){return s.count(d(e))},query:function(e){return s.query(d(e))},openCursor:function(n){var e=n.query.index,i=e.keyTail,t=e.isVirtual,a=e.keyLength;if(!t)return s.openCursor(n);function r(r){function e(e){e!=null?r.continue(cn(e,n.reverse?p.MAX_KEY:p.MIN_KEY,i)):n.unique?r.continue(cn(r.key,n.reverse?p.MIN_KEY:p.MAX_KEY,i)):r.continue()}var t=Object.create(r,{continue:{value:e},continuePrimaryKey:{value:function(e,t){r.continuePrimaryKey(cn(e,p.MAX_KEY,i),t)}},key:{get:function(){var e=r.key;return a===1?e[0]:e.slice(0,a)}},value:{get:function(){return r.value}}});return t}return s.openCursor(d(n)).then(function(e){return e&&r(e)})}});return h}})}var hn={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:dn};var pn={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(t){return v(v({},t),{table:function(i){var o=t.table(i);var g=o.schema.primaryKey;var e=v(v({},o),{mutate:function(e){var t=We.trans;var r=t.table(i).hook,h=r.deleting,p=r.creating,b=r.updating;switch(e.type){case"add":if(p.fire===le)break;return t._promise("readwrite",function(){return a(e)},true);case"put":if(p.fire===le&&b.fire===le)break;return t._promise("readwrite",function(){return a(e)},true);case"delete":if(h.fire===le)break;return t._promise("readwrite",function(){return a(e)},true);case"deleteRange":if(h.fire===le)break;return t._promise("readwrite",function(){return n(e)},true)}return o.mutate(e);function a(l){var c=We.trans;var d=l.keys||Lr(g,l);if(!d)throw new Error("Keys missing");l=l.type==="add"||l.type==="put"?v(v({},l),{keys:d,wantResults:true}):v({},l);if(l.type!=="delete")l.values=x(l.values);if(l.keys)l.keys=x(l.keys);return Ar(o,l,d).then(function(f){var u=d.map(function(e,t){var r=f[t];var n={onerror:null,onsuccess:null};if(l.type==="delete"){h.fire.call(n,e,r,c)}else if(l.type==="add"||r===undefined){var i=p.fire.call(n,e,l.values[t],c);if(e==null&&i!=null){e=i;l.keys[t]=e;if(!g.outbound){k(l.values[t],g.keyPath,e)}}}else{var a=U(r,l.values[t]);var s=b.fire.call(n,a,e,r,c);if(s){var o=l.values[t];Object.keys(s).forEach(function(e){if(y(o,e)){o[e]=s[e]}else{k(o,e,s[e])}})}}return n});return o.mutate(l).then(function(e){var t=e.failures,r=e.results,n=e.numFailures,i=e.lastResult;for(var a=0;a<d.length;++a){var s=r?r[a]:d[a];var o=u[a];if(s==null){o.onerror&&o.onerror(t[a])}else{o.onsuccess&&o.onsuccess(l.type==="put"&&f[a]?l.values[a]:s)}}return{failures:t,results:r,numFailures:n,lastResult:i}}).catch(function(t){u.forEach(function(e){return e.onerror&&e.onerror(t)});return Promise.reject(t)})})}function n(e){return s(e.trans,e.range,1e4)}function s(r,n,i){return o.query({trans:r,values:false,query:{index:g,range:n},limit:i}).then(function(e){var t=e.result;return a({type:"delete",keys:t,trans:r}).then(function(e){if(e.numFailures>0)return Promise.reject(e.failures[0]);if(t.length<i){return{failures:[],numFailures:0,lastResult:undefined}}else{return s(r,v(v({},n),{lower:t[t.length-1],lowerOpen:true}),i)}})})}}});return e}})}};var bn=function(){function s(e,t){var a=this;this._middlewares={};this.verno=0;var r=s.dependencies;this._options=t=v({addons:s.addons,autoOpen:true,indexedDB:r.indexedDB,IDBKeyRange:r.IDBKeyRange},t);this._deps={indexedDB:t.indexedDB,IDBKeyRange:t.IDBKeyRange};var n=t.addons;this._dbSchema={};this._versions=[];this._storeNames=[];this._allTables={};this.idbdb=null;var i={dbOpenError:null,isBeingOpened:false,onReadyBeingFired:null,openComplete:false,dbReadyResolve:le,dbReadyPromise:null,cancelOpen:le,openCanceller:null,autoSchema:true};i.dbReadyPromise=new Ke(function(e){i.dbReadyResolve=e});i.openCanceller=new Ke(function(e,t){i.cancelOpen=t});this._state=i;this.name=e;this.on=$t(this,"populate","blocked","versionchange",{ready:[ye,le]});this.on.ready.subscribe=g(this.on.ready.subscribe,function(i){return function(r,n){s.vip(function(){var e=a._state;if(e.openComplete){if(!e.dbOpenError)Ke.resolve().then(r);if(n)i(r)}else if(e.onReadyBeingFired){e.onReadyBeingFired.push(r);if(n)i(r)}else{i(r);var t=a;if(!n)i(function e(){t.on.ready.unsubscribe(r);t.on.ready.unsubscribe(e)})}})}});this.Collection=sr(this);this.Table=Xt(this);this.Transaction=Rr(this);this.Version=tn(this);this.WhereClause=yr(this);this.on("versionchange",function(e){if(e.newVersion>0)console.warn("Another connection wants to upgrade database '"+a.name+"'. Closing db now to resume the upgrade.");else console.warn("Another connection wants to delete database '"+a.name+"'. Closing db now to resume the delete request.");a.close()});this.on("blocked",function(e){if(!e.newVersion||e.newVersion<e.oldVersion)console.warn("Dexie.delete('"+a.name+"') was blocked");else console.warn("Upgrade '"+a.name+"' blocked by other connection holding version "+e.oldVersion/10)});this._maxKey=mr(t.IDBKeyRange);this._createTransaction=function(e,t,r,n){return new a.Transaction(e,t,r,n)};this._fireOnBlocked=function(t){a.on("blocked").fire(t);Dt.filter(function(e){return e.name===a.name&&e!==a&&!e._state.vcFired}).map(function(e){return e.on("versionchange").fire(t)})};this.use(hn);this.use(pn);n.forEach(function(e){return e(a)})}s.prototype.version=function(t){if(isNaN(t)||t<.1)throw new se.Type("Given version is not a positive number");t=Math.round(t*10)/10;if(this.idbdb||this._state.isBeingOpened)throw new se.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,t);var e=this._versions;var r=e.filter(function(e){return e._cfg.version===t})[0];if(r)return r;r=new this.Version(t);e.push(r);e.sort(qr);r.stores({});this._state.autoSchema=false;return r};s.prototype._whenReady=function(e){var r=this;return this._state.openComplete||We.letThrough?e():new Ke(function(e,t){if(!r._state.isBeingOpened){if(!r._options.autoOpen){t(new se.DatabaseClosed);return}r.open().catch(le)}r._state.dbReadyPromise.then(e,t)}).then(e)};s.prototype.use=function(e){var t=e.stack,r=e.create,n=e.level,i=e.name;if(i)this.unuse({stack:t,name:i});var a=this._middlewares[t]||(this._middlewares[t]=[]);a.push({stack:t,create:r,level:n==null?10:n,name:i});a.sort(function(e,t){return e.level-t.level});return this};s.prototype.unuse=function(e){var t=e.stack,r=e.name,n=e.create;if(t&&this._middlewares[t]){this._middlewares[t]=this._middlewares[t].filter(function(e){return n?e.create!==n:r?e.name!==r:false})}return this};s.prototype.open=function(){return on(this)};s.prototype.close=function(){var e=Dt.indexOf(this),r=this._state;if(e>=0)Dt.splice(e,1);if(this.idbdb){try{this.idbdb.close()}catch(e){}this.idbdb=null}this._options.autoOpen=false;r.dbOpenError=new se.DatabaseClosed;if(r.isBeingOpened)r.cancelOpen(r.dbOpenError);r.dbReadyPromise=new Ke(function(e){r.dbReadyResolve=e});r.openCanceller=new Ke(function(e,t){r.cancelOpen=t})};s.prototype.delete=function(){var n=this;var i=arguments.length>0;var a=this._state;return new Ke(function(t,r){var e=function(){n.close();var e=n._deps.indexedDB.deleteDatabase(n.name);e.onsuccess=ft(function(){rn.remove(n.name);t()});e.onerror=wr(r);e.onblocked=n._fireOnBlocked};if(i)throw new se.InvalidArgument("Arguments not allowed in db.delete()");if(a.isBeingOpened){a.dbReadyPromise.then(e)}else{e()}})};s.prototype.backendDB=function(){return this.idbdb};s.prototype.isOpen=function(){return this.idbdb!==null};s.prototype.hasBeenClosed=function(){var e=this._state.dbOpenError;return e&&e.name==="DatabaseClosed"};s.prototype.hasFailed=function(){return this._state.dbOpenError!==null};s.prototype.dynamicallyOpened=function(){return this._state.autoSchema};Object.defineProperty(s.prototype,"tables",{get:function(){var t=this;return m(this._allTables).map(function(e){return t._allTables[e]})},enumerable:true,configurable:true});s.prototype.transaction=function(){var e=un.apply(this,arguments);return this._transaction.apply(this,e)};s.prototype._transaction=function(e,t,r){var n=this;var i=We.trans;if(!i||i.db!==this||e.indexOf("!")!==-1)i=null;var a=e.indexOf("?")!==-1;e=e.replace("!","").replace("?","");var s,o;try{o=t.map(function(e){var t=e instanceof n.Table?e.name:e;if(typeof t!=="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return t});if(e=="r"||e===Ht)s=Ht;else if(e=="rw"||e==Ft)s=Ft;else throw new se.InvalidArgument("Invalid transaction mode: "+e);if(i){if(i.mode===Ht&&s===Ft){if(a){i=null}else throw new se.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY")}if(i){o.forEach(function(e){if(i&&i.storeNames.indexOf(e)===-1){if(a){i=null}else throw new se.SubTransaction("Table "+e+" not included in parent transaction.")}})}if(a&&i&&!i.active){i=null}}}catch(r){return i?i._promise(null,function(e,t){t(r)}):Ot(r)}var f=ln.bind(null,this,s,o,i,r);return i?i._promise(s,f,"lock"):We.trans?Et(We.transless,function(){return n._whenReady(f)}):this._whenReady(f)};s.prototype.table=function(e){if(!y(this._allTables,e)){throw new se.InvalidTable("Table "+e+" does not exist")}return this._allTables[e]};return s}();var gn=bn;a(gn,v(v({},ue),{delete:function(e){var t=new gn(e);return t.delete()},exists:function(e){return new gn(e,{addons:[]}).open().then(function(e){e.close();return true}).catch("NoSuchDatabaseError",function(){return false})},getDatabaseNames:function(e){return rn?rn.getDatabaseNames().then(e):Ke.resolve([])},defineClass:function(){function e(e){f(this,e)}return e},ignoreTransaction:function(e){return We.trans?Et(We.transless,e):e()},vip:sn,async:function(t){return function(){try{var e=fn(t.apply(this,arguments));if(!e||typeof e.then!=="function")return Ke.resolve(e);return e}catch(e){return Ot(e)}}},spawn:function(e,t,r){try{var n=fn(e.apply(r,t||[]));if(!n||typeof n.then!=="function")return Ke.resolve(n);return n}catch(e){return Ot(e)}},currentTransaction:{get:function(){return We.trans||null}},waitFor:function(e,t){var r=Ke.resolve(typeof e==="function"?gn.ignoreTransaction(e):e).timeout(t||6e4);return We.trans?We.trans.waitFor(r):r},Promise:Ke,debug:{get:function(){return K},set:function(e){V(e,e==="dexie"?function(){return true}:Wt)}},derive:u,extend:f,props:a,override:g,Events:$t,getByKeyPath:R,setByKeyPath:k,delByKeyPath:T,shallowClone:M,deepClone:C,getObjectDiff:U,asap:w,minKey:jt,addons:[],connections:Dt,errnames:ie,dependencies:function(){try{return{indexedDB:h.indexedDB||h.mozIndexedDB||h.webkitIndexedDB||h.msIndexedDB,IDBKeyRange:h.IDBKeyRange||h.webkitIDBKeyRange}}catch(e){return{indexedDB:null,IDBKeyRange:null}}}(),semVer:At,version:At.split(".").map(function(e){return parseInt(e)}).reduce(function(e,t,r){return e+t/Math.pow(10,r*2)}),default:gn,Dexie:gn}));gn.maxKey=mr(gn.dependencies.IDBKeyRange);an(bn.dependencies.indexedDB);Ke.rejectionMapper=fe;V(K,Wt);t["a"]=bn},function(t,e,i){(function(n){/*! cache-chunk-store. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */
const r=i(510);class e{constructor(e,t){this.store=e;this.chunkLength=e.chunkLength;if(!this.store||!this.store.get||!this.store.put){throw new Error("First argument must be abstract-chunk-store compliant")}this.cache=new r(t)}put(e,t,r){if(!this.cache)return o(r,new Error("CacheStore closed"));this.cache.remove(e);this.store.put(e,t,r)}get(r,n,i){if(typeof n==="function")return this.get(r,null,n);if(!this.cache)return o(i,new Error("CacheStore closed"));const a=n&&n.offset||0;const s=n&&n.length&&a+n.length;const e=this.cache.get(r);if(e)return o(i,null,n?e.slice(a,s):e);this.store.get(r,(e,t)=>{if(e)return i(e);if(this.cache!=null)this.cache.set(r,t);i(null,n?t.slice(a,s):t)})}close(e){if(!this.cache)return o(e,new Error("CacheStore closed"));this.cache=null;this.store.close(e)}destroy(e){if(!this.cache)return o(e,new Error("CacheStore closed"));this.cache=null;this.store.destroy(e)}}function o(e,t,r){n.nextTick(()=>{if(e)e(t,r)})}t.exports=e}).call(this,i(74))},function(e,t,r){var n=r(159);var i=r(158);e.exports=a;function a(e){if(!(this instanceof a))return new a(e);if(typeof e==="number")e={max:e};if(!e)e={};n.EventEmitter.call(this);this.cache={};this.head=this.tail=null;this.length=0;this.max=e.max||1e3;this.maxAge=e.maxAge||0}i(a,n.EventEmitter);Object.defineProperty(a.prototype,"keys",{get:function(){return Object.keys(this.cache)}});a.prototype.clear=function(){this.cache={};this.head=this.tail=null;this.length=0};a.prototype.remove=function(e){if(typeof e!=="string")e=""+e;if(!this.cache.hasOwnProperty(e))return;var t=this.cache[e];delete this.cache[e];this._unlink(e,t.prev,t.next);return t.value};a.prototype._unlink=function(e,t,r){this.length--;if(this.length===0){this.head=this.tail=null}else{if(this.head===e){this.head=t;this.cache[this.head].next=null}else if(this.tail===e){this.tail=r;this.cache[this.tail].prev=null}else{this.cache[t].next=r;this.cache[r].prev=t}}};a.prototype.peek=function(e){if(!this.cache.hasOwnProperty(e))return;var t=this.cache[e];if(!this._checkAge(e,t))return;return t.value};a.prototype.set=function(e,t){if(typeof e!=="string")e=""+e;var r;if(this.cache.hasOwnProperty(e)){r=this.cache[e];r.value=t;if(this.maxAge)r.modified=Date.now();if(e===this.head)return t;this._unlink(e,r.prev,r.next)}else{r={value:t,modified:0,next:null,prev:null};if(this.maxAge)r.modified=Date.now();this.cache[e]=r;if(this.length===this.max)this.evict()}this.length++;r.next=null;r.prev=this.head;if(this.head)this.cache[this.head].next=e;this.head=e;if(!this.tail)this.tail=e;return t};a.prototype._checkAge=function(e,t){if(this.maxAge&&Date.now()-t.modified>this.maxAge){this.remove(e);this.emit("evict",{key:e,value:t.value});return false}return true};a.prototype.get=function(e){if(typeof e!=="string")e=""+e;if(!this.cache.hasOwnProperty(e))return;var t=this.cache[e];if(!this._checkAge(e,t))return;if(this.head!==e){if(e===this.tail){this.tail=t.next;this.cache[this.tail].prev=null}else{this.cache[t.prev].next=t.next}this.cache[t.next].prev=t.prev;this.cache[this.head].next=e;t.prev=this.head;t.next=null;this.head=e}return t.value};a.prototype.evict=function(){if(!this.tail)return;var e=this.tail;var t=this.remove(this.tail);this.emit("evict",{key:e,value:t})}}])]);