(window["matrixElement_jsonp"]=window["matrixElement_jsonp"]||[]).push([[5],{"5a03":function(t,e,a){var n=a("5d63");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[t.i,n,""]]),n.locals&&(t.exports=n.locals);var i=a("35d6").default;t.exports.__inject__=function(t){i("3ff031b8",n,t)}},"5d63":function(t,e,a){var n=a("24fb");e=n(!1),e.push([t.i,".inSettings[data-v-07eaa062]{margin:30px auto;display:block}.chatIconWrapper[data-v-07eaa062]{width:120px;margin:0 auto}.linkPlace[data-v-07eaa062]{margin-top:30px;padding:.5em 0;cursor:pointer;border-top:1px solid #e4e4e4}.linkPlace span[data-v-07eaa062]{font-size:1em;display:block;text-align:left;max-width:400px;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.linkPlace .shareLink[data-v-07eaa062]:hover{color:#00a4ff}.chatSettingAbout[data-v-07eaa062]{padding:.5em 1em}.chatSettingAbout .chatNameEdit[data-v-07eaa062]{margin-top:20px}.chatSettingAbout .chatNameEdit input[data-v-07eaa062]{padding:.5em 0;display:block;width:100%}.chatSettingAbout .chatNameEdit input[data-v-07eaa062],.chatSettingAbout .chatNameEdit input[data-v-07eaa062]:focus{border-bottom:1px solid #e4e4e4!important;border-top:1px solid #e4e4e4!important}.chatSettingAbout .chatDescription textarea[data-v-07eaa062]{font-size:.9em;display:block;width:100%;resize:none;padding:.5em 0}",""]),t.exports=e},9394:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return t.chat?a("div",[a("topheader",{staticClass:"topheader"}),a("maincontent",{scopedSlots:t._u([{key:"content",fn:function(){return[a("settings",{attrs:{chat:t.chat}})]},proxy:!0}],null,!1,32150248)})],1):t._e()},i=[],o=(a("ac1f"),a("5319"),function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"chatTopheader"}},[a("topheader",{scopedSlots:t._u([{key:"left",fn:function(){return[a("backButton",{attrs:{action:"back"}})]},proxy:!0},{key:"info",fn:function(){return[a("span",[t._v("Settings")])]},proxy:!0},{key:"right",fn:function(){},proxy:!0}])})],1)}),c=[],r={methods:{}},s=r,u=a("2877"),p=Object(u["a"])(s,o,c,!1,null,null,null,!0),d=p.exports,l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{class:{minimized:t.minimized},attrs:{id:"chatSettings"}},[a("div",{staticClass:"chatSettingAbout"},[a("div",{class:{chatIconWrapper:"chatIconWrapper",noSwipe:!0}},[a("chatIcon",{attrs:{slidesPerView:4,chat:t.chat,m_chat:t.m_chat,hideunseen:!0}})],1),a("div",{staticClass:"chatNameEdit"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.m_chat.name,expression:"m_chat.name"}],attrs:{type:"text",placeholder:"Name"},domProps:{value:t.m_chat.name},on:{input:function(e){e.target.composing||t.$set(t.m_chat,"name",e.target.value)}}})]),t.topic?a("div",{staticClass:"chatDescription"},[a("textarea",{directives:[{name:"model",rawName:"v-model",value:t.topicTxt,expression:"topicTxt"}],attrs:{type:"text",placeholder:"Description",maxlength:"74"},domProps:{value:t.topicTxt},on:{input:function(e){e.target.composing||(t.topicTxt=e.target.value)}}})]):t._e(),a("button",{staticClass:"button small rounded inSettings",on:{click:function(e){return t.saveEdited()}}},[t._v(" "+t._s(t.$t("button.save"))+" ")])])])},h=[],m=(a("99af"),a("b0c0"),a("4de4"),a("2f62")),f=a("3094"),v={data:function(){return{pubChat:Object,topicTxt:"",topic:!1}},props:{chat:Object,saveClicked:!1},components:{chatIcon:f["a"]},computed:Object(m["c"])({pocketnet:function(t){return t.pocketnet},minimized:function(t){return t.minimized},active:function(t){return t.active},auth:function(t){return t.auth},m_chat:function(){return this.core.mtrx.client.getRoom(this.chat.roomId)},shareRoomLink:function(){return"https://".concat(this.core.domain,"/publicPreview/welcome?connect=").concat(this.chat.roomId.replace("!","%"))}}),mounted:function(){this.getPublicRoom(),"public"===this.m_chat.getJoinRule()&&(this.topic=!0)},methods:{saveEdited:function(){this.core.mtrx.client.setRoomName(this.m_chat.roomId,"@"+this.m_chat.name.replace(/[@]*/g,"")),this.core.mtrx.client.setRoomTopic(this.chat.roomId,this.topicTxt.replace(/ /g,"_")).then((function(t){}))},getPublicRoom:function(){var t=this;this.core.mtrx.client.publicRooms().then((function(e){t.pubChat=e.chunk.filter((function(e){return e.room_id===t.chat.roomId}))[0],t.topicTxt=t.pubChat["topic"].replace(/_/g," ")}))}}},x=v;function _(t){var e=a("f5f7");e.__inject__&&e.__inject__(t)}var g=Object(u["a"])(x,l,h,!1,_,"07eaa062",null,!0),b=g.exports,k={name:"chatSettings",data:function(){return{}},components:{topheader:d,settings:b},computed:{chat:function(){return this.$store.state.chatsMap[this.$route.query.id.replace("%","!")]}},methods:{}},w=k,y=Object(u["a"])(w,n,i,!1,null,null,null,!0);e["default"]=y.exports},f5f7:function(t,e,a){"use strict";a.r(e);var n=a("5a03");for(var i in n)["default"].indexOf(i)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(i)}}]);
//# sourceMappingURL=matrix-element.5.min.js.map