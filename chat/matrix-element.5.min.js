(window["matrixElement_jsonp"]=window["matrixElement_jsonp"]||[]).push([[5],{"0679":function(e,t,i){"use strict";i.r(t);var n=i("d65c");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o)},"093c":function(e,t,i){"use strict";i.r(t);var n=i("a35d");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o)},"0d1f":function(e,t,i){"use strict";i.r(t);var n=i("904e");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o)},"125c":function(e,t,i){"use strict";i.r(t);var n=i("392b");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o)},"1a5f":function(e,t,i){"use strict";i.r(t);var n=i("ee85");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o)},"1c83":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,".new[data-v-397257d7]{color:#06823a}",""]),e.exports=t},"2d26":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,"#matrix-root[theme=classic] .removeRoom i[data-v-e906d70e]{color:#fff}#matrix-root[theme=classic] .previewWrapper[data-v-e906d70e]:last-child{border-bottom:0}#matrix-root[theme=classic] .swipeout-action>div.action-panel-right>div[data-v-e906d70e]{background-color:#1e90ff;color:#fff}#matrix-root[theme=classic] .swipeout-action>div.action-panel-right>div[data-v-e906d70e]:hover{background-color:#0583ff}#matrix-root[theme=classic] .swipeout-action.action-panel-left[data-v-e906d70e]{background-color:#9932cc;background-color:#1e90ff;color:#fff}#matrix-root[theme=classic] .swipeout-action.action-panel-left[data-v-e906d70e]:hover{background-color:#8a2db8;background-color:#0583ff}#matrix-root[theme=classic] .swipeout-list-item[data-v-e906d70e]:last-of-type{border-bottom:none}#matrix-root[theme=classic] .card[data-v-e906d70e]{border-radius:3px}",""]),e.exports=t},"2dfb":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,"#matrix-root[theme=black] .minimized .previewWrapper[data-v-fe15a354]{transition:.3s}#matrix-root[theme=black] .emptyEvent span[data-v-fe15a354]{color:#068222}#matrix-root[theme=black] .eventsLine[data-v-fe15a354] span{color:#92979d}",""]),e.exports=t},"36cd":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,".toggleChatGroup[data-v-09cad1a7]{list-style:none;padding:0;margin:0;display:flex;justify-content:flex-start;align-items:center}.toggleChatGroup li[data-v-09cad1a7]{margin-right:10px;padding:10px 0}",""]),e.exports=t},"392b":function(e,t,i){var n=i("2dfb");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("35d6").default;e.exports.__inject__=function(e){o("7bb1ea7c",n,e)}},"404b":function(e,t,i){"use strict";i.r(t);var n=i("7c31");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o)},"460c":function(e,t,i){"use strict";i.r(t);var n=i("94cf");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o)},"533b":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,"#matrix-root[theme=white] .removeRoom i[data-v-e906d70e]{color:#fff}#matrix-root[theme=white] .previewWrapper[data-v-e906d70e]:last-child{border-bottom:0}#matrix-root[theme=white] .swipeout-action>div.action-panel-right>div[data-v-e906d70e]{background-color:#1e90ff;color:#fff}#matrix-root[theme=white] .swipeout-action>div.action-panel-right>div[data-v-e906d70e]:hover{background-color:#0583ff}#matrix-root[theme=white] .swipeout-action.action-panel-left[data-v-e906d70e]{background-color:#9932cc;background-color:#1e90ff;color:#fff}#matrix-root[theme=white] .swipeout-action.action-panel-left[data-v-e906d70e]:hover{background-color:#8a2db8;background-color:#0583ff}#matrix-root[theme=white] .swipeout-list-item[data-v-e906d70e]:last-of-type{border-bottom:none}#matrix-root[theme=white] .card[data-v-e906d70e]{border-radius:3px}",""]),e.exports=t},5742:function(e,t,i){var n=i("ae0a");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("35d6").default;e.exports.__inject__=function(e){o("38104bb9",n,e)}},"58bc":function(e,t,i){"use strict";i.r(t);var n=i("f16e");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o)},"5b7e":function(e,t,i){var n=i("d856");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("35d6").default;e.exports.__inject__=function(e){o("02cde435",n,e)}},"5c6ca":function(e,t,i){"use strict";i.r(t);var n=i("6193");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o)},6193:function(e,t,i){var n=i("95ea");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("35d6").default;e.exports.__inject__=function(e){o("54371428",n,e)}},6420:function(e,t,i){var n=i("bf71");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("35d6").default;e.exports.__inject__=function(e){o("479628df",n,e)}},"6edf":function(e,t,i){"use strict";i.r(t);var n=i("6420");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o)},"77cf":function(e,t,i){"use strict";i.r(t);var n=i("7ec6");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o)},"7b54":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,"",""]),e.exports=t},"7bd9":function(e,t,i){"use strict";i.r(t);var n=i("5b7e");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o)},"7c31":function(e,t,i){var n=i("533b");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("35d6").default;e.exports.__inject__=function(e){o("4d8bc430",n,e)}},"7ec6":function(e,t,i){var n=i("b499");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("35d6").default;e.exports.__inject__=function(e){o("d9a8ed6e",n,e)}},"7efc":function(e,t,i){var n=i("36cd");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("35d6").default;e.exports.__inject__=function(e){o("f2e94848",n,e)}},"84af":function(e,t,i){var n=i("9fbe");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("35d6").default;e.exports.__inject__=function(e){o("15323371",n,e)}},"8dc0":function(e,t,i){"use strict";i.r(t);var n=i("7efc");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o)},"904e":function(e,t,i){var n=i("beef");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("35d6").default;e.exports.__inject__=function(e){o("42d1c34e",n,e)}},"94cf":function(e,t,i){var n=i("2d26");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("35d6").default;e.exports.__inject__=function(e){o("35d5ef12",n,e)}},"95ea":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,".minimized .previewWrapper[data-v-fe15a354]{padding:0;padding-bottom:.5em;transition:.3s;-webkit-transition:all .2s}.minimized.active .previewWrapper[data-v-fe15a354]{padding:.5em}.minimized.active .dummyline[data-v-fe15a354]{height:44px;opacity:.3}.minimized.active .dummyicon[data-v-fe15a354]{width:44px;height:44px;opacity:.3}.previewWrapper[data-v-fe15a354]{cursor:pointer;display:flex;align-items:flex-start;padding:.5em}.previewWrapper .dummyline[data-v-fe15a354]{margin-top:.25em;height:22px;border-radius:5px;transition:.3s}.previewWrapper .dummyicon[data-v-fe15a354]{width:22px;height:22px;border-radius:50%;margin:0 auto;transition:.3s}.previewWrapper .iconWrapper[data-v-fe15a354]{width:44px;display:flex;align-items:center;margin-top:5px}.previewWrapper .infoWrapper[data-v-fe15a354]{padding-left:.5em;flex-grow:1;overflow:hidden}.emptyEvent span[data-v-fe15a354]{color:#06823a;font-size:.8em}.eventsLine[data-v-fe15a354] span{color:#606369;font-size:.9em;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.summaryLine[data-v-fe15a354]{display:flex}.summaryLine .time[data-v-fe15a354]{text-align:right;padding-top:.25em;white-space:nowrap;text-overflow:ellipsis;padding-right:.5em}.summaryLine .time[data-v-fe15a354] span{font-size:.8em;display:block}.summaryLine .caption[data-v-fe15a354]{padding-top:.25em;flex-grow:1}.summaryLine .caption[data-v-fe15a354] span{font-size:.9em;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-weight:700;display:inline-block;max-width:150px}",""]),e.exports=t},"9a41":function(e,t,i){"use strict";i.r(t);var n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"page chats"},[i("topheader",{staticClass:"topheader"}),i("maincontent",{scopedSlots:e._u([{key:"content",fn:function(){return[i("list")]},proxy:!0}])})],1)},o=[],a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"chats-list",class:{bin:e.pocketnet,bout:!e.pocketnet,minimized:e.minimized,fix:e.pocketnet,active:e.active,empty:e.empty}},[!0===e.chatsready&&0!=this.prechats.length||0!==this.chats.length?i("transition",{attrs:{name:"fade"}},[i("swipe-list",{ref:"list",staticClass:"card",attrs:{disabled:!e.enabled||e.minimized&&!e.active,items:e.chats,"item-key":"id",revealed:e.revealed,"item-disabled":function(e){var t=e.disabled;return t}},on:{"update:revealed":function(t){e.revealed=t},closed:function(t){return e.setLastEvent("closed",t)},leftRevealed:function(t){return e.setLastEvent("leftRevealed",t)},rightRevealed:function(t){return e.setLastEvent("rightRevealed",t)}},scopedSlots:e._u([{key:"default",fn:function(t){var n=t.item;t.index,t.revealLeft,t.revealRight,t.close,t.revealed,t.disabled;return[i("div",{ref:"content",staticClass:"card-content",on:{click:function(t){return e.itemClick(n)}}},[i("router-link",{attrs:{to:"chat?id="+n.roomId}},[i("preview",{attrs:{chat:n}})],1)],1)]}},{key:"left",fn:function(e){e.item;var t=e.close;e.index;return[i("div",{staticClass:"swipeout-action red",attrs:{title:"remove"},on:{click:t}}),i("div",{staticClass:"swipeout-action purple",on:{click:t}})]}},{key:"right",fn:function(t){var n=t.item,o=t.close;return[i("div",{staticClass:"swipeout-action blue",on:{click:o}},[i("button",{staticClass:"removeRoom",on:{click:function(t){return e.removeRoom(n.roomId)}}},[i("i",{staticClass:"fa fa-trash"})])])]}},{key:"empty",fn:function(){return[i("div",[e._v(" list is empty ( filtered or just empty ) ")])]},proxy:!0}])})],1):i("div",{staticClass:"listChatLoading"},[i("dummypreviews")],1),e.chatsready&&0==this.prechats.length?i("div",{staticClass:"startnewchat"},[e._m(0),i("contact",{attrs:{contact:e.activeuser}}),i("div",{staticClass:"buttonWrapper"},[i("router-link",{attrs:{to:"contacts?startnew=true"}},[i("button",{staticClass:"button small bright rounded"},[e._v("Start a new chat")])])],1)],1):e._e()],1)},s=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"captionWrapper"},[i("span",[e._v("Welcome to Pocketnet chat")])])}],r=i("5530"),c=(i("4de4"),i("2f62")),d=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"dummypreviews"}},e._l(e.a,(function(e){return i("preview",{key:e.id,attrs:{dummy:!0}})})),1)},l=[],u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"chatsPreview",class:{minimized:e.minimized,active:e.active}},[i("div",{staticClass:"work"},[i("div",{staticClass:"previewWrapper"},[i("div",{staticClass:"iconWrapper"},[e.dummy?i("div",{staticClass:"dummyicon loadinggradient"}):i("chatIcon",{attrs:{chat:e.m_chat}})],1),i("div",{staticClass:"infoWrapper"},[e.dummy?e._e():i("div",{staticClass:"summaryLine"},[i("div",{staticClass:"caption"},[i("chatName",{attrs:{preview:!0,chat:e.m_chat}})],1),i("div",{staticClass:"time"},[i("chatTime",{attrs:{chat:e.m_chat}})],1)]),e.dummy?i("div",{staticClass:"eventsLine"},[i("div",{staticClass:"dummyline loadinggradient"})]):i("div",{staticClass:"eventsLine"},[e.event?i("event",{attrs:{event:e.event,chat:e.m_chat,preview:!0}}):i("div",{staticClass:"emptyEvent"},[i("span",[e._v("Chat created")])])],1)])])])])},f=[],v=i("aa20"),h=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"chatTime"},[e.time?i("date",{attrs:{date:e.time}}):i("span",{staticClass:"new"},[e._v("New")])],1)},p=[],m={name:"chatTime",props:{chat:Object},computed:{time:function(){var e,t=(null===(e=this.chat)||void 0===e?void 0:e.getLastActiveTimestamp())||-1;return t<0?null:t}}},_=m,b=i("2877");function w(e){var t=i("0679");t.__inject__&&t.__inject__(e)}var g=Object(b["a"])(_,h,p,!1,w,"397257d7",null,!0),x=g.exports,y=i("3094"),k=i("6167"),L={name:"chatsPreview",props:{chat:Object,dummy:Boolean},components:{chatName:v["a"],chatTime:x,chatIcon:y["a"],event:k["a"]},data:function(){return{loading:!1}},computed:Object(c["c"])(Object(r["a"])({auth:function(e){return e.auth},m_chat:function(){if(this.chat.roomId){var e=this.core.mtrx.client.getRoom(this.chat.roomId);return e||{}}},event:function(){if(this.chat.roomId){var e=(this.m_chat||{}).timeline||[];if(console.log("events[events.length - 1]",e[e.length-1]),e.length)return e[e.length-1]}}},Object(c["c"])(["minimized","active"]))),methods:{}},j=L;function C(e){var t=i("5c6ca");t.__inject__&&t.__inject__(e);var n=i("77cf");n.__inject__&&n.__inject__(e);var o=i("125c");o.__inject__&&o.__inject__(e);var a=i("7bd9");a.__inject__&&a.__inject__(e)}var R=Object(b["a"])(j,u,f,!1,C,"fe15a354",null,!0),$=R.exports,E={name:"dummypreviews",props:{data:Object},components:{preview:$},computed:Object(c["c"])({auth:function(e){return e.auth},a:function(){return[1,2,3,4,5,6]}}),methods:{}},O=E;function z(e){}var W=Object(b["a"])(O,d,l,!1,z,"1f2333a4",null,!0),A=W.exports,S=i("d3ff");const M={};function T(e){return 0===e.button}function P(e){return e.touches&&e.touches[0]?e=e.touches[0]:e.changedTouches&&e.changedTouches[0]&&(e=e.changedTouches[0]),{top:e.clientY,left:e.clientX}}Object.defineProperty(M,"passive",{configurable:!0,get(){let e;try{const t=Object.defineProperty({},"passive",{get(){e={passive:!0}}});window.addEventListener("qtest",null,t),window.removeEventListener("qtest",null,t)}catch(t){}return M.passive=e,e},set(e){Object.defineProperty(this,"passive",{value:e})}});function F(e,t,i){const{target:n}=t;i.touchTargetObserver=new MutationObserver(()=>{!1===e.contains(n)&&i.end(t)}),i.touchTargetObserver.observe(e,{childList:!0,subtree:!0})}function q(e){void 0!==e.touchTargetObserver&&(e.touchTargetObserver.disconnect(),e.touchTargetObserver=void 0)}function D(e){const t=!0!==e.horizontal&&!0!==e.vertical,i={all:!0===t||!0===e.horizontal&&!0===e.vertical};return!0!==e.horizontal&&!0!==t||(i.horizontal=!0),!0!==e.vertical&&!0!==t||(i.vertical=!0),i}function I(e,t,i){const n=P(e);let o;const a=n.left-t.event.x,s=n.top-t.event.y,r=Math.abs(a),c=Math.abs(s);return o=t.direction.horizontal&&!t.direction.vertical?a<0?"left":"right":!t.direction.horizontal&&t.direction.vertical?s<0?"up":"down":r>=c?a<0?"left":"right":s<0?"up":"down",{evt:e,position:n,direction:o,isFirst:t.event.isFirst,isFinal:!0===i,isMouse:t.event.mouse,duration:(new Date).getTime()-t.event.time,distance:{x:r,y:c},offset:{x:a,y:s},delta:{x:n.left-t.event.lastX,y:n.top-t.event.lastY}}}function K(e,t){return!(!e.direction.horizontal||!e.direction.vertical)||(e.direction.horizontal&&!e.direction.vertical?Math.abs(t.delta.x)>0:!e.direction.horizontal&&e.direction.vertical?Math.abs(t.delta.y)>0:void 0)}var B={name:"touch-pan",bind(e,t){const i=!0===t.modifiers.mouse,n=!0!==t.modifiers.mouseMightPrevent&&!0!==t.modifiers.mousePrevent,o=void 0===M.passive||{passive:n,capture:!0},a=!0!==t.modifiers.mightPrevent&&!0!==t.modifiers.prevent,s=a?M.passive:null;function r(e,n){i&&n?(t.modifiers.mouseStop&&e.stopPropagation(),t.modifiers.mousePrevent&&e.preventDefault()):(t.modifiers.stop&&e.stopPropagation(),t.modifiers.prevent&&e.preventDefault())}const c={handler:t.value,direction:D(t.modifiers),mouseStart(e){T(e)&&(document.addEventListener("mousemove",c.move,o),document.addEventListener("mouseup",c.mouseEnd,o),c.start(e,!0))},mouseEnd(e){document.removeEventListener("mousemove",c.move,o),document.removeEventListener("mouseup",c.mouseEnd,o),c.end(e)},start(t,i){q(c),!0!==i&&F(e,t,c);const n=P(t);c.event={x:n.left,y:n.top,time:(new Date).getTime(),mouse:!0===i,detected:!1,abort:!1,isFirst:!0,isFinal:!1,lastX:n.left,lastY:n.top}},move(e){if(!c.event)return;if(!0===c.event.abort)return;if(!0===c.event.detected){r(e,c.event.mouse);const t=I(e,c,!1);return void(K(c,t)&&(c.handler(t),c.event.lastX=t.position.left,c.event.lastY=t.position.top,c.event.isFirst=!1))}const i=P(e),n=Math.abs(i.left-c.event.x),o=Math.abs(i.top-c.event.y);n!==o&&(c.event.detected=!0,!1!==c.direction.all||!1!==c.event.mouse&&!0===t.modifiers.mouseAllDir||(c.event.abort=c.direction.vertical?n>o:n<o),!0!==c.event.abort&&(document.documentElement.style.cursor="grabbing",document.body.classList.add("swipeout-no-pointer-events"),document.body.classList.add("swipeout-non-selectable")),c.move(e))},end(e){c.event&&(!0!==c.event.mouse&&q(c),document.documentElement.style.cursor="",document.body.classList.remove("swipeout-no-pointer-events"),document.body.classList.remove("swipeout-non-selectable"),!0!==c.event.abort&&!0===c.event.detected&&!0!==c.event.isFirst&&(r(e,c.event.mouse),c.handler(I(e,c,!0))))}};e.__qtouchpan&&(e.__qtouchpan_old=e.__qtouchpan),e.__qtouchpan=c,!0===i&&e.addEventListener("mousedown",c.mouseStart,o),e.addEventListener("touchstart",c.start,s),e.addEventListener("touchmove",c.move,s),e.addEventListener("touchcancel",c.end,s),e.addEventListener("touchend",c.end,s)},update(e,{oldValue:t,value:i,modifiers:n}){const o=e.__qtouchpan;t!==i&&(o.handler=i),n.horizontal===o.direction.horizontal&&n.vertical===o.direction.vertical||(o.direction=D(n))},unbind(e,t){const i=e.__qtouchpan_old||e.__qtouchpan;if(void 0!==i){q(i),document.documentElement.style.cursor="",document.body.classList.remove("swipeout-no-pointer-events"),document.body.classList.remove("swipeout-non-selectable");const n=!0===t.modifiers.mouse,o=!0!==t.modifiers.mouseMightPrevent&&!0!==t.modifiers.mousePrevent,a=void 0===M.passive||{passive:o,capture:!0},s=!0!==t.modifiers.mightPrevent&&!0!==t.modifiers.prevent,r=s?M.passive:null;!0===n&&(e.removeEventListener("mousedown",i.mouseStart,a),document.removeEventListener("mousemove",i.move,a),document.removeEventListener("mouseup",i.mouseEnd,a)),e.removeEventListener("touchstart",i.start,r),e.removeEventListener("touchmove",i.move,r),e.removeEventListener("touchcancel",i.end,r),e.removeEventListener("touchend",i.end,r),delete e[e.__qtouchpan_old?"__qtouchpan_old":"__qtouchpan"]}}};function N(e){return 0===e?"":`translate3d(${e}px, 0, 0)`}function U(e){return e?e.clientWidth:0}function X(e,t){return!e&&!t||e===t}var G={name:"SwipeOut",directives:{touchPan:B},props:{threshold:{type:Number,default:45},revealed:{type:[String,Boolean]},disabled:{type:Boolean,default:!1},passiveListeners:{type:Boolean,default:!1}},watch:{revealed(e){this.innerRevealed!==e&&this._reveal(e,!0)}},data(){return{innerRevealed:this.revealed||!1}},methods:{closeActions(){this.close()},close(){this._isActive||this._reveal(!1,!0)},revealLeft(){!this._isActive&&this.$refs.left&&this._reveal("left",!0)},revealRight(){!this._isActive&&this.$refs.right&&this._reveal("right",!0)},_distanceSwiped(){const e=this.$refs.content.getBoundingClientRect(),t=this.$el.getBoundingClientRect();return e.left-t.left-this.$el.clientLeft},_onPan(e){return this.disabled?null:e.isFirst?this._startListener(e):this._isActive?e.isFinal?this._stopListener(e):this._swipeListener(e):null},_startListener({distance:e}){this.$el.classList.add("swipeout--no-transition"),e.y<=5&&(this._leftActionsWidth=this.$refs.left?this.$refs.left.clientWidth:0,this._rightActionsWidth=this.$refs.right?this.$refs.right.clientWidth:0,this._startLeft=this._distanceSwiped(),this._isActive=!0,this.$emit("active",!0),clearTimeout(this._timer))},_swipeListener({offset:e}){const t=e.x+this._startLeft;return!this.$scopedSlots.left&&t>0||!this.$scopedSlots.right&&t<0?this._animateSlide(0):this._animateSlide(e.x+this._startLeft)},_stopListener({offset:e,distance:t}){this.$el.classList.remove("swipeout--no-transition"),this._isActive=!1,this.$emit("active",!1);const i=this._startLeft+e.x;return 0===this._startLeft&&Math.abs(i)<=this.threshold||t.x>=this.threshold&&(this._startLeft>0&&t.x<this._leftActionsWidth||this._startLeft<0&&t.x<this._rightActionsWidth)?this._reveal(!1):this._reveal(i>0?"left":"right")},_reveal(e,t){if(!this._isActive||!X(this.innerRevealed,e))return e&&!this.$refs[e]&&(e=!1),this.innerRevealed=e,this.$emit("update:revealed",e),e?"left"===e&&this.$refs.left?(this._leftActionsWidth=t?U(this.$refs.left):this._leftActionsWidth,this._animateSlide(this._leftActionsWidth),this.$emit("revealed",{side:"left",close:this.closeActions}),void this.$emit("leftRevealed",{close:this.closeActions})):void("right"===e&&this.$refs.right&&(this._rightActionsWidth=t?U(this.$refs.right):this._rightActionsWidth,this._animateSlide(-this._rightActionsWidth),this.$emit("revealed",{side:"right",close:this.closeActions}),this.$emit("rightRevealed",{close:this.closeActions}))):(this._animateSlide(0),void this.$emit("closed"))},_shiftLeftActions(e){if(!this.$scopedSlots.left)return;e<0&&(e=0);const t=this.$refs.left,i=this._leftActionsWidth,n=1-Math.min(e/i,1),o=Math.min(e,i),{children:a}=t,{length:s}=a;for(let r=0;r<s;r++){const e=a[r],t=i-e.offsetLeft-e.offsetWidth;e.style.transform=N(o+t*n),s>1&&(e.style.zIndex=""+(s-r))}},_shiftRightActions(e){if(!this.$scopedSlots.right)return;e>0&&(e=0);const t=this.$refs.right,i=this._rightActionsWidth,n=1+Math.max(e/i,-1),o=Math.max(e,-i),{children:a}=t;for(let s=0;s<a.length;s++){const e=a[s];e.style.transform=N(o-e.offsetLeft*n)}},_animateSlide(e){cancelAnimationFrame(this._frame),this._frame=requestAnimationFrame(()=>{this.$refs.content.style.transform=N(e),this._shiftLeftActions(e),this._shiftRightActions(e)})}},render(e){const t=[],{left:i,right:n,default:o}=this.$scopedSlots;return i&&t.push(e("div",{ref:"left",staticClass:"swipeout-left"},i({close:this.closeActions}))),n&&t.push(e("div",{ref:"right",staticClass:"swipeout-right"},n({close:this.closeActions}))),t.push(e("div",{ref:"content",staticClass:"swipeout-content",directives:this.disabled||!i&&!n?null:[{name:"touch-pan",value:this._onPan,modifiers:{horizontal:!0,mouse:!0,prevent:!this.passiveListeners,mousePrevent:!0}}]},o?o({revealLeft:this.revealLeft,revealRight:this.revealRight,disabled:this.disabled,close:this.closeActions,revealed:this.innerRevealed}):null)),e("div",{staticClass:"swipeout",class:{"swipeout--disabled":this.disabled}},t)},beforeDestroy(){clearTimeout(this._timer),cancelAnimationFrame(this._frame)}},Y={name:"SwipeList",props:{items:{type:Array,required:!0},itemKey:{type:String},transitionKey:{type:String},threshold:{type:Number,default:45},revealed:{type:Object},disabled:{type:Boolean,default:!1},itemDisabled:{type:Function,default:()=>!1},passiveListeners:{type:Boolean,default:!1}},data(){return{innerRevealed:this.revealed||{},rev:this.items.map(()=>null)}},watch:{revealed(e){this.innerRevealed=e},items(){this._emitRevealed({})}},methods:{revealRight(e){this.$refs.items[e]&&this.$refs.items[e].revealRight()},revealLeft(e){this.$refs.items[e]&&this.$refs.items[e].revealLeft()},close(e){if(this.$refs.items){if(void 0===e)return this.$refs.items.forEach(e=>e.close());if(this.$refs.items[e])return this.$refs.items[e].close()}},isRevealed(e){return this.innerRevealed[e]||!1},closeActions(e){this.close(e)},_onReveal(e,t,i){this.$emit("revealed",{index:t,item:e,side:i.side,close:i.close}),this._emitRevealed({...this.innerRevealed,[t]:i.side})},_onClose(e,t){this.$emit("closed",{index:t,item:e});const{[t]:i,...n}=this.innerRevealed;this._emitRevealed(n)},_getItemKey(e,t){const i=this.itemKey||this.transitionKey;return void 0!==i?e[this.itemKey||this.transitionKey]:t},_emitRevealed(e){void 0===this.revealed?this.innerRevealed=e:this.$emit("update:revealed",e)},__renderItem(e,t,i){const{left:n,right:o,default:a}=this.$scopedSlots,s={};return n&&(s.left=({close:e})=>n({item:t,close:e,index:i})),o&&(s.right=({close:e})=>o({item:t,close:e,index:i})),s.default=({close:n,disabled:o,revealLeft:s,revealRight:r,revealed:c})=>e("div",{ref:"itemsContent",on:{click:()=>this.$emit("swipeout:click",t)}},a({item:t,index:i,close:n,disabled:o,revealed:c,revealLeft:s,revealRight:r})),e(G,{key:i,ref:"items",refInFor:!0,staticClass:"swipeout-list-item",props:{disabled:this.disabled||this.itemDisabled(t),threshold:this.threshold,revealed:this.innerRevealed[i],passiveListeners:this.passiveListeners},on:{revealed:e=>this._onReveal(t,i,e),leftRevealed:e=>this.$emit("leftRevealed",{index:i,item:t,close:e.close}),rightRevealed:e=>this.$emit("rightRevealed",{index:i,item:t,close:e.close}),closed:e=>this._onClose(t,i,e),active:e=>this.$emit("active",e)},scopedSlots:s})}},render(e){return e("div",{staticClass:"swipeout-list",class:{"swipeout--disabled":this.disabled}},this.items.map((t,i)=>this.__renderItem(e,t,i)))}},V=i("9767"),H={name:"chatsList",data:function(){return{loading:!1,textValue:"",enabled:!0,page:0,revealed:{},lastEventDescription:""}},components:{preview:$,SwipeOut:G,SwipeList:Y,userspic:V["a"],dummypreviews:A,contact:S["a"]},props:{user_data:{type:String,default:function(){}}},created:function(){},watch:{},beforeRouteEnter:function(e,t,i){i()},beforeRouteUpdate:function(e,t,i){i()},beforeDestroy:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)},computed:Object(c["c"])(Object(r["a"])(Object(r["a"])({auth:function(e){return e.auth}},Object(c["c"])(["minimized","active","pocketnet","chatsready","prechats"])),{},{rooms:function(){return this.core.mtrx.client.getRooms()},empty:function(){return this.core.mtrx.ready&&0===this.chats.length},activeuser:function(){return this.core.user.userinfo},chats:function(e){return console.log("state.chats",e.chats),e.chats}})),methods:{dd:function(e){console.log(e.target)},revealFirstRight:function(){this.$refs.list.revealRight(0)},revealFirstLeft:function(){this.$refs.list.revealLeft(0)},remove:function(e){this.$set(this.mockSwipeList,this.page,this.mockSwipeList[this.page].filter((function(t){return t!==e})))},setLastEvent:function(e,t){var i=t.item,n=t.index;this.lastEventDescription={name:e,index:n,id:i.id}},itemClick:function(e){console.log(e,"item click")},fbClick:function(e){console.log(e,"First Button Click")},sbClick:function(e){console.log(e,"Second Button Click")},onKeyDown:function(e){16===e.keyCode&&(this.enabled=!1)},onKeyUp:function(e){16===e.keyCode&&(this.enabled=!0)},removeRoom:function(){this.core.mtrx.client.leave(this.chat.roomId)}},mounted:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)}},J=H;function Q(e){var t=i("0d1f");t.__inject__&&t.__inject__(e);var n=i("58bc");n.__inject__&&n.__inject__(e);var o=i("404b");o.__inject__&&o.__inject__(e);var a=i("a0d1");a.__inject__&&a.__inject__(e);var s=i("460c");s.__inject__&&s.__inject__(e)}var Z=Object(b["a"])(J,a,s,!1,Q,"e906d70e",null,!0),ee=Z.exports,te=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"chatsTopheader"}},[i("topheader",{scopedSlots:e._u([{key:"left",fn:function(){return[e.minimized&&!e.active||!e.pocketnet?e._e():i("div",{staticClass:"iconbutton",on:{click:e.minimizeall}},[i("i",{staticClass:"far fa-window-minimize"})])]},proxy:!0},{key:"info",fn:function(){return[i("span",[e._v("Chats")])]},proxy:!0},{key:"right",fn:function(){return[i("div",{staticClass:"iconbutton",on:{click:e.newchatmenu}},[i("i",{staticClass:"fas fa-pen-nib"})])]},proxy:!0}])}),e.newchatopened?i("modal",{on:{close:e.newchatmenu},scopedSlots:e._u([{key:"header",fn:function(){return[i("p",[e._v("New Chat")])]},proxy:!0},{key:"body",fn:function(){return["GroupsCreate"===e.startMode?i("contacts",{attrs:{mode:e.startMode,source:"window"}}):e._e()]},proxy:!0},{key:"footer",fn:function(){},proxy:!0}],null,!1,3622780386)}):e._e()],1)},ie=[],ne=i("71da"),oe={name:"chatsTopheader",props:{},components:{contacts:ne["a"]},data:function(){return{loading:!1,newchatopened:!1,createGroup:!1,contacts:!1,startMode:"GroupsCreate"}},created:function(){this.$store.commit("SET_CURRENT_ROOM","all")},destroyed:function(){this.$store.commit("SET_CURRENT_ROOM",!1)},watch:{},beforeRouteEnter:function(e,t,i){i()},beforeRouteUpdate:function(e,t,i){i()},computed:Object(c["c"])({auth:function(e){return e.auth},minimized:function(e){return e.minimized},pocketnet:function(e){return e.pocketnet},active:function(e){return e.active}}),methods:{newchatmenu:function(){this.newchatopened=!this.newchatopened},newchat:function(e){var t=this;this.newchatopened=!1;var i=this.core.mtrx.kit.tetatetid(e,this.core.user.userinfo);setTimeout((function(){t.$router.push("chat?id="+i+"&u="+e.id)}),400)},minimizeall:function(){this.$store.commit("minimize",!0)}}},ae=oe;function se(e){var t=i("8dc0");t.__inject__&&t.__inject__(e);var n=i("e42d");n.__inject__&&n.__inject__(e);var o=i("1a5f");o.__inject__&&o.__inject__(e);var a=i("093c");a.__inject__&&a.__inject__(e)}var re=Object(b["a"])(ae,te,ie,!1,se,"09cad1a7",null,!0),ce=re.exports,de={name:"pagechats",components:{list:ee,topheader:ce},computed:Object(c["c"])({pocketnet:function(e){return e.pocketnet},minimized:function(e){return e.minimized}}),methods:{},mounted:function(){}},le=de;function ue(e){var t=i("6edf");t.__inject__&&t.__inject__(e)}var fe=Object(b["a"])(le,n,o,!1,ue,"39701000",null,!0);t["default"]=fe.exports},"9fbe":function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,"#matrix-root[theme=black] .removeRoom i[data-v-e906d70e]{color:#fff}#matrix-root[theme=black] .previewWrapper[data-v-e906d70e]:last-child{border-bottom:0}#matrix-root[theme=black] .swipeout-action>div.action-panel-right>div[data-v-e906d70e]{background-color:#1e90ff;color:#fff}#matrix-root[theme=black] .swipeout-action>div.action-panel-right>div[data-v-e906d70e]:hover{background-color:#0583ff}#matrix-root[theme=black] .swipeout-action.action-panel-left[data-v-e906d70e]{background-color:#9932cc;background-color:#1e90ff;color:#fff}#matrix-root[theme=black] .swipeout-action.action-panel-left[data-v-e906d70e]:hover{background-color:#8a2db8;background-color:#0583ff}#matrix-root[theme=black] .swipeout-list-item[data-v-e906d70e]:last-of-type{border-bottom:none}#matrix-root[theme=black] .card[data-v-e906d70e]{border-radius:3px}",""]),e.exports=t},a0d1:function(e,t,i){"use strict";i.r(t);var n=i("84af");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o)},a35d:function(e,t,i){var n=i("7b54");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("35d6").default;e.exports.__inject__=function(e){o("2a485d36",n,e)}},ae0a:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,"",""]),e.exports=t},b499:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,"#matrix-root[theme=white] .minimized .previewWrapper[data-v-fe15a354]{transition:.3s}#matrix-root[theme=white] .emptyEvent span[data-v-fe15a354]{color:#06823a}#matrix-root[theme=white] .eventsLine[data-v-fe15a354] span{color:#606369}",""]),e.exports=t},be66:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,"",""]),e.exports=t},beef:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,".removeRoom[data-v-e906d70e]{width:50px;height:100%;background:red}.removeRoom i[data-v-e906d70e]{color:#fff}.previewWrapper[data-v-e906d70e]:last-child{border-bottom:0}.swipeout-list[data-v-e906d70e]{display:flex;flex-direction:column}.swipeout-action[data-v-e906d70e]{display:flex}.swipeout-action>div[data-v-e906d70e]{display:flex;align-items:center;padding:0 3rem;cursor:pointer}.swipeout-action>div.action-panel-right>div[data-v-e906d70e]{background-color:#1e90ff;color:#fff}.swipeout-action>div.action-panel-right>div[data-v-e906d70e]:hover{background-color:#0583ff}.swipeout-action.action-panel-left>div[data-v-e906d70e]:nth-of-type(2n){background-color:#9932cc;color:#fff}.swipeout-action.action-panel-left>div[data-v-e906d70e]:nth-of-type(2n):hover{background-color:#8a2db8}.swipeout-action.action-panel-left>div[data-v-e906d70e]:nth-of-type(odd){background-color:#1e90ff;color:#fff}.swipeout-action.action-panel-left>div[data-v-e906d70e]:nth-of-type(odd):hover{background-color:#0583ff}.swipeout-list-item[data-v-e906d70e]{flex:1}.swipeout-list-item[data-v-e906d70e]:last-of-type{border-bottom:none}.startnewchat[data-v-e906d70e]{padding:3em 0;text-align:center}.swipeout-left[data-v-e906d70e]{transform:translateX(-100%)}[data-v-e906d70e] .swipeout .swipeout-right{right:-1px}.startnewchat .buttonWrapper[data-v-e906d70e]{padding:1em}.startnewchat .captionWrapper[data-v-e906d70e]{padding:1em;text-align:center}.startnewchat .captionWrapper span[data-v-e906d70e]{font-size:2em;font-weight:100}.card[data-v-e906d70e]{width:100%;border-radius:3px}",""]),e.exports=t},bf71:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,".topheader[data-v-39701000]{top:0;z-index:999}",""]),e.exports=t},d65c:function(e,t,i){var n=i("1c83");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("35d6").default;e.exports.__inject__=function(e){o("61fc3b3a",n,e)}},d856:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,"#matrix-root[theme=classic] .minimized .previewWrapper[data-v-fe15a354]{transition:.3s}#matrix-root[theme=classic] .emptyEvent span[data-v-fe15a354]{color:#06823a}#matrix-root[theme=classic] .eventsLine[data-v-fe15a354] span{color:#606369}",""]),e.exports=t},e42d:function(e,t,i){"use strict";i.r(t);var n=i("5742");for(var o in n)["default"].indexOf(o)<0&&function(e){i.d(t,e,(function(){return n[e]}))}(o)},ee85:function(e,t,i){var n=i("be66");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("35d6").default;e.exports.__inject__=function(e){o("0107feac",n,e)}},f16e:function(e,t,i){var n=i("fb32");n.__esModule&&(n=n.default),"string"===typeof n&&(n=[[e.i,n,""]]),n.locals&&(e.exports=n.locals);var o=i("35d6").default;e.exports.__inject__=function(e){o("d2e5ebf2",n,e)}},fb32:function(e,t,i){var n=i("24fb");t=n(!1),t.push([e.i,"/*!\n * vue-swipe-actions v2.0.0-beta.20\n * (c) 2016-present eCollect\n * Released under the MIT License.\n */.swipeout{position:relative;overflow:hidden;display:flex}.swipeout .swipeout-left,.swipeout .swipeout-right{position:absolute;height:100%;display:flex;z-index:1}.swipeout .swipeout-left{left:0;transform:translateX(-100%)}.swipeout .swipeout-right{right:0;transform:translateX(100%)}.swipeout .swipeout-action,.swipeout .swipeout-content{transition:transform .2s;will-change:transform}.swipeout.swipeout--no-transition .swipeout-action,.swipeout.swipeout--no-transition .swipeout-content{transition:none!important}.swipeout .swipeout-content{width:100%}.swipeout-non-selectable{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.swipeout-no-pointer-events{pointer-events:none!important}.swipeout-list{display:flex;flex-direction:column}.swipeout-list-item{flex:1}",""]),e.exports=t}}]);
//# sourceMappingURL=matrix-element.5.min.js.map