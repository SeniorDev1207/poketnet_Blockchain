(window["matrixElement_jsonp"]=window["matrixElement_jsonp"]||[]).push([[6],{"009c":function(t,e,i){var a=i("e075");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("35d6").default;t.exports.__inject__=function(t){n("78e8a5f2",a,t)}},"0423":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,"@media screen and (max-width:640px){.mobileList[data-v-66bb494a]{display:block}.desktopList[data-v-66bb494a]{display:none}}@media screen and (min-width:640px){.mobileList[data-v-66bb494a]{display:none}.desktopList[data-v-66bb494a]{display:block}}.removeRoom[data-v-66bb494a]{width:50px;height:100%;background:red}.removeRoom i[data-v-66bb494a]{color:#fff}.previewWrapper[data-v-66bb494a]:last-child{border-bottom:0}.swipeout-list[data-v-66bb494a]{display:flex;flex-direction:column}.swipeout-action[data-v-66bb494a]{display:flex}.swipeout-action>div[data-v-66bb494a]{display:flex;align-items:center;padding:0 3rem;cursor:pointer}.swipeout-action>div.action-panel-right>div[data-v-66bb494a]{background-color:#1e90ff;color:#fff}.swipeout-action>div.action-panel-right>div[data-v-66bb494a]:hover{background-color:#0583ff}.swipeout-action.action-panel-left>div[data-v-66bb494a]:nth-of-type(2n){background-color:#9932cc;color:#fff}.swipeout-action.action-panel-left>div[data-v-66bb494a]:nth-of-type(2n):hover{background-color:#8a2db8}.swipeout-action.action-panel-left>div[data-v-66bb494a]:nth-of-type(odd){background-color:#1e90ff;color:#fff}.swipeout-action.action-panel-left>div[data-v-66bb494a]:nth-of-type(odd):hover{background-color:#0583ff}.swipeout-list-item[data-v-66bb494a]{flex:1}.swipeout-list-item[data-v-66bb494a]:last-of-type{border-bottom:none}.startnewchat[data-v-66bb494a]{padding:3em 0;text-align:center}.swipeout-left[data-v-66bb494a]{transform:translateX(-100%)}[data-v-66bb494a] .swipeout .swipeout-right{right:-1px}.startnewchat .buttonWrapper[data-v-66bb494a]{padding:1em}.startnewchat .captionWrapper[data-v-66bb494a]{padding:1em;text-align:center}.startnewchat .captionWrapper span[data-v-66bb494a]{font-size:2em;font-weight:100}.card[data-v-66bb494a]{width:100%;border-radius:3px}.chats-list.minimized:not(.active) .startnewchat[data-v-66bb494a]{display:none}",""]),t.exports=e},"0c1b":function(t,e,i){"use strict";i.r(e);var a=i("ee4e");for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n)},"123a":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,"",""]),t.exports=e},"1e78":function(t,e,i){var a=i("a2553");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("35d6").default;t.exports.__inject__=function(t){n("5f0d7606",a,t)}},"26a1":function(t,e,i){var a=i("5fac");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("35d6").default;t.exports.__inject__=function(t){n("9f86a38a",a,t)}},"3a9b":function(t,e,i){"use strict";i.r(e);var a=i("753f");for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n)},"3d97":function(t,e,i){"use strict";i.r(e);var a=i("009c");for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n)},"448a":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,"#matrix-root[theme=white] .removeRoom i[data-v-66bb494a]{color:#fff}#matrix-root[theme=white] .previewWrapper[data-v-66bb494a]:last-child{border-bottom:0}#matrix-root[theme=white] .swipeout-action>div.action-panel-right>div[data-v-66bb494a]{background-color:#1e90ff;color:#fff}#matrix-root[theme=white] .swipeout-action>div.action-panel-right>div[data-v-66bb494a]:hover{background-color:#0583ff}#matrix-root[theme=white] .swipeout-action.action-panel-left[data-v-66bb494a]{background-color:#9932cc;background-color:#1e90ff;color:#fff}#matrix-root[theme=white] .swipeout-action.action-panel-left[data-v-66bb494a]:hover{background-color:#8a2db8;background-color:#0583ff}#matrix-root[theme=white] .swipeout-list-item[data-v-66bb494a]:last-of-type{border-bottom:none}#matrix-root[theme=white] .card[data-v-66bb494a]{border-radius:3px}",""]),t.exports=e},"4fdb":function(t,e,i){"use strict";i.r(e);var a=i("7968");for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n)},5152:function(t,e,i){"use strict";i.r(e);var a=i("8117");for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n)},"58bc":function(t,e,i){"use strict";i.r(e);var a=i("f16e");for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n)},"5fac":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,"#matrix-root[theme=classic] .minimized .previewWrapper[data-v-0a11fb56]{transition:.3s}#matrix-root[theme=classic] .previewWrapper .dummyline[data-v-0a11fb56]{border-radius:5px;transition:.3s}#matrix-root[theme=classic] .previewWrapper .dummyicon[data-v-0a11fb56]{border-radius:50%;transition:.3s}#matrix-root[theme=classic] .emptyEvent span[data-v-0a11fb56]{color:#06823a}#matrix-root[theme=classic] .eventsLine .roomMuted i[data-v-0a11fb56],#matrix-root[theme=classic] .eventsLine[data-v-0a11fb56] span{color:#606369}",""]),t.exports=e},6420:function(t,e,i){var a=i("bf71");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("35d6").default;t.exports.__inject__=function(t){n("479628df",a,t)}},"686b":function(t,e,i){"use strict";i.r(e);var a=i("1e78");for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n)},"688e7":function(t,e,i){var a=i("6b42");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("35d6").default;t.exports.__inject__=function(t){n("4bb11ccf",a,t)}},"6b42":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,"#matrix-root[theme=white] .minimized .previewWrapper[data-v-0a11fb56]{transition:.3s}#matrix-root[theme=white] .previewWrapper .dummyline[data-v-0a11fb56]{border-radius:5px;transition:.3s}#matrix-root[theme=white] .previewWrapper .dummyicon[data-v-0a11fb56]{border-radius:50%;transition:.3s}#matrix-root[theme=white] .emptyEvent span[data-v-0a11fb56]{color:#06823a}#matrix-root[theme=white] .eventsLine .roomMuted i[data-v-0a11fb56],#matrix-root[theme=white] .eventsLine[data-v-0a11fb56] span{color:#606369}",""]),t.exports=e},"6cbb":function(t,e,i){var a=i("8156");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("35d6").default;t.exports.__inject__=function(t){n("7a5e69e6",a,t)}},"6ced":function(t,e,i){var a=i("a052");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("35d6").default;t.exports.__inject__=function(t){n("0c4dcfcc",a,t)}},"6edf":function(t,e,i){"use strict";i.r(e);var a=i("6420");for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n)},"6eea":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,"#matrix-root[theme=classic] .removeRoom i[data-v-66bb494a]{color:#fff}#matrix-root[theme=classic] .previewWrapper[data-v-66bb494a]:last-child{border-bottom:0}#matrix-root[theme=classic] .swipeout-action>div.action-panel-right>div[data-v-66bb494a]{background-color:#1e90ff;color:#fff}#matrix-root[theme=classic] .swipeout-action>div.action-panel-right>div[data-v-66bb494a]:hover{background-color:#0583ff}#matrix-root[theme=classic] .swipeout-action.action-panel-left[data-v-66bb494a]{background-color:#9932cc;background-color:#1e90ff;color:#fff}#matrix-root[theme=classic] .swipeout-action.action-panel-left[data-v-66bb494a]:hover{background-color:#8a2db8;background-color:#0583ff}#matrix-root[theme=classic] .swipeout-list-item[data-v-66bb494a]:last-of-type{border-bottom:none}#matrix-root[theme=classic] .card[data-v-66bb494a]{border-radius:3px}",""]),t.exports=e},"753f":function(t,e,i){var a=i("89bb");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("35d6").default;t.exports.__inject__=function(t){n("545af394",a,t)}},7968:function(t,e,i){var a=i("448a");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("35d6").default;t.exports.__inject__=function(t){n("628d9640",a,t)}},8117:function(t,e,i){var a=i("6eea");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("35d6").default;t.exports.__inject__=function(t){n("2169f3c2",a,t)}},8156:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,"",""]),t.exports=e},"89bb":function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".new[data-v-0d0db9f0]{color:#06823a}",""]),t.exports=e},"8d46":function(t,e,i){"use strict";i.r(e);var a=i("d333");for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n)},"8e66":function(t,e,i){"use strict";i.r(e);var a=i("9931");for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n)},9931:function(t,e,i){var a=i("f4a6");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("35d6").default;t.exports.__inject__=function(t){n("d340b7be",a,t)}},"9a41":function(t,e,i){"use strict";i.r(e);var a=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"page chats"},[i("topheader",{staticClass:"topheader"}),i("maincontent",{scopedSlots:t._u([{key:"content",fn:function(){return[i("list")]},proxy:!0}])})],1)},n=[],o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"chats-list",class:{bin:t.pocketnet,bout:!t.pocketnet,minimized:t.minimized,fix:t.pocketnet,active:t.active,empty:t.empty}},[!0!==t.chatsready&&0===this.chats.length?i("div",{staticClass:"listChatLoading"},[i("dummypreviews")],1):i("div",{staticClass:"Swipes"},[i("transition",{attrs:{name:"fade"}},[i("div",{staticClass:"mobileList"},[i("swipe-list",{ref:"list",staticClass:"card",attrs:{disabled:!t.enabled||t.minimized&&!t.active,items:t.chats,"item-key":"id",revealed:t.revealed,"item-disabled":function(t){var e=t.disabled;return e}},on:{"update:revealed":function(e){t.revealed=e},closed:function(e){return t.setLastEvent("closed",e)},leftRevealed:function(e){return t.setLastEvent("leftRevealed",e)},rightRevealed:function(e){return t.setLastEvent("rightRevealed",e)}},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.item;e.index,e.revealLeft,e.revealRight,e.close,e.revealed,e.disabled;return[i("div",{ref:"content",staticClass:"card-content",on:{click:function(e){return t.itemClick(a)}}},[i("router-link",{attrs:{to:"chat?id="+a.roomId}},[i("preview",{attrs:{chat:a}})],1)],1)]}},{key:"left",fn:function(t){t.item;var e=t.close;t.index;return[i("div",{staticClass:"swipeout-action red",attrs:{title:"remove"},on:{click:e}}),i("div",{staticClass:"swipeout-action purple",on:{click:e}})]}},{key:"right",fn:function(e){var a=e.item,n=e.close;return[i("div",{staticClass:"swipeout-action blue",on:{click:n}},[i("button",{staticClass:"removeRoom",on:{click:function(e){return t.removeRoom(a.roomId)}}},[i("i",{staticClass:"fa fa-trash"})])])]}},{key:"empty",fn:function(){return[i("div",[t._v(" list is empty ( filtered or just empty ) ")])]},proxy:!0}])})],1)]),i("transition",{attrs:{name:"fade"}},[i("RecycleScroller",{staticClass:"scroller",attrs:{items:t.chats,"item-size":2,"key-field":"roomId"},scopedSlots:t._u([{key:"default",fn:function(e){var a=e.item;return[i("div",{staticClass:"desktopList"},[i("div",{ref:"content",staticClass:"card-content",on:{click:function(e){return t.itemClick(a)}}},[i("router-link",{attrs:{to:"chat?id="+a.roomId}},[i("preview",{attrs:{chat:a}})],1)],1)])]}}])})],1)],1),t.chatsready&&0===this.prechats.length?i("div",{staticClass:"startnewchat"},[t._m(0),i("contact",{attrs:{contact:t.activeuser}}),i("div",{staticClass:"buttonWrapper"},[i("router-link",{attrs:{to:"contacts?startnew=true"}},[i("button",{staticClass:"button small bright rounded"},[t._v("Start a new chat")])])],1)],1):t._e()])},s=[function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"captionWrapper"},[i("span",[t._v("Welcome to Pocketnet chat")])])}],r=i("5530"),c=(i("4de4"),i("2f62")),d=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"dummypreviews"}},t._l(t.a,(function(t){return i("preview",{key:t.id,attrs:{dummy:!0}})})),1)},l=[],u=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"chatsPreview",class:{minimized:t.minimized,active:t.active}},[i("div",{staticClass:"work"},[i("div",{staticClass:"previewWrapper"},[i("div",{staticClass:"iconWrapper"},[t.dummy?i("div",{staticClass:"dummyicon loadinggradient"}):i("chatIcon",{attrs:{chat:t.m_chat}})],1),i("div",{staticClass:"infoWrapper"},[t.dummy?t._e():i("div",{staticClass:"summaryLine"},[i("div",{staticClass:"caption flexBlock"},[i("chatName",{attrs:{preview:!0,chat:t.m_chat}}),t.roomMuted?i("div",{staticClass:"roomMuted"},[i("i",{staticClass:"fas fa-bell-slash"})]):t._e()],1),i("div",{staticClass:"time"},[i("chatTime",{attrs:{chat:t.m_chat}})],1)]),t.dummy?i("div",{staticClass:"eventsLine"},[i("div",{staticClass:"dummyline loadinggradient"})]):i("div",{staticClass:"eventsLine"},[t.event?i("event",{attrs:{event:t.event,chat:t.m_chat,preview:!0}}):i("div",{staticClass:"emptyEvent"},[i("span",[t._v("Chat created")])])],1)])])])])},f=[],v=i("aa20"),p=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"chatTime"},[t.time?i("date",{attrs:{date:t.time}}):i("span",{staticClass:"new"},[t._v("New")])],1)},h=[],m={name:"chatTime",props:{chat:Object},computed:{time:function(){var t=this.chat.getLastActiveTimestamp()||-1;return t<0?null:t}}},b=m,_=i("2877");function w(t){var e=i("3a9b");e.__inject__&&e.__inject__(t)}var x=Object(_["a"])(b,p,h,!1,w,"0d0db9f0",null,!0),g=x.exports,y=i("3094"),k=i("6167"),L={name:"chatsPreview",props:{chat:Object,dummy:Boolean},components:{chatName:v["a"],chatTime:g,chatIcon:y["a"],event:k["a"]},data:function(){return{loading:!1,roomMuted:!1}},computed:Object(c["c"])(Object(r["a"])({auth:function(t){return t.auth},m_chat:function(){var t=this.core.mtrx.client._pushProcessor.getPushRuleById(this.chat.roomId);if(null!==t&&(this.roomMuted=!0),this.chat.roomId){var e=this.core.mtrx.client.getRoom(this.chat.roomId);return e||{}}},event:function(){if(this.chat.roomId){var t=(this.m_chat||{}).timeline||[];if(t.length){if(this.m_chat.currentState.getMembers().length<=2&&"m.room.power_levels"===t[t.length-1].event.type)return;return t[t.length-1]}}}},Object(c["c"])(["minimized","active"]))),methods:{}},j=L;function C(t){var e=i("3d97");e.__inject__&&e.__inject__(t);var a=i("f728");a.__inject__&&a.__inject__(t);var n=i("a401");n.__inject__&&n.__inject__(t);var o=i("f213");o.__inject__&&o.__inject__(t)}var R=Object(_["a"])(j,u,f,!1,C,"0a11fb56",null,!0),$=R.exports,E={name:"dummypreviews",props:{data:Object},components:{preview:$},computed:Object(c["c"])({auth:function(t){return t.auth},a:function(){return[1,2,3,4,5,6]}}),methods:{}},O=E;function M(t){}var z=Object(_["a"])(O,d,l,!1,M,"1f2333a4",null,!0),W=z.exports,S=i("d3ff");const A={};function T(t){return 0===t.button}function P(t){return t.touches&&t.touches[0]?t=t.touches[0]:t.changedTouches&&t.changedTouches[0]&&(t=t.changedTouches[0]),{top:t.clientY,left:t.clientX}}Object.defineProperty(A,"passive",{configurable:!0,get(){let t;try{const e=Object.defineProperty({},"passive",{get(){t={passive:!0}}});window.addEventListener("qtest",null,e),window.removeEventListener("qtest",null,e)}catch(e){}return A.passive=t,t},set(t){Object.defineProperty(this,"passive",{value:t})}});function I(t,e,i){const{target:a}=e;i.touchTargetObserver=new MutationObserver(()=>{!1===t.contains(a)&&i.end(e)}),i.touchTargetObserver.observe(t,{childList:!0,subtree:!0})}function F(t){void 0!==t.touchTargetObserver&&(t.touchTargetObserver.disconnect(),t.touchTargetObserver=void 0)}function q(t){const e=!0!==t.horizontal&&!0!==t.vertical,i={all:!0===e||!0===t.horizontal&&!0===t.vertical};return!0!==t.horizontal&&!0!==e||(i.horizontal=!0),!0!==t.vertical&&!0!==e||(i.vertical=!0),i}function D(t,e,i){const a=P(t);let n;const o=a.left-e.event.x,s=a.top-e.event.y,r=Math.abs(o),c=Math.abs(s);return n=e.direction.horizontal&&!e.direction.vertical?o<0?"left":"right":!e.direction.horizontal&&e.direction.vertical?s<0?"up":"down":r>=c?o<0?"left":"right":s<0?"up":"down",{evt:t,position:a,direction:n,isFirst:e.event.isFirst,isFinal:!0===i,isMouse:e.event.mouse,duration:(new Date).getTime()-e.event.time,distance:{x:r,y:c},offset:{x:o,y:s},delta:{x:a.left-e.event.lastX,y:a.top-e.event.lastY}}}function K(t,e){return!(!t.direction.horizontal||!t.direction.vertical)||(t.direction.horizontal&&!t.direction.vertical?Math.abs(e.delta.x)>0:!t.direction.horizontal&&t.direction.vertical?Math.abs(e.delta.y)>0:void 0)}var B={name:"touch-pan",bind(t,e){const i=!0===e.modifiers.mouse,a=!0!==e.modifiers.mouseMightPrevent&&!0!==e.modifiers.mousePrevent,n=void 0===A.passive||{passive:a,capture:!0},o=!0!==e.modifiers.mightPrevent&&!0!==e.modifiers.prevent,s=o?A.passive:null;function r(t,a){i&&a?(e.modifiers.mouseStop&&t.stopPropagation(),e.modifiers.mousePrevent&&t.preventDefault()):(e.modifiers.stop&&t.stopPropagation(),e.modifiers.prevent&&t.preventDefault())}const c={handler:e.value,direction:q(e.modifiers),mouseStart(t){T(t)&&(document.addEventListener("mousemove",c.move,n),document.addEventListener("mouseup",c.mouseEnd,n),c.start(t,!0))},mouseEnd(t){document.removeEventListener("mousemove",c.move,n),document.removeEventListener("mouseup",c.mouseEnd,n),c.end(t)},start(e,i){F(c),!0!==i&&I(t,e,c);const a=P(e);c.event={x:a.left,y:a.top,time:(new Date).getTime(),mouse:!0===i,detected:!1,abort:!1,isFirst:!0,isFinal:!1,lastX:a.left,lastY:a.top}},move(t){if(!c.event)return;if(!0===c.event.abort)return;if(!0===c.event.detected){r(t,c.event.mouse);const e=D(t,c,!1);return void(K(c,e)&&(c.handler(e),c.event.lastX=e.position.left,c.event.lastY=e.position.top,c.event.isFirst=!1))}const i=P(t),a=Math.abs(i.left-c.event.x),n=Math.abs(i.top-c.event.y);a!==n&&(c.event.detected=!0,!1!==c.direction.all||!1!==c.event.mouse&&!0===e.modifiers.mouseAllDir||(c.event.abort=c.direction.vertical?a>n:a<n),!0!==c.event.abort&&(document.documentElement.style.cursor="grabbing",document.body.classList.add("swipeout-no-pointer-events"),document.body.classList.add("swipeout-non-selectable")),c.move(t))},end(t){c.event&&(!0!==c.event.mouse&&F(c),document.documentElement.style.cursor="",document.body.classList.remove("swipeout-no-pointer-events"),document.body.classList.remove("swipeout-non-selectable"),!0!==c.event.abort&&!0===c.event.detected&&!0!==c.event.isFirst&&(r(t,c.event.mouse),c.handler(D(t,c,!0))))}};t.__qtouchpan&&(t.__qtouchpan_old=t.__qtouchpan),t.__qtouchpan=c,!0===i&&t.addEventListener("mousedown",c.mouseStart,n),t.addEventListener("touchstart",c.start,s),t.addEventListener("touchmove",c.move,s),t.addEventListener("touchcancel",c.end,s),t.addEventListener("touchend",c.end,s)},update(t,{oldValue:e,value:i,modifiers:a}){const n=t.__qtouchpan;e!==i&&(n.handler=i),a.horizontal===n.direction.horizontal&&a.vertical===n.direction.vertical||(n.direction=q(a))},unbind(t,e){const i=t.__qtouchpan_old||t.__qtouchpan;if(void 0!==i){F(i),document.documentElement.style.cursor="",document.body.classList.remove("swipeout-no-pointer-events"),document.body.classList.remove("swipeout-non-selectable");const a=!0===e.modifiers.mouse,n=!0!==e.modifiers.mouseMightPrevent&&!0!==e.modifiers.mousePrevent,o=void 0===A.passive||{passive:n,capture:!0},s=!0!==e.modifiers.mightPrevent&&!0!==e.modifiers.prevent,r=s?A.passive:null;!0===a&&(t.removeEventListener("mousedown",i.mouseStart,o),document.removeEventListener("mousemove",i.move,o),document.removeEventListener("mouseup",i.mouseEnd,o)),t.removeEventListener("touchstart",i.start,r),t.removeEventListener("touchmove",i.move,r),t.removeEventListener("touchcancel",i.end,r),t.removeEventListener("touchend",i.end,r),delete t[t.__qtouchpan_old?"__qtouchpan_old":"__qtouchpan"]}}};function N(t){return 0===t?"":`translate3d(${t}px, 0, 0)`}function U(t){return t?t.clientWidth:0}function X(t,e){return!t&&!e||t===e}var G={name:"SwipeOut",directives:{touchPan:B},props:{threshold:{type:Number,default:45},revealed:{type:[String,Boolean]},disabled:{type:Boolean,default:!1},passiveListeners:{type:Boolean,default:!1}},watch:{revealed(t){this.innerRevealed!==t&&this._reveal(t,!0)}},data(){return{innerRevealed:this.revealed||!1}},methods:{closeActions(){this.close()},close(){this._isActive||this._reveal(!1,!0)},revealLeft(){!this._isActive&&this.$refs.left&&this._reveal("left",!0)},revealRight(){!this._isActive&&this.$refs.right&&this._reveal("right",!0)},_distanceSwiped(){const t=this.$refs.content.getBoundingClientRect(),e=this.$el.getBoundingClientRect();return t.left-e.left-this.$el.clientLeft},_onPan(t){return this.disabled?null:t.isFirst?this._startListener(t):this._isActive?t.isFinal?this._stopListener(t):this._swipeListener(t):null},_startListener({distance:t}){this.$el.classList.add("swipeout--no-transition"),t.y<=5&&(this._leftActionsWidth=this.$refs.left?this.$refs.left.clientWidth:0,this._rightActionsWidth=this.$refs.right?this.$refs.right.clientWidth:0,this._startLeft=this._distanceSwiped(),this._isActive=!0,this.$emit("active",!0),clearTimeout(this._timer))},_swipeListener({offset:t}){const e=t.x+this._startLeft;return!this.$scopedSlots.left&&e>0||!this.$scopedSlots.right&&e<0?this._animateSlide(0):this._animateSlide(t.x+this._startLeft)},_stopListener({offset:t,distance:e}){this.$el.classList.remove("swipeout--no-transition"),this._isActive=!1,this.$emit("active",!1);const i=this._startLeft+t.x;return 0===this._startLeft&&Math.abs(i)<=this.threshold||e.x>=this.threshold&&(this._startLeft>0&&e.x<this._leftActionsWidth||this._startLeft<0&&e.x<this._rightActionsWidth)?this._reveal(!1):this._reveal(i>0?"left":"right")},_reveal(t,e){if(!this._isActive||!X(this.innerRevealed,t))return t&&!this.$refs[t]&&(t=!1),this.innerRevealed=t,this.$emit("update:revealed",t),t?"left"===t&&this.$refs.left?(this._leftActionsWidth=e?U(this.$refs.left):this._leftActionsWidth,this._animateSlide(this._leftActionsWidth),this.$emit("revealed",{side:"left",close:this.closeActions}),void this.$emit("leftRevealed",{close:this.closeActions})):void("right"===t&&this.$refs.right&&(this._rightActionsWidth=e?U(this.$refs.right):this._rightActionsWidth,this._animateSlide(-this._rightActionsWidth),this.$emit("revealed",{side:"right",close:this.closeActions}),this.$emit("rightRevealed",{close:this.closeActions}))):(this._animateSlide(0),void this.$emit("closed"))},_shiftLeftActions(t){if(!this.$scopedSlots.left)return;t<0&&(t=0);const e=this.$refs.left,i=this._leftActionsWidth,a=1-Math.min(t/i,1),n=Math.min(t,i),{children:o}=e,{length:s}=o;for(let r=0;r<s;r++){const t=o[r],e=i-t.offsetLeft-t.offsetWidth;t.style.transform=N(n+e*a),s>1&&(t.style.zIndex=""+(s-r))}},_shiftRightActions(t){if(!this.$scopedSlots.right)return;t>0&&(t=0);const e=this.$refs.right,i=this._rightActionsWidth,a=1+Math.max(t/i,-1),n=Math.max(t,-i),{children:o}=e;for(let s=0;s<o.length;s++){const t=o[s];t.style.transform=N(n-t.offsetLeft*a)}},_animateSlide(t){cancelAnimationFrame(this._frame),this._frame=requestAnimationFrame(()=>{this.$refs.content.style.transform=N(t),this._shiftLeftActions(t),this._shiftRightActions(t)})}},render(t){const e=[],{left:i,right:a,default:n}=this.$scopedSlots;return i&&e.push(t("div",{ref:"left",staticClass:"swipeout-left"},i({close:this.closeActions}))),a&&e.push(t("div",{ref:"right",staticClass:"swipeout-right"},a({close:this.closeActions}))),e.push(t("div",{ref:"content",staticClass:"swipeout-content",directives:this.disabled||!i&&!a?null:[{name:"touch-pan",value:this._onPan,modifiers:{horizontal:!0,mouse:!0,prevent:!this.passiveListeners,mousePrevent:!0}}]},n?n({revealLeft:this.revealLeft,revealRight:this.revealRight,disabled:this.disabled,close:this.closeActions,revealed:this.innerRevealed}):null)),t("div",{staticClass:"swipeout",class:{"swipeout--disabled":this.disabled}},e)},beforeDestroy(){clearTimeout(this._timer),cancelAnimationFrame(this._frame)}},Y={name:"SwipeList",props:{items:{type:Array,required:!0},itemKey:{type:String},transitionKey:{type:String},threshold:{type:Number,default:45},revealed:{type:Object},disabled:{type:Boolean,default:!1},itemDisabled:{type:Function,default:()=>!1},passiveListeners:{type:Boolean,default:!1}},data(){return{innerRevealed:this.revealed||{},rev:this.items.map(()=>null)}},watch:{revealed(t){this.innerRevealed=t},items(){this._emitRevealed({})}},methods:{revealRight(t){this.$refs.items[t]&&this.$refs.items[t].revealRight()},revealLeft(t){this.$refs.items[t]&&this.$refs.items[t].revealLeft()},close(t){if(this.$refs.items){if(void 0===t)return this.$refs.items.forEach(t=>t.close());if(this.$refs.items[t])return this.$refs.items[t].close()}},isRevealed(t){return this.innerRevealed[t]||!1},closeActions(t){this.close(t)},_onReveal(t,e,i){this.$emit("revealed",{index:e,item:t,side:i.side,close:i.close}),this._emitRevealed({...this.innerRevealed,[e]:i.side})},_onClose(t,e){this.$emit("closed",{index:e,item:t});const{[e]:i,...a}=this.innerRevealed;this._emitRevealed(a)},_getItemKey(t,e){const i=this.itemKey||this.transitionKey;return void 0!==i?t[this.itemKey||this.transitionKey]:e},_emitRevealed(t){void 0===this.revealed?this.innerRevealed=t:this.$emit("update:revealed",t)},__renderItem(t,e,i){const{left:a,right:n,default:o}=this.$scopedSlots,s={};return a&&(s.left=({close:t})=>a({item:e,close:t,index:i})),n&&(s.right=({close:t})=>n({item:e,close:t,index:i})),s.default=({close:a,disabled:n,revealLeft:s,revealRight:r,revealed:c})=>t("div",{ref:"itemsContent",on:{click:()=>this.$emit("swipeout:click",e)}},o({item:e,index:i,close:a,disabled:n,revealed:c,revealLeft:s,revealRight:r})),t(G,{key:i,ref:"items",refInFor:!0,staticClass:"swipeout-list-item",props:{disabled:this.disabled||this.itemDisabled(e),threshold:this.threshold,revealed:this.innerRevealed[i],passiveListeners:this.passiveListeners},on:{revealed:t=>this._onReveal(e,i,t),leftRevealed:t=>this.$emit("leftRevealed",{index:i,item:e,close:t.close}),rightRevealed:t=>this.$emit("rightRevealed",{index:i,item:e,close:t.close}),closed:t=>this._onClose(e,i,t),active:t=>this.$emit("active",t)},scopedSlots:s})}},render(t){return t("div",{staticClass:"swipeout-list",class:{"swipeout--disabled":this.disabled}},this.items.map((e,i)=>this.__renderItem(t,e,i)))}},V=i("9767"),H=i("c1df"),J=i.n(H),Q=i("c46f"),Z={name:"chatsList",data:function(){return{loading:!1,textValue:"",enabled:!0,page:0,revealed:{},lastEventDescription:""}},components:{preview:$,SwipeOut:G,SwipeList:Y,userspic:V["a"],dummypreviews:W,contact:S["a"]},props:{user_data:{type:String,default:function(){}}},created:function(){},watch:{},beforeRouteEnter:function(t,e,i){i()},beforeRouteUpdate:function(t,e,i){i()},beforeDestroy:function(){window.removeEventListener("keydown",this.onKeyDown),window.removeEventListener("keyup",this.onKeyUp)},computed:Object(c["c"])(Object(r["a"])(Object(r["a"])({auth:function(t){return t.auth}},Object(c["c"])(["minimized","active","pocketnet","chatsready","prechats","chats"])),{},{rooms:function(){return this.core.mtrx.client.getRooms()},empty:function(){return this.core.mtrx.ready&&0===this.chats.length},chats:function(t){var e=Q["a"].sortBy(t.chats,(function(t){return t.lastModified}));return e.reverse()},activeuser:function(){return this.core.user.userinfo}})),methods:{moment:function(){return J()()},dd:function(t){},revealFirstRight:function(){this.$refs.list.revealRight(0)},revealFirstLeft:function(){this.$refs.list.revealLeft(0)},remove:function(t){this.$set(this.mockSwipeList,this.page,this.mockSwipeList[this.page].filter((function(e){return e!==t})))},setLastEvent:function(t,e){var i=e.item,a=e.index;this.lastEventDescription={name:t,index:a,id:i.id}},itemClick:function(t){},fbClick:function(t){},sbClick:function(t){},onKeyDown:function(t){16===t.keyCode&&(this.enabled=!1)},onKeyUp:function(t){16===t.keyCode&&(this.enabled=!0)},removeRoom:function(t){this.core.mtrx.client.leave(t)}},mounted:function(){window.addEventListener("keydown",this.onKeyDown),window.addEventListener("keyup",this.onKeyUp)}},tt=Z;function et(t){var e=i("0c1b");e.__inject__&&e.__inject__(t);var a=i("58bc");a.__inject__&&a.__inject__(t);var n=i("4fdb");n.__inject__&&n.__inject__(t);var o=i("8e66");o.__inject__&&o.__inject__(t);var s=i("5152");s.__inject__&&s.__inject__(t)}var it=Object(_["a"])(tt,o,s,!1,et,"66bb494a",null,!0),at=it.exports,nt=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{attrs:{id:"chatsTopheader"}},[i("topheader",{scopedSlots:t._u([{key:"left",fn:function(){return[t.minimized&&!t.active||!t.pocketnet?t._e():i("div",{staticClass:"iconbutton",on:{click:t.minimizeall}},[i("i",{staticClass:"far fa-window-minimize"})])]},proxy:!0},{key:"info",fn:function(){return[i("span",[t._v("Chats")])]},proxy:!0},{key:"right",fn:function(){return[t.minimized&&!t.active||!t.pocketnet?t._e():i("div",{staticClass:"iconbutton",on:{click:t.newchatmenu}},[i("i",{staticClass:"fas fa-plus"})])]},proxy:!0}])}),t.newchatopened?i("modal",{on:{close:t.newchatmenu},scopedSlots:t._u([{key:"header",fn:function(){return[t._v(" New Chat ")]},proxy:!0},{key:"body",fn:function(){return["GroupsCreate"===t.startMode?i("contacts",{attrs:{mode:t.startMode,source:"window"}}):t._e()]},proxy:!0},{key:"footer",fn:function(){},proxy:!0}],null,!1,216845157)}):t._e()],1)},ot=[],st=i("71da"),rt={name:"chatsTopheader",props:{},components:{contacts:st["a"]},data:function(){return{loading:!1,newchatopened:!1,createGroup:!1,contacts:!1,startMode:"GroupsCreate"}},created:function(){this.$store.commit("SET_CURRENT_ROOM","all")},destroyed:function(){this.$store.commit("SET_CURRENT_ROOM",!1)},watch:{},beforeRouteEnter:function(t,e,i){i()},beforeRouteUpdate:function(t,e,i){i()},computed:Object(c["c"])({auth:function(t){return t.auth},minimized:function(t){return t.minimized},pocketnet:function(t){return t.pocketnet},active:function(t){return t.active}}),methods:{newchatmenu:function(){this.newchatopened=!this.newchatopened},newchat:function(t){var e=this;this.newchatopened=!1;var i=this.core.mtrx.kit.tetatetid(t,this.core.user.userinfo);setTimeout((function(){e.$router.push("chat?id="+i+"&u="+t.id)}),400)},minimizeall:function(){this.$store.commit("minimize",!0)}}},ct=rt;function dt(t){var e=i("686b");e.__inject__&&e.__inject__(t);var a=i("c5ed");a.__inject__&&a.__inject__(t);var n=i("bfea");n.__inject__&&n.__inject__(t);var o=i("8d46");o.__inject__&&o.__inject__(t)}var lt=Object(_["a"])(ct,nt,ot,!1,dt,"879774c2",null,!0),ut=lt.exports,ft={name:"pagechats",components:{list:at,topheader:ut},computed:Object(c["c"])({pocketnet:function(t){return t.pocketnet},minimized:function(t){return t.minimized}}),methods:{},mounted:function(){}},vt=ft;function pt(t){var e=i("6edf");e.__inject__&&e.__inject__(t)}var ht=Object(_["a"])(vt,a,n,!1,pt,"39701000",null,!0);e["default"]=ht.exports},a052:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,"",""]),t.exports=e},a2553:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".toggleChatGroup[data-v-879774c2]{list-style:none;padding:0;margin:0;display:flex;justify-content:flex-start;align-items:center}.toggleChatGroup li[data-v-879774c2]{margin-right:10px;padding:10px 0}",""]),t.exports=e},a401:function(t,e,i){"use strict";i.r(e);var a=i("ae5d");for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n)},ae5d:function(t,e,i){var a=i("f3af");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("35d6").default;t.exports.__inject__=function(t){n("34377e02",a,t)}},bf71:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".topheader[data-v-39701000]{top:0;z-index:999}",""]),t.exports=e},bfea:function(t,e,i){"use strict";i.r(e);var a=i("6cbb");for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n)},c5ed:function(t,e,i){"use strict";i.r(e);var a=i("6ced");for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n)},d333:function(t,e,i){var a=i("123a");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("35d6").default;t.exports.__inject__=function(t){n("5da30986",a,t)}},e075:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,".minimized .previewWrapper[data-v-0a11fb56]{padding:0;padding-bottom:.5em;transition:.3s;-webkit-transition:all .2s}.minimized.active .previewWrapper[data-v-0a11fb56]{padding:.5em 0}.minimized.active .dummyline[data-v-0a11fb56]{height:44px;opacity:.3}.minimized.active .dummyicon[data-v-0a11fb56]{width:44px;height:44px;opacity:.3}.previewWrapper[data-v-0a11fb56]{cursor:pointer;display:flex;align-items:center;padding:.5em}.previewWrapper .dummyline[data-v-0a11fb56]{margin-top:.25em;height:22px;border-radius:5px;transition:.3s}.previewWrapper .dummyicon[data-v-0a11fb56]{width:22px;height:22px;border-radius:50%;margin:0 auto;transition:.3s}.previewWrapper .iconWrapper[data-v-0a11fb56]{width:44px;display:flex;align-items:center;margin-top:5px;min-width:44px}.previewWrapper .infoWrapper[data-v-0a11fb56]{padding-left:.5em;flex-grow:1;overflow:hidden;text-overflow:ellipsis}.emptyEvent span[data-v-0a11fb56]{color:#06823a;font-size:.8em}.eventsLine[data-v-0a11fb56]{position:relative}.eventsLine .roomMuted[data-v-0a11fb56]{position:absolute;right:8px;top:0}.eventsLine .roomMuted i[data-v-0a11fb56]{color:#606369}.eventsLine[data-v-0a11fb56] .messagePreview{max-width:90%;overflow:hidden;text-overflow:ellipsis}.eventsLine[data-v-0a11fb56] span{color:#606369;font-size:.9em;overflow:hidden;white-space:nowrap;text-overflow:ellipsis}.roomMuted[data-v-0a11fb56]{position:relative;top:-3px;left:6px}.roomMuted i[data-v-0a11fb56]{font-size:.7em}.summaryLine[data-v-0a11fb56]{display:flex}.summaryLine .time[data-v-0a11fb56]{text-align:right;padding-top:.25em;white-space:nowrap;text-overflow:ellipsis;padding-right:.5em}.summaryLine .time[data-v-0a11fb56] span{font-size:.8em;display:block}.summaryLine .caption[data-v-0a11fb56]{padding-top:.25em;flex-grow:1;display:flex;align-items:center}.summaryLine .caption[data-v-0a11fb56] span{font-size:.9em;overflow:hidden;white-space:nowrap;text-overflow:ellipsis;font-weight:700;display:inline-block;max-width:150px}",""]),t.exports=e},ee4e:function(t,e,i){var a=i("0423");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("35d6").default;t.exports.__inject__=function(t){n("67651004",a,t)}},f16e:function(t,e,i){var a=i("fb32");a.__esModule&&(a=a.default),"string"===typeof a&&(a=[[t.i,a,""]]),a.locals&&(t.exports=a.locals);var n=i("35d6").default;t.exports.__inject__=function(t){n("d2e5ebf2",a,t)}},f213:function(t,e,i){"use strict";i.r(e);var a=i("26a1");for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n)},f3af:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,"#matrix-root[theme=black] .minimized .previewWrapper[data-v-0a11fb56]{transition:.3s}#matrix-root[theme=black] .previewWrapper .dummyline[data-v-0a11fb56]{border-radius:5px;transition:.3s}#matrix-root[theme=black] .previewWrapper .dummyicon[data-v-0a11fb56]{border-radius:50%;transition:.3s}#matrix-root[theme=black] .emptyEvent span[data-v-0a11fb56]{color:#068222}#matrix-root[theme=black] .eventsLine .roomMuted i[data-v-0a11fb56],#matrix-root[theme=black] .eventsLine[data-v-0a11fb56] span{color:#92979d}",""]),t.exports=e},f4a6:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,"#matrix-root[theme=black] .removeRoom i[data-v-66bb494a]{color:#fff}#matrix-root[theme=black] .previewWrapper[data-v-66bb494a]:last-child{border-bottom:0}#matrix-root[theme=black] .swipeout-action>div.action-panel-right>div[data-v-66bb494a]{background-color:#1e90ff;color:#fff}#matrix-root[theme=black] .swipeout-action>div.action-panel-right>div[data-v-66bb494a]:hover{background-color:#0583ff}#matrix-root[theme=black] .swipeout-action.action-panel-left[data-v-66bb494a]{background-color:#9932cc;background-color:#1e90ff;color:#fff}#matrix-root[theme=black] .swipeout-action.action-panel-left[data-v-66bb494a]:hover{background-color:#8a2db8;background-color:#0583ff}#matrix-root[theme=black] .swipeout-list-item[data-v-66bb494a]:last-of-type{border-bottom:none}#matrix-root[theme=black] .card[data-v-66bb494a]{border-radius:3px}",""]),t.exports=e},f728:function(t,e,i){"use strict";i.r(e);var a=i("688e7");for(var n in a)["default"].indexOf(n)<0&&function(t){i.d(e,t,(function(){return a[t]}))}(n)},fb32:function(t,e,i){var a=i("24fb");e=a(!1),e.push([t.i,"/*!\n * vue-swipe-actions v2.0.0-beta.20\n * (c) 2016-present eCollect\n * Released under the MIT License.\n */.swipeout{position:relative;overflow:hidden;display:flex}.swipeout .swipeout-left,.swipeout .swipeout-right{position:absolute;height:100%;display:flex;z-index:1}.swipeout .swipeout-left{left:0;transform:translateX(-100%)}.swipeout .swipeout-right{right:0;transform:translateX(100%)}.swipeout .swipeout-action,.swipeout .swipeout-content{transition:transform .2s;will-change:transform}.swipeout.swipeout--no-transition .swipeout-action,.swipeout.swipeout--no-transition .swipeout-content{transition:none!important}.swipeout .swipeout-content{width:100%}.swipeout-non-selectable{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}.swipeout-no-pointer-events{pointer-events:none!important}.swipeout-list{display:flex;flex-direction:column}.swipeout-list-item{flex:1}",""]),t.exports=e}}]);
//# sourceMappingURL=matrix-element.6.min.js.map